

/* Copyright Plotly Inc. 
All material herein is subject to copyright and 1-year license terms as described at 
https://plot.ly/licensing. Using or modifying this file is strictly prohibited without
purchasing a license or receiving written permission from Plotly Inc */


!function(){"use strict";for(var t,e=function(){},r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],n=r.length,o=window.console=window.console||{};n--;)t=r[n],o[t]||(o[t]=e)}(),function(){"use strict";function t(t){var e=t.type;return"r"in t?void console.log("Oops, tried to put a polar trace of type "+e+" on an incompatible graph of cartesian data. Ignoring this dataset."):L.isScatter(e)?Plotly.Scatter:L.isBar(e)?Plotly.Bars:L.isContour(e)?Plotly.Contour:L.isHeatmap(e)?Plotly.Heatmap:L.isScatter3D(e)?Plotly.Scatter3D:L.isSurface(e)?Plotly.Surface:L.isBox(e)?Plotly.Boxes:void console.log("Unrecognized plot type "+e+". Ignoring this dataset.")}function e(t,e){t._context||(t._context=$.extend({},L.defaultConfig));var r=t._context;e&&Object.keys(e).forEach(function(t){t in r&&(r[t]=e[t])}),Object.keys(L.defaultConfig).forEach(function(r){t[r]=e&&r in e?e[r]:L.defaultConfig[r]}),r.staticPlot&&(r.workspace=!1,r.editable=!1,r.autosizable=!1,r.scrollZoom=!1,r.showTips=!1,r.showLink=!1)}function r(t,e){e.text("");var r=e.append("a").attr({"xlink:xlink:href":"#","class":"link--impt link--embedview","font-weight":"bold"}).text((Plotly.LINKTEXT||"Play with this data!")+" "+String.fromCharCode(187));if(t._context.sendData)r.on("click",function(){$(t).trigger("plotly_beforeexport");var e=$('<div id="hiddenform" style="display:none;"><form action="https://plot.ly/external" method="post" target="_blank"><input type="text" name="data" /></form></div>').appendTo(t);return e.find("input").val(L.graphJson(t,!1,"keepdata")),e.find("form").submit(),e.remove(),$(t).trigger("plotly_afterexport"),!1});else{var n=window.location.pathname.split("/");r.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+n[1]+"/"+n[2].split(".")[0]})}}function n(t){function e(t,e){var r=0,n=null,o=[];for(r;r<t.length;++r)n=t[r],n.scene===e&&o.push(n);return o}var r=t._fullLayout,n=t._fullData,o=$(t).find(".examples-container");"block"===o.css("display")&&Examples.set(),r._paperdiv.style({width:r.width+"px",height:r.height+"px",background:r.paper_bgcolor});var a=Plotly.Lib.getSceneKeys(r),i=0;for(i;i<a.length;++i){var l=a[i],s=e(n,l),c=r[l],u=c._scene;if(!u){var d={Plotly:Plotly,container:t.querySelector(".svg-container"),sceneKey:l,sceneData:s,sceneLayout:c,fullLayout:r,baseurl:ENV.BASE_URL,glOptions:{preserveDrawingBuffer:t._context.staticPlot}};u=SceneFrame.createScene(d),c._scene=u}u.plot(s,c)}}function o(t,e,r){var n=d3.select(t).selectAll(".plot-container").data([0]);n.enter().insert("div",":first-child").classed("plot-container plotly",!0);var o=n.selectAll(".svg-container").data([0]);o.enter().append("div").classed("svg-container",!0).style("position","relative"),o.html(""),e&&(t.data=e),t._fullLayout=r,t._fullLayout._container=n,t._fullLayout._paperdiv=o,"initial"===t._fullLayout.autosize&&t._context.autosizable&&(w(t,{}),t._fullLayout.autosize=t.layout.autosize=!0),o.style({width:(r.width||800)+"px",height:(r.height||600)+"px",background:r.paper_bgcolor||"white"}),t.framework=micropolar.manager.framework(),r=\u00b5.util.deepExtend({},t._fullLayout),delete r._container,delete r._paperdiv,delete r.autosize,delete r._paper,t.framework({data:t.data,layout:r},o.node()),t.framework.setUndoPoint();var a=t.framework.svg(),i=1,l=t._fullLayout.title;""!==l&&l||(i=0);var s="Click to enter title",c=function(){this.call(Plotly.util.convertToTspans)},u=a.select(".title-group text").call(c);if(t._context.editable){u.attr({"data-unformatted":l}),l&&l!==s||(i=.2,u.attr({"data-unformatted":s}).text(s).style({opacity:i}).on("mouseover.opacity",function(){d3.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){d3.select(this).transition().duration(1e3).style("opacity",0)}));var d=function(){this.call(Plotly.util.makeEditable).on("edit",function(e){t.framework({layout:{title:e}}),this.attr({"data-unformatted":e}).text(e).call(c),this.call(d)}).on("cancel",function(){var t=this.attr("data-unformatted");this.text(t).call(c)})};u.call(d),t._fullLayout._paperdiv=o,Plotly.ToolPanel.tweakMenu(t)}return t._fullLayout._paper=a,L.addLinks(t),Promise.resolve()}function a(t){t||(t={}),t.xaxis1&&(t.xaxis||(t.xaxis=t.xaxis1),delete t.xaxis1),t.yaxis1&&(t.yaxis||(t.yaxis=t.yaxis1),delete t.yaxis1),Plotly.Axes.list({_fullLayout:t}).forEach(function(t){t.anchor&&"free"!==t.anchor&&(t.anchor=Plotly.Axes.cleanId(t.anchor)),t.overlaying&&(t.overlaying=Plotly.Axes.cleanId(t.overlaying)),t.type||(t.isdate?t.type="date":t.islog?t.type="log":t.isdate===!1&&t.islog===!1&&(t.type="linear")),("withzero"===t.autorange||"tozero"===t.autorange)&&(t.autorange=!0,t.rangemode="tozero"),delete t.islog,delete t.isdate,delete t.categories,l(t,"domain")&&delete t.domain}),(t.annotations||[]).forEach(function(t){t.ref&&("paper"===t.ref?(t.xref="paper",t.yref="paper"):"data"===t.ref&&(t.xref="x",t.yref="y"),delete t.ref),t.xref&&"paper"!==t.xref&&(t.xref=Plotly.Axes.cleanId(t.xref,"x")),t.yref&&"paper"!==t.yref&&(t.yref=Plotly.Axes.cleanId(t.yref,"y"))});var e=Plotly.Lib.getSceneKeys(t);e.forEach(function(e){var r=t[e],n=r.cameraposition;Array.isArray(n)&&$.isPlainObject(n[0])&&(n[0]=[n[0][0],n[0][1],n[0][2],n[0][3]],n[1]=[n[1][0],n[1][1],n[1][2]])});var r=t.legend;return r&&(r.x>3?(r.x=1.02,r.xanchor="left"):r.x<-2&&(r.x=-.02,r.xanchor="right"),r.y>3?(r.y=1.02,r.yanchor="bottom"):r.y<-2&&(r.y=-.02,r.yanchor="top")),t}function i(t,e){var r=[],n=t.concat($.isArray(e)?e:[]).filter(function(t){return"uid"in t}).map(function(t){return t.uid});t.forEach(function(t,e){function o(t){var e="middle",r="center";return-1!==t.indexOf("top")?e="top":-1!==t.indexOf("bottom")&&(e="bottom"),-1!==t.indexOf("left")?r="left":-1!==t.indexOf("right")&&(r="right"),e+" "+r}if(!("uid"in t)||-1!==r.indexOf(t.uid)){var a,i;for(i=0;100>i&&(a=Plotly.Lib.randstr(n),-1!==r.indexOf(a));i++);t.uid=Plotly.Lib.randstr(n),n.push(t.uid)}if(r.push(t.uid),"histogramy"===t.type&&"xbins"in t&&!("ybins"in t)&&(t.ybins=t.xbins,delete t.xbins),t.error_y&&"opacity"in t.error_y){var s=Plotly.Color.defaults,c=t.error_y.color||(L.isBar(t.type)?"#444":s[e%s.length]);t.error_y.color=Plotly.Color.addOpacity(Plotly.Color.rgb(c),Plotly.Color.opacity(c)*t.error_y.opacity),delete t.error_y.opacity}"bardir"in t&&("h"!==t.bardir||!L.isBar(t.type)&&"histogram"!==t.type.substr(0,9)||(t.orientation="h",m(t)),delete t.bardir),"histogramy"===t.type&&m(t),("histogramx"===t.type||"histogramy"===t.type)&&(t.type="histogram"),"scl"in t&&(t.colorscale=t.scl,delete t.scl),"reversescl"in t&&(t.reversescale=t.reversescl,delete t.reversescl),t.xaxis&&(t.xaxis=Plotly.Axes.cleanId(t.xaxis,"x")),t.yaxis&&(t.yaxis=Plotly.Axes.cleanId(t.yaxis,"y")),Array.isArray(t.textposition)?t.textposition=t.textposition.map(o):t.textposition&&(t.textposition=o(t.textposition)),l(t,"line")&&delete t.line,"marker"in t&&(l(t.marker,"line")&&delete t.marker.line,l(t,"marker")&&delete t.marker)})}function l(t,e){return e in t&&"object"==typeof t[e]&&0===Object.keys(t[e]).length}function s(t,e){var r=Plotly.Lib.getSceneKeys(e);r.forEach(function(r){!t[r]&&e[r]._scene&&e[r]._scene.destroy()})}function c(t,e){for(var r,n=Object.keys(e),o=0;o<n.length;++o){var a=n[o];if("_"===a.charAt(0)||"function"==typeof e[a]){if(a in t)continue;t[a]=e[a]}else if(Array.isArray(e[a])&&Array.isArray(t[a])&&e[a].length&&$.isPlainObject(e[a][0])){if(e[a].length!==t[a].length)throw new Error("relinkPrivateKeys needs equal length arrays");for(r=0;r<e[a].length;r++)c(t[a][r],e[a][r])}else $.isPlainObject(e[a])&&$.isPlainObject(t[a])&&(c(t[a],e[a]),Object.keys(t[a]).length||delete t[a])}}function u(e){e.calcdata=[],e._modules=[],e.firstscatter=!0,e.numboxes=0,e._hmpixcount=0,e._hmlumcount=0,Plotly.Axes.list(e).forEach(function(t){t._categories=[]}),e.calcdata=e._fullData.map(function(r,n){var o=t(r),a=[];return o&&r.visible&&(o.calc&&(a=o.calc(e,r)),-1===e._modules.indexOf(o)&&e._modules.push(o)),$.isArray(a)&&a[0]||(a=[{x:!1,y:!1}]),a[0].t||(a[0].t={}),a[0].trace=r,L.isScatter3D(r.type)&&Plotly.Scatter.arraysToCalcdata(a),Plotly.Lib.markTime("done with calcdata for "+n),a})}function d(t){var e=t._fullLayout;Plotly.Axes.getSubplots(t).forEach(function(r){var n=e._plots[r].plot;t._modules.concat(Plotly.ErrorBars).forEach(function(t){t.style&&t.style(n,e)})})}function f(t,e){var r,n,o=e+1,a=[];for(r=0;r<t.length;r++)n=t[r],a.push(0>n?o+n:n);return a}function p(t,e,r){var n,o;for(n=0;n<e.length;n++){if(o=e[n],o!==parseInt(o,10))throw new Error("all values in "+r+" must be integers");if(o>=t.data.length||o<-t.data.length)throw new Error(r+" must be valid indices for gd.data.");if(e.indexOf(o,n+1)>-1||o>=0&&e.indexOf(-t.data.length+o)>-1||0>o&&e.indexOf(t.data.length+o)>-1)throw new Error("each index in "+r+" must be unique.")}}function y(t,e,r){if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if("undefined"==typeof e)throw new Error("currentIndices is a required argument.");if(Array.isArray(e)||(e=[e]),p(t,e,"currentIndices"),"undefined"==typeof r||Array.isArray(r)||(r=[r]),"undefined"!=typeof r&&p(t,r,"newIndices"),"undefined"!=typeof r&&e.length!==r.length)throw new Error("current and new indices must be of equal length.")}function h(t,e,r){var n,o;if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if("undefined"==typeof e)throw new Error("traces must be defined.");for(Array.isArray(e)||(e=[e]),n=0;n<e.length;n++)if(o=e[n],"object"!=typeof o||Array.isArray(o)||null===o)throw new Error("all values in traces array must be non-array objects");if("undefined"==typeof r||Array.isArray(r)||(r=[r]),"undefined"!=typeof r&&r.length!==e.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function g(t,e,r,n){var o=Plotly.Lib.nestedProperty(t,e.replace("?",r||"x")),a=Plotly.Lib.nestedProperty(t,e.replace("?",n||"y")),i=o.get();o.set(a.get()),a.set(i)}function m(t){var e;if(g(t,"?"),g(t,"?0"),g(t,"d?"),g(t,"?bins"),g(t,"nbins?"),g(t,"autobin?"),$.isArray(t.z)&&$.isArray(t.z[0])&&(t.transpose?delete t.transpose:t.transpose=!0),g(t,"?src"),g(t,"error_?"),t.error_x&&t.error_y){var r="copy_ystyle"in t.error_y?t.error_y.copy_ystyle:t.error_y.color||t.error_y.thickness||t.error_y.width?!1:!0;g(t,"error_?.copy_ystyle"),r&&(g(t,"error_?.color"),g(t,"error_?.thickness"),g(t,"error_?.width"))}if(t.hoverinfo){var n=t.hoverinfo.split("+");for(e=0;e<n.length;e++)"x"===n[e]?n[e]="y":"y"===n[e]&&(n[e]="x");t.hoverinfo=n.join("+")}}function v(t,e){var r=t.layout,n=e.xaxis||"x",o=e.yaxis||"y",a=Plotly.Axes.getFromId(t,n),i=a._name,l=Plotly.Axes.getFromId(t,o),s=l._name,c=["anchor","domain","overlaying","position","tickangle"],u=Object.keys(r[i]).filter(function(t){return"_"!==t.charAt(0)&&"function"!=typeof r[i][t]&&-1===c.indexOf(t)});u.forEach(function(t){g(r,"?."+t,i,s)}),(r.annotations||[]).forEach(function(t){t.xref===n&&t.yref===o&&g(t,"?")}),"Click to enter Y axis title"===a.title&&(a.title="Click to enter X axis title"),"Click to enter X axis title"===l.title&&(l.title="Click to enter Y axis title")}function x(t){if(t&&t._context&&t._context.workspace&&t._fullLayout&&"plot"===t.tabtype&&"none"!==$(t).css("display")){var e=$(t).find(".plot-container"),r=t._fullLayout.width>parseInt(e.css("width"),10);t._fullLayout.autosize||!r?e.removeClass("is-fixed-size"):r&&e.addClass("is-fixed-size")}}function b(t){var e,r={left:0,right:0,bottom:0,top:0};if(t)for(e in t)t.hasOwnProperty(e)&&(r.left+=t[e].left||0,r.right+=t[e].right||0,r.bottom+=t[e].bottom||0,r.top+=t[e].top||0);return r}function w(t,e){var r,n,o,a,i=t._fullLayout,l=b(t._boundingBoxMargins);if(t._context.workspace){setFileAndCommentsSize(t);var s=i._container.node().getBoundingClientRect();n=l.left+l.right,r=l.bottom+l.top,a=Math.round(.9*(s.width-n)),o=Math.round(.9*(s.height-r))}else t._context.fillFrame?(a=$(window).width(),o=$(window).height(),$("body").css("overflow","hidden")):(o=$(t).height()||i.height,a=$(t).width()||i.width);return Math.abs(i.width-a)>1||Math.abs(i.height-o)>1?(i.height=t.layout.height=o,i.width=t.layout.width=a):"initial"!==i.autosize&&(delete e.autosize,i.autosize=t.layout.autosize=!0),e}function P(t){function e(t){t.append("g").classed("maplayer",!0),t.append("g").classed("barlayer",!0),t.append("g").classed("errorlayer",!0),t.append("g").classed("boxlayer",!0),t.append("g").classed("scatterlayer",!0)}var r=d3.select(t),n=Plotly.Axes.getSubplots(t),o=t._fullLayout;o._hasGL3D&&Plotly.Gl3dAxes.initAxes(t);var a=o._fileandcomments=r.selectAll(".file-and-comments");a.node()||(a=r),o._container=a.selectAll(".plot-container").data([0]),o._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).classed("workspace-plot",t._context.workspace),o._paperdiv=o._container.selectAll(".svg-container").data([0]),o._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),"initial"===o.autosize&&(t._context.workspace&&setFileAndCommentsSize(t),w(t,{}),o.autosize=!0,t.layout.autosize=!0),o._paperdiv.selectAll("svg").remove(),o._paper=o._paperdiv.append("svg").attr({xmlns:"http://www.w3.org/2000/svg","xmlns:xmlns:xlink":"http://www.w3.org/1999/xlink","xml:xml:space":"preserve"});var i=[];o._plots={},o._paper.selectAll("g.subplot").data(n).enter().append("g").classed("subplot",!0).each(function(r){var a=o._plots[r]={},l=d3.select(this).classed(r,!0);a.id=r,a.x=function(){return Plotly.Axes.getFromId(t,r,"x")},a.y=function(){return Plotly.Axes.getFromId(t,r,"y")};var s=a.x(),c=a.y();a.overlays=[];var u=Plotly.Axes.getFromId(t,s.overlaying)||s;u!==s&&u.overlaying&&(u=s,s.overlaying=!1);var d=Plotly.Axes.getFromId(t,c.overlaying)||c;d!==c&&d.overlaying&&(d=c,c.overlaying=!1);var f=u._id+d._id;f!==r&&-1!==n.indexOf(f)?(a.mainplot=f,i.push(a),s.domain=u.domain.slice(),c.domain=d.domain.slice()):(a.bg=l.append("rect").style("stroke-width",0),a.gridlayer=l.append("g"),a.overgrid=l.append("g"),a.zerolinelayer=l.append("g"),a.overzero=l.append("g"),a.plot=l.append("svg").call(e),a.overplot=l.append("g"),a.xlines=l.append("path"),a.ylines=l.append("path"),a.overlines=l.append("g"),a.xaxislayer=l.append("g"),a.yaxislayer=l.append("g"),a.overaxes=l.append("g")),a.draglayer=o._paper.append("g")}),i.forEach(function(t){var r=o._plots[t.mainplot];r.overlays.push(t),t.gridlayer=r.overgrid.append("g"),t.zerolinelayer=r.overzero.append("g"),t.plot=r.overplot.append("svg").call(e),t.xlines=r.overlines.append("path"),t.ylines=r.overlines.append("path"),t.xaxislayer=r.overaxes.append("g"),t.yaxislayer=r.overaxes.append("g")}),n.forEach(function(t){var e=o._plots[t];e.plot.attr("preserveAspectRatio","none").style("fill","none"),e.xlines.style("fill","none").classed("crisp",!0),e.ylines.style("fill","none").classed("crisp",!0)}),o._infolayer=o._paper.append("g").classed("infolayer",!0),o._hoverlayer=o._paper.append("g").classed("hoverlayer",!0).style("pointer-events","none");var l=Plotly.Lib.syncOrAsync([_,function(){return Plotly.Axes.doTicks(t,"redraw")},Plotly.Fx.init],t);return l&&l.then&&t._promises.push(l),l}function k(t){var e=t._fullLayout;e._size||(e._size={}),e._pushmargin||(e._pushmargin={});var r=e._size,n=JSON.stringify(r),o=Math.max(e.margin.l||0,0),a=Math.max(e.margin.r||0,0),i=Math.max(e.margin.t||0,0),l=Math.max(e.margin.b||0,0),s=e._pushmargin;return e.margin.autoexpand!==!1&&(s.base={l:{val:0,size:o},r:{val:1,size:a},t:{val:1,size:i},b:{val:0,size:l}},Object.keys(s).forEach(function(t){var r=s[t].l||{},n=s[t].b||{},c=r.val,u=r.size,d=n.val,f=n.size;Object.keys(s).forEach(function(t){if($.isNumeric(u)&&s[t].r){var r=s[t].r.val,n=s[t].r.size;if(r>c){var p=(u*r+(n-e.width)*c)/(r-c),y=(n*(1-c)+(u-e.width)*(1-r))/(r-c);p>=0&&y>=0&&p+y>o+a&&(o=p,a=y)}}if($.isNumeric(f)&&s[t].t){var h=s[t].t.val,g=s[t].t.size;if(h>d){var m=(f*h+(g-e.height)*d)/(h-d),v=(g*(1-d)+(f-e.height)*(1-h))/(h-d);m>=0&&v>=0&&m+v>l+i&&(l=m,i=v)}}})})),r.l=Math.round(o),r.r=Math.round(a),r.t=Math.round(i),r.b=Math.round(l),r.p=Math.round(e.margin.pad),r.w=Math.round(e.width)-r.l-r.r,r.h=Math.round(e.height)-r.t-r.b,t._replotting||"{}"===n||n===JSON.stringify(e._size)?void 0:Plotly.plot(t)}function _(t){return Plotly.Lib.syncOrAsync([k,M],t)}function M(t){var e=t._fullLayout,r=e._size;Plotly.Axes.list(t).forEach(function(t){t._linepositions={}}),e._paperdiv.style({width:e.width+"px",height:e.height+"px",background:e.paper_bgcolor}),e._paper.call(Plotly.Drawing.setSize,e.width,e.height);var n=[];return e._paper.selectAll("g.subplot").each(function(o){var a=e._plots[o],i=Plotly.Axes.getFromId(t,o,"x"),l=Plotly.Axes.getFromId(t,o,"y");i.setScale(),l.setScale(),a.bg&&a.bg.call(Plotly.Drawing.setRect,i._offset-r.p,l._offset-r.p,i._length+2*r.p,l._length+2*r.p).call(Plotly.Color.fill,e.plot_bgcolor),a.plot.call(Plotly.Drawing.setRect,i._offset,l._offset,i._length,l._length);var s=Plotly.Drawing.crispRound(t,i.linewidth,1),c=Plotly.Drawing.crispRound(t,l.linewidth,1),u=r.p+c,d="M"+-u+",",f="h"+(i._length+2*u),p="free"===i.anchor&&-1===n.indexOf(i._id),y=r.h*(1-(i.position||0))+s/2%1,h=i.anchor===l._id&&(i.mirror||"top"!==i.side)||"all"===i.mirror||"allticks"===i.mirror||i.mirrors&&i.mirrors[l._id+"bottom"],g=l._length+r.p+s/2,m=i.anchor===l._id&&(i.mirror||"top"===i.side)||"all"===i.mirror||"allticks"===i.mirror||i.mirrors&&i.mirrors[l._id+"top"],v=-r.p-s/2,x=r.p,b=h?0:s,w=m?0:s,P=","+(-x-w)+"v"+(l._length+2*x+w+b),k="free"===l.anchor&&-1===n.indexOf(l._id),_=r.w*(l.position||0)+c/2%1,M=l.anchor===i._id&&(l.mirror||"right"!==l.side)||"all"===l.mirror||"allticks"===l.mirror||l.mirrors&&l.mirrors[i._id+"left"],L=-r.p-c/2,A=l.anchor===i._id&&(l.mirror||"right"===l.side)||"all"===l.mirror||"allticks"===l.mirror||l.mirrors&&l.mirrors[i._id+"right"],z=i._length+r.p+c/2;i._linepositions[o]=[h?g:void 0,m?v:void 0,p?y:void 0],i.anchor===l._id?i._linepositions[o][3]="top"===i.side?v:g:p&&(i._linepositions[o][3]=y),l._linepositions[o]=[M?L:void 0,A?z:void 0,k?_:void 0],l.anchor===i._id?l._linepositions[o][3]="right"===l.side?z:L:k&&(l._linepositions[o][3]=_);var C="translate("+i._offset+","+l._offset+")",S=C,D=C;p&&(S="translate("+i._offset+","+r.t+")",v+=l._offset-r.t,g+=l._offset-r.t),k&&(D="translate("+r.l+","+l._offset+")",L+=i._offset-r.l,z+=i._offset-r.l),a.xlines.attr("transform",S).attr("d",(h?d+g+f:"")+(m?d+v+f:"")+(p?d+y+f:"")||"M0,0").style("stroke-width",s+"px").call(Plotly.Color.stroke,i.showline?i.linecolor:"rgba(0,0,0,0)"),a.ylines.attr("transform",D).attr("d",(M?"M"+L+P:"")+(A?"M"+z+P:"")+(k?"M"+_+P:"")||"M0,0").attr("stroke-width",c+"px").call(Plotly.Color.stroke,l.showline?l.linecolor:"rgba(0,0,0,0)"),a.xaxislayer.attr("transform",S),a.yaxislayer.attr("transform",D),a.gridlayer.attr("transform",C),a.zerolinelayer.attr("transform",C),a.draglayer.attr("transform",C),p&&n.push(i._id),k&&n.push(l._id)}),L.titles(t,"gtitle"),Plotly.Fx.modeBar(t),x(t),t._promises.length&&Promise.all(t._promises)}window.Plotly||(window.Plotly={});var L=Plotly.Plots={};L.isScatter=function(t){return!t||"scatter"===t};var A=["bar","histogram"];L.isBar=function(t){return-1!==A.indexOf(t)},L.isBox=function(t){return"box"===t};var z=["heatmap","histogram2d","contour","histogram2dcontour"];L.isHeatmap=function(t){return-1!==z.indexOf(t)};var C=["contour","histogram2dcontour"];L.isContour=function(t){return-1!==C.indexOf(t)};var S=["histogram2d","histogram2dcontour"];L.isHist2D=function(t){return-1!==S.indexOf(t)};var D=["scatter","box"].concat(A,z);L.isCartesian=function(t){return-1!==D.indexOf(t)};var O=["scatter3d","surface"];L.isGL3D=function(t){return-1!==O.indexOf(t)},L.isScatter3D=function(t){return"scatter3d"===t},L.isScatterAny=function(t){return L.isScatter(t)||L.isScatter3D(t)},L.isSurface=function(t){return"surface"===t};var N=D.concat(O);L.newTab=function(t,e){Plotly.ToolPanel.makeMenu(document.getElementById(t));var r={workspace:!0,editable:!0,autosizable:!0,scrollZoom:!0,showTips:!1,showLink:!1};return Plotly.plot(t,[],e,r)},L.redrawText=function(t){var e="string"==typeof t?document.getElementById(t):t;e._fullLayout._hasGL3D||e.data&&e.data[0]&&e.data[0].r||setTimeout(function(){Plotly.Annotations.drawAll(e),Plotly.Legend.draw(e,e._fullLayout.showlegend),(e.calcdata||[]).forEach(function(t){t[0]&&t[0].t&&t[0].t.cb&&t[0].t.cb()})},300)},L.defaultConfig={staticPlot:!1,workspace:!1,editable:!1,autosizable:!1,fillFrame:!1,scrollZoom:!1,showTips:!0,showLink:!0,sendData:!0,displaylogo:!0},L.addLinks=function(t){var e=t._fullLayout,n=e._paper.selectAll("text.js-plot-link-container").data([0]);n.enter().append("text").classed("js-plot-link-container",!0).style({"font-family":'"Open Sans",Arial,sans-serif',"font-size":"12px",fill:"#444"}).each(function(){var t=d3.select(this);t.append("tspan").classed("js-link-to-tool",!0),t.append("tspan").classed("js-link-spacer",!0),t.append("tspan").classed("js-sourcelinks",!0)}),n.attr({"text-anchor":"end",x:e._paper.attr("width")-7,y:e._paper.attr("height")-9});var o=n.select(".js-link-to-tool"),a=n.select(".js-link-spacer"),i=n.select(".js-sourcelinks");Plotly.Lib.showSources(t),t._context.showLink&&r(t,o),a.text(o.text()&&i.text()?" - ":"")},L.adjustReservedMargins=function(t,e,r){var n;return t._boundingBoxMargins=t._boundingBoxMargins||{},t._boundingBoxMargins[e]={},["left","right","top","bottom"].forEach(function(o){n=r[o]||0,t._boundingBoxMargins[e][o]=n}),t._boundingBoxMargins},Plotly.plot=function(t,r,l,s){function c(){return Plotly.Legend.draw(t,A.showlegend||t.calcdata.length>1&&A.showlegend!==!1),t.calcdata.forEach(function(e){var r=e[0].trace;r.visible&&r.module.colorbar?r.module.colorbar(t,e):L.autoMargin(t,"cb"+r.uid)}),k(t),L.previousPromises(t)}function f(){var e=JSON.stringify(A._size)===C?[]:[c];return Plotly.Lib.syncOrAsync(e.concat(Plotly.Fx.init),t)}function p(){return z?(Plotly.Axes.getSubplots(t).forEach(function(e){var r=t._fullLayout._plots[e];t._modules.forEach(function(e){e.setPositions&&e.setPositions(t,r)})}),Plotly.Lib.markTime("done with bar/box adjustments"),Plotly.ErrorBars.calc(t),Plotly.Lib.markTime("done Plotly.ErrorBars.calc"),Plotly.Lib.syncOrAsync([Plotly.Annotations.calcAutorange,y],t)):void 0}function y(){Plotly.Axes.list(t,"",!0).forEach(function(e){if(Plotly.Axes.doAutoRange(e),!$.isNumeric(e._m)||!$.isNumeric(e._b))throw Plotly.Lib.notifier("Something went wrong with axis scaling","long"),t._replotting=!1,new Error("axis scaling")})}function h(){return Plotly.Axes.doTicks(t,"redraw")}function g(){return t._fullLayout._hasGL3D&&n(t),t.calcdata.forEach(function(t){var e=t[0].trace;if(!e.visible||!e.module.colorbar){var r=e.uid;A._paper.selectAll(".hm"+r+",.contour"+r+",.cb"+r).remove()}}),Plotly.Axes.getSubplots(t).forEach(function(e){var r=t._fullLayout._plots[e],n=t.calcdata.filter(function(t){var r=t[0].trace;return r.xaxis+r.yaxis===e}),o=[];r.plot.selectAll("g.trace").remove(),t._modules.forEach(function(e){if(e.plot){var a=n.filter(function(t){var r=t[0].trace;return r.module===e&&r.visible});e.plot(t,r,a),Plotly.Lib.markTime("done "+(a[0]&&a[0][0].trace.type)),e.errorBarsOK&&(o=o.concat(a))}}),Plotly.ErrorBars.plot(t,r,o),Plotly.Lib.markTime("done ErrorBars")}),d(t),Plotly.Lib.markTime("done applyStyle"),Plotly.Annotations.drawAll(t),L.addLinks(t),L.previousPromises(t)}function m(){t._replotting=!1,Plotly.Lib.markTime("done plot"),$(t).trigger("plotly_afterplot")}Plotly.Lib.markTime("in plot"),"string"==typeof t&&(t=document.getElementById(t));var v=$(t).triggerHandler("plotly_beforeplot",[r,l,s]);if(v!==!1){r||l||d3.select(t).classed("js-plotly-plot")||console.log("Warning: calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",t),e(t,s),l||(l={}),d3.select(t).classed("js-plotly-plot",!0),Plotly.Drawing.makeTester(t),t._promises=[];var x=0===(t.data||[]).length&&$.isArray(r);if($.isArray(r)&&(i(r,t.data),x?t.data=r:t.data.push.apply(t.data,r),t.empty=!1),(!t.layout||x)&&(t.layout=a(l)),L.supplyDefaults(t),r&&r[0]&&r[0].r)return o(t,r,l);t._context.editable&&Plotly.ToolPanel.tweakMenu(t),t._replotting=!0;var b=t._fullData.length>0;if(b){var w=Plotly.Axes.getSubplots(t).join(""),M=Object.keys(t._fullLayout._plots||{}).join("");(t.framework!==P||x||M!==w)&&(t.framework=P,P(t))}else x&&P(t);$(t).find(".data-only").attr("disabled",!b);var A=t._fullLayout,z=!t.calcdata||t.calcdata.length!==(t.data||[]).length;z&&u(t),t.calcdata.forEach(function(e,r){e[0].trace=t._fullData[r]});var C=JSON.stringify(A._size),S=Plotly.Lib.syncOrAsync([L.previousPromises,c,_,f,p,h,g],t,m);return S&&S.then?S:Promise.resolve()}},L.previousPromises=function(t){return(t._promises||[]).length?Promise.all(t._promises).then(function(){t._promises=[]}):void 0},Plotly.redraw=function(t){var e="string"==typeof t?document.getElementById(t):t;return d3.select(e).classed("js-plotly-plot")?(e.calcdata=void 0,void Plotly.plot(e)):void console.log("This element is not a Plotly Plot",t,e)},L.attributes={type:{type:"enumerated",values:N,dflt:"scatter"},visible:{type:"boolean",dflt:!0},scene:{type:"sceneid",dflt:"scene"},showlegend:{type:"boolean",dflt:!0},opacity:{type:"number",min:0,max:1,dflt:1},name:{type:"string"},xaxis:{type:"axisid",dflt:"x"},yaxis:{type:"axisid",dflt:"y"},uid:{type:"string",dflt:""},hoverinfo:{type:"flaglist",flags:["x","y","z","text","name"],extras:["all","none"],dflt:"all"}},L.supplyDefaults=function(t){var e=t._fullLayout||{},r=t._fullLayout={};L.supplyLayoutGlobalDefaults(t.layout||{},r);var n=t._fullData||[],o=t.data||[];t._fullData=o.map(function(t,e){return L.supplyDataDefaults(t,e,r)}),t._fullData.forEach(function(t,e){L.isGL3D(t.type)&&(r._hasGL3D=!0),L.isCartesian(t.type)&&("r"in t?r._hasPolar=!0:r._hasCartesian=!0),n.length===o.length&&c(t,n[e])}),L.supplyLayoutModuleDefaults(t.layout||{},r,t._fullData),s(r,e),c(r,e),k(t);var a=Plotly.Axes.list(t);a.forEach(function(e){e._td=t,e.setScale()}),(t.calcdata||[]).length===t._fullData.length&&t._fullData.forEach(function(e,r){(t.calcdata[r][0]||{}).trace=e})},L.supplyDataDefaults=function(e,r,n){function o(t,r){return Plotly.Lib.coerce(e,a,L.attributes,t,r)}var a={},i=Plotly.Color.defaults[r%Plotly.Color.defaults.length];a.index=r;var l,s,c=o("type"),u=o("visible");return o("uid"),L.isGL3D(c)&&(l=o("scene")),(u||l)&&(s=t(a),a.module=s),s&&u&&s.supplyDefaults(e,a,i,n),u&&(o("name","trace "+r),o("hoverinfo"),L.isScatter3D(c)||o("opacity"),L.isCartesian(c)&&(o("xaxis"),o("yaxis")),L.isHeatmap(c)||L.isSurface(c)||o("showlegend")),a._input=e,a},L.layoutAttributes={font:{type:"font",dflt:{family:'"Open sans", verdana, arial, sans-serif',size:12,color:"#444"}},title:{type:"string",dflt:"Click to enter Plot title"},titlefont:{type:"font"},autosize:{type:"enumerated",values:[!0,!1,"initial"]},width:{type:"number",min:10,dflt:700},height:{type:"number",min:10,dflt:450},margin:{l:{type:"number",min:0,dflt:80},r:{type:"number",min:0,dflt:80},t:{type:"number",min:0,dflt:100},b:{type:"number",min:0,dflt:80},pad:{type:"number",min:0,dflt:0},autoexpand:{type:"boolean",dflt:!0}},paper_bgcolor:{type:"color",dflt:"#fff"},plot_bgcolor:{type:"color",dflt:"#fff"},separators:{type:"string",dflt:".,"},hidesources:{type:"boolean",dflt:!1},smith:{type:"enumerated",values:[!1],dflt:!1},showlegend:{type:"boolean"},_hasCartesian:{type:"boolean",dflt:!1},_hasGL3D:{type:"boolean",dflt:!1}},L.supplyLayoutGlobalDefaults=function(t,e){function r(r,n){return Plotly.Lib.coerce(t,e,L.layoutAttributes,r,n)}var n=r("font");r("title"),r("titlefont",{family:n.family,size:Math.round(1.4*n.size),color:n.color}),r("autosize",t.width&&t.height?!1:"initial"),r("width"),r("height"),r("margin.l"),r("margin.r"),r("margin.t"),r("margin.b"),r("margin.pad"),r("margin.autoexpand"),r("paper_bgcolor"),r("separators"),r("hidesources"),r("smith"),r("_hasCartesian"),r("_hasGL3D")},L.supplyLayoutModuleDefaults=function(t,e,r){var n=["Axes","Legend","Annotations","Fx"],o=["Bars","Boxes","Gl3dLayout"];n.forEach(function(n){Plotly[n]&&Plotly[n].supplyDefaults(t,e,r)}),o.forEach(function(n){Plotly[n]&&Plotly[n].supplyLayoutDefaults(t,e,r)})},L.purge=function(t){delete t.data,delete t.layout,delete t._fullData,delete t._fullLayout,delete t.calcdata,delete t.framework,delete t.empty,delete t.fid,delete t.undoqueue,delete t.undonum,delete t.autoplay,delete t.changed,delete t._modules,delete t._tester,delete t._testref,delete t._promises,delete t._redrawTimer,delete t._replotting,delete t.firstscatter,delete t.hmlumcount,delete t.hmpixcount,delete t.numboxes},Plotly.addTraces=function E(t,e,r){var n,o=[],a=Plotly.deleteTraces,i=E,l=[t,o],s=[t,e];for(h(t,e,r),Array.isArray(e)||(e=[e]),n=0;n<e.length;n+=1)t.data.push(e[n]);for(n=0;n<e.length;n++)o.push(-e.length+n);if("undefined"==typeof r)return Plotly.redraw(t),void(Plotly.Queue&&Plotly.Queue.add(t,a,l,i,s));Array.isArray(r)||(r=[r]);try{y(t,o,r)}catch(c){throw t.data.splice(t.data.length-e.length,e.length),c}Plotly.Queue&&Plotly.Queue.startSequence(t),Plotly.Queue&&Plotly.Queue.add(t,a,l,i,s),Plotly.moveTraces(t,o,r),Plotly.Queue&&Plotly.Queue.stopSequence(t)},Plotly.deleteTraces=function T(t,e){var r,n=[],o=Plotly.addTraces,a=T,i=[t,n,e],l=[t,e];if("undefined"==typeof e)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(e)||(e=[e]),p(t,e,"indices"),e=f(e,t.data.length-1),e.sort().reverse(),r=0;r<e.length;r+=1)n.push(t.data.splice(e[r],1));Plotly.redraw(t),Plotly.Queue&&Plotly.Queue.add(t,o,i,a,l)},Plotly.moveTraces=function I(t,e,r){var n,o=[],a=[],i=I,l=I,s=[t,r,e],c=[t,e,r];if(y(t,e,r),e=Array.isArray(e)?e:[e],"undefined"==typeof r)for(r=[],n=0;n<e.length;n++)r.push(-e.length+n);for(r=Array.isArray(r)?r:[r],e=f(e,t.data.length-1),r=f(r,t.data.length-1),n=0;n<t.data.length;n++)-1===e.indexOf(n)&&o.push(t.data[n]);for(n=0;n<e.length;n++)a.push({newIndex:r[n],trace:t.data[e[n]]});for(a.sort(function(t,e){return t.newIndex-e.newIndex}),n=0;n<a.length;n+=1)o.splice(a[n].newIndex,0,a[n].trace);t.data=o,Plotly.redraw(t),Plotly.Queue&&Plotly.Queue.add(t,i,s,l,c)},Plotly.restyle=function j(t,e,r,n){function o(){return n.map(function(){return void 0})}function a(t){var e=Plotly.Axes.id2name(t);-1===h.indexOf(e)&&h.push(e)}function i(t){return t+".autorange"}function l(t){return t+".range"}function s(t,e,r,n){if($.isArray(e))return void e.forEach(function(e){s(t,e,r,n)});if(!(e in f)){var a=Plotly.Lib.nestedProperty(t,e);e in S||(S[e]=o()),void 0===S[e][n]&&(S[e][n]=a.get()),void 0!==r&&a.set(r)}}"string"==typeof t&&(t=document.getElementById(t));var c,u=t._fullLayout,f={};if("string"==typeof e)f[e]=r;else{if(!$.isPlainObject(e))return void console.log("restyle fail",e,r,n);f=e,void 0===n&&(n=r)}Object.keys(f).length&&(t.changed=!0),$.isNumeric(n)?n=[n]:$.isArray(n)&&n.length||(n=t._fullData.map(function(t,e){return e}));var p=["mode","visible","type","orientation","fill","histfunc","histnorm","text","x","y","z","xtype","x0","dx","ytype","y0","dy","xaxis","yaxis","line.width","showscale","zauto","connectgaps","autobinx","nbinsx","xbins.start","xbins.end","xbins.size","autobiny","nbinsy","ybins.start","ybins.end","ybins.size","autocontour","ncontours","contours.coloring","error_y.visible","error_y.value","error_y.type","error_y.traceref","error_y.array","error_y.symmetric","error_y.arrayminus","error_y.valueminus","error_y.tracerefminus","error_x.visible","error_x.value","error_x.type","error_x.traceref","error_x.array","error_x.symmetric","error_x.arrayminus","error_x.valueminus","error_x.tracerefminus","swapxy","swapxyaxes","orientationaxes"],y=n.some(function(e){return Plotly.Plots.isBox(t._fullData[e].type)});y&&p.push("name");var h,g=["marker.size","textfont.size","textposition","boxpoints","jitter","pointpos","whiskerwidth","boxmean"],x=["zmin","zmax","zauto","mincolor","maxcolor","colorscale","reversescale","zsmooth","contours.start","contours.end","contours.size","contours.showlines","line.smoothing","line.shape","error_y.width","error_x.width","error_x.copy_ystyle","marker.maxdisplayed"],b=["barmode","barnorm","bargap","bargroupgap","boxmode","boxgap","boxgroupgap","?axis.autorange","?axis.range","?axis.rangemode"],w=["type","x","y","x0","y0","orientation","xaxis","yaxis"],P=!1,k=!1,_=!1,M=!1,A=!1,z=!1,C={},S={};
u._hasGL3D&&(_=!0);var D=["zmin","zmax"],O=["xbins.start","xbins.end","xbins.size"],N=["ybins.start","ybins.end","ybins.size"],E=["contours.start","contours.end","contours.size"];for(var T in f){var I,B,F,H=f[T];if(C[T]=H,-1===b.indexOf(T.replace(/[xyz]axis[0-9]*/g,"?axis"))){for(S[T]=o(),c=0;c<n.length;c++){if(I=t.data[n[c]],B=t._fullData[n[c]],F=Plotly.Lib.nestedProperty(I,T),-1!==D.indexOf(T))s(I,"zauto",!1,c);else if("zauto"===T)s(I,D,void 0,c);else if(-1!==O.indexOf(T))s(I,"autobinx",!1,c);else if("autobinx"===T)s(I,O,void 0,c);else if(-1!==N.indexOf(T))s(I,"autobiny",!1,c);else if("autobiny"===T)s(I,N,void 0,c);else if(-1!==E.indexOf(T))s(I,"autocontour",!1,c);else if("autocontour"===T)s(I,E,void 0,c);else if(-1!==["x0","dx"].indexOf(T)&&B.x&&"scaled"!==B.xtype)s(I,"xtype","scaled",c);else if(-1!==["y0","dy"].indexOf(T)&&B.y&&"scaled"!==B.ytype)s(I,"ytype","scaled",c);else if("colorbar.thicknessmode"===T&&F.get()!==H&&-1!==["fraction","pixels"].indexOf(H)&&B.colorbar){var V=-1!==["top","bottom"].indexOf(B.colorbar.orient)?u.height-u.margin.t-u.margin.b:u.width-u.margin.l-u.margin.r;s(I,"colorbar.thickness",B.colorbar.thickness*("fraction"===H?1/V:V),c)}else if("colorbar.lenmode"===T&&F.get()!==H&&-1!==["fraction","pixels"].indexOf(H)&&B.colorbar){var R=-1!==["top","bottom"].indexOf(B.colorbar.orient)?u.width-u.margin.l-u.margin.r:u.height-u.margin.t-u.margin.b;s(I,"colorbar.len",B.colorbar.len*("fraction"===H?1/R:R),c)}S[T][c]=F.get();var Z=["swapxy","swapxyaxes","orientation","orientationaxes"];if(-1!==Z.indexOf(T)){if("orientation"===T){if(F.set($.isArray(H)?H[c%H.length]:H),F.get()===S[T][c])continue}else"orientationaxes"===T&&(I.orientation={v:"h",h:"v"}[B.orientation]);m(I)}else F.set($.isArray(H)?H[c%H.length]:H)}if(-1!==["swapxyaxes","orientationaxes"].indexOf(T)&&v(t,t.data[n[0]]),"orientationaxes"===T){var q=Plotly.Lib.nestedProperty(t.layout,"hovermode");"x"===q.get()?q.set("y"):"y"===q.get()&&q.set("x")}if(-1!==n.indexOf(0)&&-1!==w.indexOf(T)&&(Plotly.Axes.clearTypes(t,n),P=!0),(-1===["autobinx","autobiny","zauto"].indexOf(T)||H!==!1)&&(A=!0),-1!==["colorbar","line"].indexOf(F.parts[0])&&(z=!0),-1!==p.indexOf(T)){if(-1!==["orientation","type"].indexOf(T)){for(h=[],c=0;c<n.length;c++){var G=t.data[n[c]];a(G.xaxis||"x"),a(G.yaxis||"y"),"type"===e&&s(t.data[n[c]],["autobinx","autobiny"],!0,c)}s(t.layout,h.map(i),!0,0),s(t.layout,h.map(l),[0,1],0)}P=!0}else-1!==x.indexOf(T)?_=!0:-1!==g.indexOf(T)&&(k=!0)}else F=Plotly.Lib.nestedProperty(t.layout,T),S[T]=[F.get()],F.set($.isArray(H)?H[0]:H),P=!0}Plotly.Queue&&Plotly.Queue.add(t,j,[t,S,n],j,[t,C,n]);var Y=!1;Plotly.Axes.list(t).forEach(function(t){t.autorange&&(Y=!0)}),(P||M||k&&Y)&&(t.calcdata=void 0);var X;M?X=[function(){var e=t.layout;return t.layout=void 0,Plotly.plot(t,"",e)}]:P||_||k?X=[Plotly.plot]:(L.supplyDefaults(t),X=[L.previousPromises],A&&X.push(function(){return d(t),u.showlegend&&Plotly.Legend.draw(t),L.previousPromises(t)}),z&&X.push(function(){return t.calcdata.forEach(function(t){if((t[0].t||{}).cb){var e=t[0].trace,r=t[0].t.cb;L.isContour(e.type)&&r.line({width:e.contours.showlines!==!1?e.line.width:0,dash:e.line.dash,color:"line"===e.contours.coloring?r._opts.line.color:e.line.color}),r.options(e.colorbar)()}}),L.previousPromises(t)}));var U=Plotly.Lib.syncOrAsync(X,t);return U&&U.then||(U=Promise.resolve()),U.then(function(){$(t).trigger("plotly_restyle",$.extend(!0,[],[C,n]))})},Plotly.relayout=function B(t,e,r){function n(t,e){if($.isArray(t))return void t.forEach(function(t){n(t,e)});if(!(t in f)){var r=Plotly.Lib.nestedProperty(d,t);t in k||(k[t]=r.get()),void 0!==e&&r.set(e)}}function o(e,r){var n=Plotly.Axes.id2name(e[r+"ref"]||r);return(t._fullLayout[n]||{}).autorange}if(!t.framework||!t.framework.isPolar){"string"==typeof t&&(t=document.getElementById(t));var a,i,l,s,c,u,d=t.layout,f={},p=!1,y=!1,h=!1,g=!1,m=!1,v=!1;if("string"==typeof e)f[e]=r;else{if(!$.isPlainObject(e))return void console.log("relayout fail",e,r);f=e}Object.keys(f).length&&(t.changed=!0),l=Object.keys(f),i=Plotly.Axes.list(t);for(var x=0;x<l.length;x++){if(0===l[x].indexOf("allaxes")){for(var b=0;b<i.length;b++)c=i[b]._id.substr(1),u=-1!==c.indexOf("scene")?c+".":"",a=l[x].replace("allaxes",u+i[b]._name),f[a]||(f[a]=f[l[x]]);delete f[l[x]]}l[x].match(/^annotations\[[0-9-]+\].ref$/)&&(s=f[l[x]].split("y"),f[l[x].replace("ref","xref")]=s[0],f[l[x].replace("ref","yref")]=2===s.length?"y"+s[1]:"paper",delete f[l[x]])}var P={},k={},M=["height","width"];for(var A in f){var z=Plotly.Lib.nestedProperty(d,A),C=f[A],S=z.parts.length,D="string"==typeof z.parts[S-1]?S-1:S-2,O=z.parts[D],N=z.parts[D-1]+"."+O,E=z.parts.slice(0,D).join("."),T=Plotly.Lib.nestedProperty(d,E).get();if(P[A]=f[A],k[A]="reverse"===O?f[A]:z.get(),-1!==M.indexOf(A)?n("autosize",!1):"autosize"===A?n(M,void 0):N.match(/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/)?n(E+".autorange",!1):N.match(/^[xyz]axis[0-9]*\.autorange$/)&&n([E+".range[0]",E+".range[1]"],void 0),"type"===O&&("log"===T.type?"log"!==C:"log"===C)){var I=T;if(!T.range){n(E+".autorange",!0);continue}if(T.autorange)"log"===C&&I.range&&(I.range=I.range[1]>I.range[0]?[1,2]:[2,1]);else{var j=I.range[0],F=I.range[1];if("log"===C){if(0>=j&&0>=F){n(E+".autorange",!0);continue}0>=j?j=F/1e6:0>=F&&(F=j/1e6),n(E+".range[0]",Math.log(j)/Math.LN10),n(E+".range[1]",Math.log(F)/Math.LN10)}else n(E+".range[0]",Math.pow(10,j)),n(E+".range[1]",Math.pow(10,F))}}if("reverse"===O)T.range.reverse(),T.autorange?m=!0:g=!0;else if("annotations"===z.parts[0]){var H=z.parts[1],V=d.annotations,R=V&&V[H]||{};2===z.parts.length&&("add"===f[A]||$.isPlainObject(f[A])?k[A]="remove":"remove"===f[A]?-1===H?(k.annotations=V,delete k[A]):k[A]=R:console.log("???",f)),(o(R,"x")||o(R,"y"))&&-1===A.indexOf("color")&&-1===A.indexOf("opacity")&&-1===A.indexOf("align")&&(m=!0),Plotly.Annotations.draw(t,H,z.parts.slice(2).join("."),f[A]),delete f[A]}else 0===z.parts[0].indexOf("scene")?g=!0:-1!==z.parts[0].indexOf("legend")?p=!0:-1!==A.indexOf("title")?y=!0:-1!==z.parts[0].indexOf("bgcolor")?h=!0:z.parts.length>1&&(-1!==z.parts[1].indexOf("tick")||-1!==z.parts[1].indexOf("exponent")||-1!==z.parts[1].indexOf("grid")||-1!==z.parts[1].indexOf("zeroline"))?y=!0:-1!==A.indexOf(".linewidth")&&-1!==A.indexOf("axis")?y=h=!0:z.parts.length>1&&-1!==z.parts[1].indexOf("line")?h=!0:z.parts.length>1&&"mirror"===z.parts[1]?y=h=!0:"margin.pad"===A?y=h=!0:"margin"===z.parts[0]||"autorange"===z.parts[1]||"rangemode"===z.parts[1]||"type"===z.parts[1]||"domain"===z.parts[1]||A.match(/^(bar|box|font)/)?m=!0:"hovermode"===A?v=!0:-1===["hovermode","dragmode","height","width","autosize"].indexOf(A)&&(g=!0),z.set(C)}Plotly.Queue&&Plotly.Queue.add(t,B,[t,k],B,[t,P]),f.autosize&&(f=w(t,f)),(f.height||f.width||f.autosize)&&(m=!0);var Z=Object.keys(f),q=[L.previousPromises];g||m?q.push(function(){return t.layout=void 0,m&&(t.calcdata=void 0),Plotly.plot(t,"",d)}):Z.length&&(L.supplyDefaults(t),p&&q.push(function(){return Plotly.Legend.draw(t,t._fullLayout.showlegend),L.previousPromises(t)}),h&&q.push(_),y&&q.push(function(){return Plotly.Axes.doTicks(t,"redraw"),L.titles(t,"gtitle"),L.previousPromises(t)}),v&&Plotly.Fx.modeBar(t));var G=Plotly.Lib.syncOrAsync(q,t);return G&&G.then||(G=Promise.resolve()),G.then(function(){$(t).trigger("plotly_relayout",$.extend(!0,{},P))})}},L.resize=function(t){"string"==typeof t&&(t=document.getElementById(t)),t._context.workspace&&setFileAndCommentsSize(t),t&&"none"!==$(t).css("display")&&(t._redrawTimer&&clearTimeout(t._redrawTimer),t._redrawTimer=setTimeout(function(){if((t._fullLayout||{}).autosize){var e=t.changed;t.autoplay=!0,Plotly.relayout(t,{autosize:!0}),t.changed=e}},100)),x(t)},L.autoMargin=function(t,e,r){var n=t._fullLayout;if(n._pushmargin||(n._pushmargin={}),n.margin.autoexpand!==!1){if(r){var o=r.pad||12;r.l+r.r>.5*n.width&&(r.l=r.r=0),r.b+r.t>.5*n.height&&(r.b=r.t=0),n._pushmargin[e]={l:{val:r.x,size:r.l+o},r:{val:r.x,size:r.r+o},b:{val:r.y,size:r.b+o},t:{val:r.y,size:r.t+o}}}else delete n._pushmargin[e];t._replotting||k(t)}},L.titles=function(t,e){function r(t){Plotly.Lib.syncOrAsync([n,o],t)}function n(e){return e.attr("transform",_?"rotate("+[_.rotate,i.x,i.y]+") translate(0, "+_.offset+")":null),e.style({"font-family":w,"font-size":d3.round(P,2)+"px",fill:Plotly.Color.rgb(k),opacity:C*Plotly.Color.opacity(k)}).attr(i).call(Plotly.util.convertToTspans).attr(i),e.selectAll("tspan.line").attr(i),L.previousPromises(t)}function o(t){var e=d3.select(t.node().parentNode);if(A&&A.selection&&A.side&&D){e.attr("transform",null);var r=0,n={left:"right",right:"left",top:"bottom",bottom:"top"}[A.side],o=-1!==["left","top"].indexOf(A.side)?-1:1,a=$.isNumeric(A.pad)?A.pad:2,i=Plotly.Drawing.bBox(e.node()),l={left:0,top:0,right:c.width,bottom:c.height},s=f?c.width:(l[A.side]-i[A.side])*("left"===A.side||"top"===A.side?-1:1);if(0>s?r=s:(i.left-=A.offsetLeft,i.right-=A.offsetLeft,i.top-=A.offsetTop,i.bottom-=A.offsetTop,A.selection.each(function(){var t=Plotly.Drawing.bBox(this);Plotly.Lib.bBoxIntersect(i,t,a)&&(r=Math.max(r,o*(t[A.side]-i[n])+a))}),r=Math.min(s,r)),r>0||0>s){var u={left:[-r,0],right:[r,0],top:[0,-r],bottom:[0,r]}[A.side];e.attr("transform","translate("+u+")")}}}function a(){C=0,S=!0,D=T,c._infolayer.select("."+e).attr({"data-unformatted":D}).text(D).on("mouseover.opacity",function(){d3.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){d3.select(this).transition().duration(1e3).style("opacity",0)})}var i;if("string"==typeof t&&(t=document.getElementById(t)),!e)return Plotly.Axes.listIds(t).forEach(function(e){L.titles(t,e+"title")}),void L.titles(t,"gtitle");var l,s,c=t._fullLayout,u=c._size,d=e.charAt(0),f="cb"===e.substr(1,2);if(f){var p=e.substr(3).replace("title","");t._fullData.some(function(e,r){return e.uid===p?(l=r,s=t.calcdata[r][0].t.cb.axis,!0):void 0})}else s=c[Plotly.Axes.id2name(e.replace("title",""))]||c;var y,h,g,m,v,x=s===c?"title":s._name+".title",b=f?"colorscale":(s._id||d).toUpperCase()+" axis",w=s.titlefont.family,P=s.titlefont.size,k=s.titlefont.color,_="",M={},A={selection:d3.select(t).selectAll("g."+s._id+"tick"),side:s.side},z=f?0:1.5;f?(A.offsetLeft=u.l,A.offsetTop=u.t):A.selection.size()&&(v=d3.select(A.selection.node().parentNode).attr("transform").match(/translate\(([-\.\d]+),([-\.\d]+)\)/),v&&(A.offsetLeft=+v[1],A.offsetTop=+v[2])),f&&s.titleside?(y=u.l+s.titlex*u.w,h=u.t+(1-s.titley)*u.h+("top"===s.titleside?3+.75*P:-3-.25*P),i={x:y,y:h,"text-anchor":"start"},A={},e="h"+e):"x"===d?(g=s,m="free"===g.anchor?{_offset:u.t+(1-(g.position||0))*u.h,_length:0}:Plotly.Axes.getFromId(t,g.anchor),y=g._offset+g._length/2,h=m._offset+("top"===g.side?-10-P*(z+(g.showticklabels?1:0)):m._length+10+P*(z+(g.showticklabels?1.5:.5))),i={x:y,y:h,"text-anchor":"middle"},A.side||(A.side="bottom")):"y"===d?(m=s,g="free"===m.anchor?{_offset:u.l+(m.position||0)*u.w,_length:0}:Plotly.Axes.getFromId(t,m.anchor),h=m._offset+m._length/2,y=g._offset+("right"===m.side?g._length+10+P*(z+(m.showticklabels?1:.5)):-10-P*(z+(m.showticklabels?.5:0))),M={center:0},i={x:y,y:h,"text-anchor":"middle"},_={rotate:"-90",offset:0},A.side||(A.side="left")):(b="Plot",P=c.titlefont.size,y=c.width/2,h=c._size.t/2,i={x:y,y:h,"text-anchor":"middle"},A={});var C=1,S=!1,D=s.title.trim();""===D&&(C=0),D.match(/Click to enter .+ title/)&&(C=.2,S=!0);var O;if(f){O=d3.select(t).selectAll("."+s._id.substr(1)+" .cbtitle");var N="h"===e.charAt(0)?e.substr(1):"h"+e;O.selectAll("."+N+",."+N+"-math-group").remove()}else O=c._infolayer.selectAll(".g-"+e).data([0]),O.enter().append("g").classed("g-"+e,!0);var E=O.selectAll("text").data([0]);E.enter().append("text"),E.text(D).attr("class",e),E.attr({"data-unformatted":D}).call(r);var T="Click to enter "+b.replace(/\d+/,"")+" title";t._context.editable?(D||a(),E.call(Plotly.util.makeEditable).on("edit",function(e){f?Plotly.restyle(t,"colorbar.title",e,l):Plotly.relayout(t,x,e)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(r)}).on("input",function(t){this.text(t||" ").attr(i).selectAll("tspan.line").attr(i)})):(!D||D.match(/Click to enter .+ title/))&&E.remove(),E.classed("js-placeholder",S)},L.graphJson=function(t,e,r,n){function o(t){if("function"==typeof t)return null;if($.isPlainObject(t)){var e,n={};for(e in t)if("function"!=typeof t[e]&&-1===["_","["].indexOf(e.charAt(0))){if("keepdata"===r){if("src"===e.substr(e.length-3))continue}else if("keepall"!==r){var a=t[e+"src"];if("string"==typeof a&&a.indexOf(":")>0)continue}n[e]=o(t[e])}return n}return $.isArray(t)?t.map(o):t&&t.getTime?Plotly.Lib.ms2DateTime(t):t}"string"==typeof t&&(t=document.getElementById(t));var a={data:(t.data||[]).map(function(t){var r=o(t);return e&&delete r.fit,r})};return e||(a.layout=o(t.layout)),t.framework&&t.framework.isPolar&&(a=t.framework.getConfig()),"object"===n?a:JSON.stringify(a)},L.viewJson=function(){var t,e,r,n=Tabs.get();if(n.framework&&n.framework.isPolar){var o=n.framework.getLiveConfig();t=JSON.stringify(o),e=o.data,r=o.layout}else t=Plotly.Plots.graphJson(n),e=JSON.parse(t).data,e.forEach(function(t){delete t.stream}),r=JSON.parse(t).layout;var a="var data = "+Plotly.Lib.escapeForHtml(JSON.stringify(e))+";\n";a+="var layout = "+Plotly.Lib.escapeForHtml(JSON.stringify(r))+";\n",a+="Plotly.plot(Tabs.get(), data, layout);";var i=$("#jsonModal"),l=i.find("#json-viewer").empty();l.data("jsontree","").jsontree(t,{collapsibleOuter:!1}).show(),i.modal("show");var s=i.find("#json-text").text("").append(a).hide(),c=["Switch to Plain Text","Switch to JSON Viewer"],u=$(".js-plain-text-toggle").text(c[0]);u.off("click").on("click",function(){var t=$(this).text()===c[0];return l.toggle(!t),s.toggle(t),s.get(0).select(),$(this).text(c[+t]),!1}),i.find(".close").off("click").on("click",function(){return i.modal("hide"),!1})}}(),function(){"use strict";function t(t){var e;return e=b.test(t)?"Y":"y",e+=w.test(t)?"b":""}function e(t){var e;return e=k.test(t)?P.test(t)?"I":"H":"D"}function r(t,e){return function(){var n,o,a,i,l,s=t;for(i=0;i<e.length-1;i++){if(n=e[i],-1===n){for(o=!0,a=[],l=0;l<s.length;l++)a[l]=r(s[l],e.slice(i+1))(),a[l]!==a[0]&&(o=!1);return o?a[0]:a}if("number"==typeof n&&!Array.isArray(s))return void 0;if(s=s[n],"object"!=typeof s||null===s)return void 0}return"object"!=typeof s||null===s?void 0:(a=s[e[i]],null===a?void 0:a)}}function n(t,e){return function(r){var n,s,c=t,u=[t],d=l(r);for(s=0;s<e.length-1;s++){if(n=e[s],"number"==typeof n&&!Array.isArray(c))throw"array index but container is not an array";if(-1===n){if(d=!o(c,e.slice(s+1),r))break;return}if(!a(c,n,e[s+1],d))break;if(c=c[n],"object"!=typeof c||null===c)throw"container is not an object";u.push(c)}d?(s===e.length-1&&delete c[e[s]],i(u)):c[e[s]]=r}}function o(t,e,r){var o,i=Array.isArray(r),s=!0,c=r,u=i?!1:l(r),d=e[0];for(o=0;o<t.length;o++)i&&(c=r[o%r.length],u=l(c)),u&&(s=!1),a(t,o,d,u)&&n(t[o],e)(c);return s}function a(t,e,r,n){if(void 0===t[e]){if(n)return!1;t[e]="number"==typeof r?[]:{}}return!0}function i(t){var e,r,n,o,a;for(e=t.length-1;e>=0;e--){if(n=t[e],a=!1,Array.isArray(n))for(r=n.length-1;r>=0;r--)l(n[r])?a?n[r]=void 0:n.pop():a=!0;else if("object"==typeof n&&null!==n)for(o=Object.keys(n),a=!1,r=o.length-1;r>=0;r--)l(n[o[r]])?delete n[o[r]]:a=!0;if(a)return}}function l(t){return void 0===t||null===t?!0:"object"!=typeof t?!1:Array.isArray(t)?!t.length:!Object.keys(t).length}function s(t,e,r){return{set:function(){throw"bad container"},get:function(){},astr:e,parts:r,obj:t}}window.Plotly||(window.Plotly={});var c=Plotly.Lib={};c.dateTime2ms=function(t){try{if(t.getTime)return+t}catch(e){return!1}var r,n,o,a,i=String(t).split(" ");if(i.length>2)return!1;var l=i[0].split("-");if(l.length>3||3!==l.length&&i[1])return!1;if(4===l[0].length)r=Number(l[0]);else{if(2!==l[0].length)return!1;var s=(new Date).getFullYear();r=((Number(l[0])-s+70)%100+200)%100+s-70}return $.isNumeric(r)?1===l.length?new Date(r,0,1).getTime():(n=Number(l[1])-1,l[1].length>2||!(n>=0&&11>=n)?!1:2===l.length?new Date(r,n,1).getTime():(o=Number(l[2]),l[2].length>2||!(o>=1&&31>=o)?!1:(o=new Date(r,n,o).getTime(),i[1]?(l=i[1].split(":"),l.length>3?!1:(a=Number(l[0]),l[0].length>2||!(a>=0&&23>=a)?!1:(o+=36e5*a,1===l.length?o:(n=Number(l[1]),l[1].length>2||!(n>=0&&59>=n)?!1:(o+=6e4*n,2===l.length?o:(t=Number(l[2]),t>=0&&60>t?o+1e3*t:!1)))))):o))):!1},c.isDateTime=function(t){return c.dateTime2ms(t)!==!1},c.ms2DateTime=function(t,e){if("undefined"==typeof d3)return void console.log("d3 is not defined");e||(e=0);var r=new Date(t),n=d3.time.format("%Y-%m-%d")(r);return 7776e6>e?(n+=" "+c.lpad(r.getHours(),2),432e6>e&&(n+=":"+c.lpad(r.getMinutes(),2),108e5>e&&(n+=":"+c.lpad(r.getSeconds(),2),3e5>e&&(n+="."+c.lpad(r.getMilliseconds(),3)))),n.replace(/([:\s]00)*\.?[0]*$/,"")):n};var u={H:["%H:%M:%S~%L","%H:%M:%S","%H:%M"],I:["%I:%M:%S~%L%p","%I:%M:%S%p","%I:%M%p"],D:["%H","%I%p","%Hh"]},d={Y:["%Y~%m~%d","%Y%m%d","%y%m%d","%m~%d~%Y","%d~%m~%Y"],Yb:["%b~%d~%Y","%d~%b~%Y","%Y~%d~%b","%Y~%b~%d"],y:["%m~%d~%y","%d~%m~%y","%y~%m~%d"],yb:["%b~%d~%y","%d~%b~%y","%y~%d~%b","%y~%b~%d"]},f=d3.time.format.utc,p={Y:{H:["%Y~%m~%dT%H:%M:%S","%Y~%m~%dT%H:%M:%S~%L"].map(f),I:[],D:["%Y%m%d%H%M%S","%Y~%m","%m~%Y"].map(f)},Yb:{H:[],I:[],D:["%Y~%b","%b~%Y"].map(f)},y:{H:[],I:[],D:[]},yb:{H:[],I:[],D:[]}};["Y","Yb","y","yb"].forEach(function(t){d[t].forEach(function(e){p[t].D.push(f(e)),["H","I","D"].forEach(function(r){u[r].forEach(function(n){var o=p[t][r];o.push(f(e+"~"+n)),o.push(f(n+"~"+e))})})})});var y=/[a-z]*/g,h=function(t){return t.substr(0,3)},g=/(mon|tue|wed|thu|fri|sat|sun|the|of|st|nd|rd|th)/g,m=/[\s,\/\-\.\(\)]+/g,v=/~?([ap])~?m(~|$)/,x=function(t,e){return e+"m "},b=/\d\d\d\d/,w=/(^|~)[a-z]{3}/,P=/[ap]m/,k=/:/,_=/q([1-4])/,M=["31~mar","30~jun","30~sep","31~dec"],L=function(t,e){return M[e-1]},A=/ ?([+\-]\d\d:?\d\d|Z)$/;c.parseDate=function(r){if(r.getTime)return r;if("string"!=typeof r)return!1;r=r.toLowerCase().replace(y,h).replace(g,"").replace(m,"~").replace(v,x).replace(_,L).trim().replace(A,"");var n,o,a=null,i=t(r),l=e(r);n=p[i][l],o=n.length;for(var s=0;o>s&&!(a=n[s].parse(r));s++);if(!(a instanceof Date))return!1;var c=a.getTimezoneOffset();return a.setTime(a.getTime()+60*c*1e3),a},c.findBin=function(t,e,r){if($.isNumeric(e.start))return r?Math.ceil((t-e.start)/e.size)-1:Math.floor((t-e.start)/e.size);var n,o,a=0,i=e.length,l=0;for(o=e[e.length-1]>e[0]?r?function(t,e){return e>t}:function(t,e){return e>=t}:r?function(t,e){return t>=e}:function(t,e){return t>e};i>a&&l++<100;)n=Math.floor((a+i)/2),o(e[n],t)?a=n+1:i=n;return l>90&&console.log("Long binary search..."),a-1},c.distinctVals=function(t){var e=t.slice();e.sort(function(t,e){return t-e});for(var r=e.length-1,n=e[r]-e[0]||1,o=n/(r||1)/1e4,a=[e[0]],i=0;r>i;i++)e[i+1]>e[i]+o&&(n=Math.min(n,e[i+1]-e[i]),a.push(e[i+1]));return{vals:a,minDiff:n}},c.roundUp=function(t,e,r){for(var n,o=0,a=e.length-1,i=0,l=r?0:1,s=r?1:0,c=r?Math.ceil:Math.floor;a>o&&i++<100;)n=c((o+a)/2),e[n]<=t?o=n+l:a=n-s;return e[o]},c.nestedProperty=function(t,e){if($.isNumeric(e))e=String(e);else if("string"!=typeof e||"[-1]"===e.substr(e.length-4))throw"bad property string";for(var o,a,i,l=0,c=e.split(".");l<c.length;){if(o=String(c[l]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(o[1])c[l]=o[1];else{if(0!==l)throw"bad property string";c.splice(0,1)}for(a=o[2].substr(1,o[2].length-2).split("]["),i=0;i<a.length;i++)l++,c.splice(l,0,Number(a[i]))}l++}return"object"!=typeof t?s(t,e,c):{set:n(t,c),get:r(t,c),astr:e,parts:c,obj:t}},c.pauseEvent=function(t){return t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,!1},c.lpad=function(t,e){return String(t+Math.pow(10,e)).substr(1)},c.aggNums=function(t,e,r,n){var o;for(n||(n=r.length),$.isNumeric(e)||(e=!1),Array.isArray(r[0])&&(r=r.map(function(r){return c.aggNums(t,e,r)})),o=0;n>o;o++)$.isNumeric(e)?$.isNumeric(r[o])&&(e=t(+e,+r[o])):e=r[o];return e},c.len=function(t){return c.aggNums(function(t){return t+1},0,t)},c.mean=function(t,e){return e||(e=c.len(t)),c.aggNums(function(t,e){return t+e},0,t)/e},c.variance=function(t,e,r){return e||(e=c.len(t)),$.isNumeric(r)||(r=c.aggNums(function(t,e){return t+e},0,t)/e),c.aggNums(function(t,e){return t+Math.pow(e-r,2)},0,t)/e},c.stdev=function(t,e,r){return e||(e=c.len(t)),$.isNumeric(r)||(r=c.aggNums(function(t,e){return t+e},0,t)/e),Math.sqrt(c.aggNums(function(t,e){return t+Math.pow(e-r,2)},0,t)/e)},c.interp=function(t,e){if(!$.isNumeric(e))throw"n should be a finite number";if(e*=t.length,e-=.5,0>e)return t[0];if(e>t.length-1)return t[t.length-1];var r=e%1;return r*t[Math.ceil(e)]+(1-r)*t[Math.floor(e)]},c.VERBOSE=!1,c.TIMER=(new Date).getTime(),c.log=function(){c.VERBOSE&&console.log.apply(console,arguments)},c.markTime=function(t){if(c.VERBOSE){var e=(new Date).getTime();console.log(t,e-c.TIMER,"(msec)"),"trace"===c.VERBOSE&&console.trace(),c.TIMER=e}},c.constrain=function(t,e,r){return e>r?Math.max(r,Math.min(e,t)):Math.max(e,Math.min(r,t))},c.killspin=function(t){return void 0===t&&"undefined"!=typeof Tabs&&(t=Tabs.get()),t&&t.spinner?(t.spincount--,void(t.spincount>0||(t.spinner.stop(),$(t).find(".spinner").remove()))):void $(".spinner").remove()},c.startspin=function(t,e,r){if(void 0===t&&"undefined"!=typeof Tabs&&(t=Tabs.get()),r=r||{},"number"==typeof t.spincount&&t.spincount>0)t.spincount++;else{t.spincount=1;var n={lines:17,length:30,width:6,radius:37,corners:1,rotate:0,direction:1,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"};"tiny"===e&&(n.lines=13,n.length=5,n.width=2,n.radius=5,n.corners=.6),n=$.extend({},n,r);var o=new Spinner(n).spin(t);t.spinner=o}},c.notifier=function(t,e){var r;r=$.isNumeric(e)?e:"long"===e?2e3:1e3;var n=$(".notifier-container");if(n.length||(n=$('<div class="notifier-container"></div>').appendTo("#tabs-one-line,#embedded-graph")),!($("div.notifier").text().indexOf(t)>0)){var o=$('<div class="notifier" style="display:none;"><button class="notifier__close close" data-dismiss="alert">&times;</button><p class="push-half">'+t+"</p></div>");o.appendTo(n).fadeIn(700).delay(r).fadeOut(700,function(){o.remove()})}},c.conf_modal=function(){function t(t){s={header:"",body:"",conf_btn_txt:"Done",canc_btn_txt:"",conf_func:function(){},canc_func:function(){},selector:"body",hideonclick:!0,closex:!1,backdrop:!0,alt_btn_txt:"",alt_func:function(){}},s=$.extend({},s,t);var n,o,a;"auto"===$(s.selector).css("z-index")?n=o=a="":(n=$(s.selector).css("z-index"),o=n+1,a=n+2),s.backdrop&&($(".modal-backdrop:visible").hide(),$(s.selector).first().append('<div id="confirmModalBackdrop" class="modal-backdrop confirmModal '+(""===o?"":'style="z-index:'+o)+'"></div>'));var i='<div id="confirmModal" class="modal modal--default hide confirmModal" style="z-index:'+a+'"><div class="modal__header">'+(s.closex?'<button type="button" id="closeConfirmModal" class="close cm-canc_func" aria-hidden="true">&times;</button>':"")+'<h3 class="cm-header"></h3></div><div class="modal__body"><p class="cm-body"></p></div><div class="modal__footer"><button class="btn btn--small btn--cta2 cm-alt_btn_txt cm-alt_func"></button><button class="btn btn--small btn--cta2 cm-canc_btn_txt cm-canc_func push-half--left"></button><button class="btn btn--small btn--cta  cm-conf_btn_txt cm-conf_func push-half--left"></button><div class="messages success--inline" style="text-align: right;"></div></div></div>';$(s.selector).append(i),$("#confirmModal").modal({backdrop:!1}),r(s),$("#confirmModal").on("hide",function(){e()})}function e(){$("#confirmModalBackdrop").remove(),$("#confirmModal").remove(),$(".confirmModalBackdrop").remove(),$(".confirmModal").remove()}function r(t){function r(){return s.hideonclick&&e(),t.conf_func(),!1}function n(){return s.hideonclick&&e(),t.canc_func(),!1}function o(){return s.hideonclick&&e(),t.alt_func(),!1}for(var a in t)$.inArray(a,["header","body"])>-1?$("#confirmModal .cm-"+a).html(t[a]):$.inArray(a,["alt_btn_txt","canc_btn_txt","conf_btn_txt"])>-1?""===t[a]?$("#confirmModal .cm-"+a).hide():($("#confirmModal .cm-"+a).show(),$("#confirmModal .cm-"+a).html(t[a])):"conf_func"===a?$("#confirmModal .cm-conf_func").removeClass("disabled").off("click").on("click",r):"canc_func"===a?$("#confirmModal .cm-canc_func").removeClass("disabled").off("click").on("click",n):"alt_func"===a&&$("#confirmModal .cm-alt_func").removeClass("disabled").off("click").on("click",o)}function n(t){s=$.extend({},s,t),r(t)}function o(t){$("#confirmModal .messages").html(t)}function a(){o("")}function i(){$("#confirmModal .cm-conf_func").addClass("disabled").off("click")}function l(){$("#confirmModal .cm-canc_func").addClass("disabled").off("click")}var s;return{init:t,settings:n,addMsg:o,rmMsg:a,hide:e,disableConf:i,disableCanc:l}}(),c.bBoxIntersect=function(t,e,r){return r=r||0,t.left<=e.right+r&&e.left<=t.right+r&&t.top<=e.bottom+r&&e.top<=t.bottom+r},c.identity=function(t){return t};var z=["first","second","third","fourth","fifth","sixth","seventh","eighth","ninth"],C=["th","st","nd","rd"],S=["zero","one","two","three","four","five","six","seven","eight","nine"];c.num2ordinal=function(t){if(parseFloat(t)===parseInt(t,10)&&!isNaN(t)){if(parseInt(t,10)>=1&&parseInt(t,10)<=9)return z[parseInt(t,10)-1];var e=t%100;return t+(C[(e-20)%10]||C[e]||C[0])}return t},c.ppn=function(t){return t=parseInt(t,10),t>=0&&9>=t?S[t]:t},c.togglecontent=function(t,e,r){$(t+" .js-toggle--"+e).hide(),$(t+" .js-toggle--"+e+"__"+r).show()},c.plotlyurl=function(t){return window.location.origin+"/"+t},c.randstr=function N(t,e,r){if(r||(r=16),void 0===e&&(e=24),0>=e)return"0";var n,o,a,i=Math.log(Math.pow(2,e))/Math.log(r);for(n=2;1/0===i;n*=2)i=Math.log(Math.pow(2,e/n))/Math.log(r)*n;var l=i-Math.floor(i),s="";for(n=0;n<Math.floor(i);n++)a=Math.floor(Math.random()*r).toString(r),s=a+s;l&&(o=Math.pow(r,l),a=Math.floor(Math.random()*o).toString(r),s=a+s);var c=parseInt(s,r);return t&&t.indexOf(s)>-1||1/0!==c&&c>=Math.pow(2,e)?N(t,e,r):s},c.OptionControl=function(t,e){t||(t={}),e||(e="opt");var r={};return r.optionList=[],r._newoption=function(n){n[e]=t,r[n.name]=n,r.optionList.push(n)},r["_"+e]=t,r},c.smooth=function(t,e){var r,n,o,a,i=[],l=[];if(e=Math.round(e),2>e)return t;for(r=1;2*e>r;r++)i.push((1-Math.cos(Math.PI*r/e))/(2*e));var s=i.length,c=t.length;for(r=0;c>r;r++){for(a=0,n=0;s>n;n++)o=r+n+1-e,0>o?o=-1-o:o>=c&&(o=2*c-1-o),a+=t[o]*i[n];l.push(a)}return l},c.getSources=function(t){var e=c.fullFid(t.fid),r=(t.ref_fids||[]).join(",");(e||r)&&$.get("/getsources",{fid:e,extrarefs:r},function(e){t.sourcelist=JSON.parse(e),$.isArray(t.sourcelist)||(console.log("sourcelist error",t.sourcelist),t.sourcelist=[]),c.showSources(t)})},c.fullFid=function(t){return"number"==typeof t&&(t=String(t)),"string"!=typeof t||""===t?"":"tree"===t.substr(t.length-4)?"-1":($.isNumeric(t)&&window.user?window.user+":"+t:t).replace("\\:",":")},c.showSources=function(t){function e(){return pullf({fid:l.ref_fid}),!1}function r(){var t=$("#sourceModal"),e=t.find("#source-viewer").empty();return e.data("jsontree","").jsontree(JSON.stringify(v),{terminators:!1,collapsibleOuter:!1}).show(),h?t.find("[data-fid]").click(function(){return t.modal("hide"),pullf({fid:$(this).attr("data-fid")}),!1}):(t.find("[data-fid]").each(function(){p=$(this).attr("data-fid").split(":"),$(this).attr({href:"/~"+p[0]+"/"+p[1]})}),window.self!==window.top&&t.css({left:"10px",right:"10px",bottom:"10px",width:"auto",height:"auto",margin:0})),t.modal("show"),t.find(".close").off("click").on("click",function(){return t.modal("hide"),!1}),!1}function n(t,e){return 0>m?(console.log("infinite loop?"),t):(m--,o.forEach(function(r){if(r.ref_by_uid===e){var o;if($.isNumeric(r.ref_fid))o='<a href="'+r.ref_url+'" target="_blank">'+r.ref_filename+"</a>";else{var a=r.ref_fid.split(":")[0],i=(a!==window.user?a+": ":"")+r.ref_filename;o='<a href="#" data-fid="'+r.ref_fid+'">'+i+"</a>"}t[o]=n({},r.uid)}}),t)}if(!t._context||!t._context.staticPlot){var o=t.sourcelist;if(!o)return void c.getSources(t);var a=d3.select(t).select(".js-sourcelinks"),i=o.filter(function(t){return $.isNumeric(t.ref_fid)}),l=i[0]||o[0];if(a.text(""),t.shouldshowsources=!1,l){var s={},u={};i.forEach(function(t){s[t.url]=1}),o.forEach(function(t){$.isNumeric(t.ref_fid)||(u[t.ref_fid]=1)});var d,f,p=String(l.ref_fid).split(":"),y=$(t).hasClass("js-plotly-plot"),h=!y||t._context.workspace;if(y){var g=l.fid.split(":")[0];if(o.every(function(t){return String(t.ref_fid).split(":")[0]===g}))return;if(t.shouldshowsources=!0,t.layout.hidesources)return;a.append("tspan").text("Source: "),d=a.append("a").attr({"xlink:xlink:href":"#"}),$.isNumeric(l.ref_fid)?d.attr({"xlink:xlink:show":"new","xlink:xlink:href":l.ref_url}):h||d.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+p[1]+"/~"+p[0]}),o.length>1&&(a.append("tspan").text(" - "),f=a.append("a").attr({"xlink:xlink:href":"#"}))}else a.node()||(a=d3.select(t).select(".grid-container").append("div").attr("class","grid-sourcelinks js-sourcelinks")),a.append("span").text("Source: "),d=a.append("a").attr({href:"#","class":"link--impt"}),$.isNumeric(l.ref_fid)&&d.attr({target:"_blank",href:l.ref_url}),o.length>1&&(a.append("span").text(" - "),f=a.append("a").attr({href:"#"}).classed("link--impt",!0));d.text(l.ref_filename),(!y||h)&&d.on("click",e),f&&f.text("Full list").on("click",r);var m=o.length,v=n({},null)}}},c.isEmpty=function E(t){function e(t){return null===t||void 0===t||""===t}function r(t){return!e&&"object"!=typeof t}return e(t)?!0:"object"!=typeof t?!1:Object.keys(t).map(function(e){return r(t[e])}).some(function(t){return t})?!0:!Object.keys(t).some(function(e){return!E(t[e])})},c.purgeStream=function(t){var e=t.data;e&&e.length&&e.forEach(function(t){delete t.stream})},c.dropdownSelector=function(t){var e=t.items;t.defaults=t.defaults||0;var r=t.cls||"",n=$('<div class="dropdown '+r+'"><a class="link--default link--blocky dropdown-toggle--fixed-width js-dropdown-text" data-toggle="dropdown" data-target="#" href="/"><span class="caret user-caret"></span></a><ul class="dropdown-menu dropdown-toggle--fixed-width" role="menu"></ul></div>'),o=n.find("ul"),a=d3.select(o[0]),i=n.find(".js-dropdown-text").html('<span class="js-selected-val"></span><span class="caret user-caret"></span>'),l=d3.select(i[0]).select(".js-selected-val"),s=a.selectAll("li").data(e).enter().append("li").on("click",function(e,r){l.text(Plotly.util.plainText(e)),t.callback&&t.callback(e,r)});return s.append("a").attr("href","#").text(Plotly.util.plainText),s.each(function(e,r){r===t.defaults&&$(this).click()}),n},c.promiseError=function(t){console.log(t,t.stack)},c.syncOrAsync=function(t,e,r){function n(){return c.markTime("async done "+a.name),c.syncOrAsync(t,e,r)}for(var o,a;t.length;){if(a=t.splice(0,1)[0],o=a(e),o&&o.then)return o.then(n).then(void 0,c.promiseError);c.markTime("sync done "+a.name)}return r&&r(e)},c.transposeRagged=function(t){for(var e=0,r=0;r<t.length;r++)e=Math.max(e,t[r].length);for(var n=[],o=0;e>o;o++){n[o]=[];for(var a=0;a<t.length;a++)n[o][a]=t[a][o]}return n},c.dot=function(t,e){function r(t,e){for(var r=[],n=0;n<t.length;++n)r=r.concat([[t[n],e[n]]]);return r}function n(t,e){return t+e[0]*e[1]}function o(e){return c.dot(t,e)}function a(t){return c.dot(t,e)}return t.length&&e.length&&t.length===e.length?0===t.length?t:t[0].length?t.map(a):e[0].length?c.transposeRagged(e).map(o):r(t,e).reduce(n,0):null},c.translationMatrix=function(t,e){return[[1,0,t],[0,1,e],[0,0,1]]},c.rotationMatrix=function(t){var e=t*Math.PI/180;return[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]]},c.rotationXYMatrix=function(t,e,r){return c.dot(c.dot(c.translationMatrix(e,r),c.rotationMatrix(t)),c.translationMatrix(-e,-r))},c.apply2DTransform=function(t){return function(){var e=arguments;3===e.length&&(e=e[0]);var r=1===arguments.length?e[0]:[e[0],e[1]];return c.dot(t,[r[0],r[1],1]).slice(0,2)}},c.getSceneKeys=function(t){var e=Object.keys(t),r=null,n=[],o=0;for(o;o<e.length;++o)r=e[o],r.match(/^scene[0-9]*$/)&&n.push(r);
return n},c.getSceneLayouts=function(t){var e=c.getSceneKeys(t),r=null,n=[],o=0;for(o;o<e.length;++o)r=e[o],n.push(t[r]);return n},c.apply2DTransform2=function(t){var e=c.apply2DTransform(t);return function(t){return e(t.slice(0,2)).concat(e(t.slice(2,4)))}},c.stripTrailingSlash=function(t){return"/"===t.substr(-1)?t.substr(0,t.length-1):t};var D={family:{type:"string"},size:{type:"number",min:1},color:{type:"color"}},O={data_array:function(t,e,r){Array.isArray(t)?e.set(t):void 0!==r&&e.set(r)},enumerated:function(t,e,r,n){e.set(-1===n.values.indexOf(t)?r:t)},"boolean":function(t,e,r){e.set(t===!0||t===!1?t:r)},number:function(t,e,r,n){e.set(!$.isNumeric(t)||void 0!==n.min&&t<n.min||void 0!==n.max&&t>n.max?r:+t)},integer:function(t,e,r,n){e.set(t%1||!$.isNumeric(t)||void 0!==n.min&&t<n.min||void 0!==n.max&&t>n.max?r:+t)},string:function(t,e,r,n){var o=String(t);e.set(void 0===t||n.noBlank===!1&&!o?r:String(t))},color:function(t,e,r){e.set(tinycolor(t).ok?t:r)},colorscale:function(t,e,r){e.set(Plotly.Color.getScale(t,r))},font:function(t,e,r){t||(t={});var n={};c.coerce(t,n,D,"family",r.family),n.family||(n.family=r.family),c.coerce(t,n,D,"size",r.size),c.coerce(t,n,D,"color",r.color),e.set(n)},angle:function(t,e,r){"auto"===t?e.set("auto"):$.isNumeric(t)?(Math.abs(t)>180&&(t-=360*Math.round(t/360)),e.set(+t)):e.set(r)},axisid:function(t,e,r){if("string"==typeof t&&t.charAt(0)===r){var n=Number(t.substr(1));if(n%1===0&&n>1)return void e.set(t)}e.set(r)},sceneid:function(t,e,r){if("string"==typeof t&&t.substr(0,5)===r){var n=Number(t.substr(5));if(n%1===0&&n>1)return void e.set(t)}e.set(r)},flaglist:function(t,e,r,n){if("string"!=typeof t)return void e.set(r);if(-1!==n.extras.indexOf(t))return void e.set(t);for(var o=t.split("+"),a=0;a<o.length;){var i=o[a];-1===n.flags.indexOf(i)||o.indexOf(i)<a?o.splice(a,1):a++}e.set(o.length?o.join("+"):r)},any:function(t,e,r){e.set(void 0===t?r:t)}};c.coerce=function(t,e,r,n,o){var a=c.nestedProperty(r,n).get(),i=c.nestedProperty(t,n),l=c.nestedProperty(e,n),s=i.get();return void 0===o&&(o=a.dflt),a.arrayOk&&Array.isArray(s)?(l.set(s),s):(O[a.type](s,l,o,a),l.get())},c.noneOrBoth=function(t,e,r,n){if(t){var o=void 0!==t[r]&&null!==t[r],a=void 0!==t[n]&&null!==t[n];a&&!o?t[r]=e[r]:o&&!a&&(t[n]=e[n])}},c.mergeArray=function(t,e,r){if($.isArray(t))for(var n=Math.min(t.length,e.length),o=0;n>o;o++)e[o][r]=t[o]},c.minExtend=function(t,e){var r={};"object"!=typeof e&&(e={});var n=3;return Object.keys(t).forEach(function(o){var a=t[o];"_"!==o.charAt(0)&&"function"!=typeof a&&(r[o]="module"===o?a:Array.isArray(a)?a.slice(0,n):a&&"object"==typeof a?c.minExtend(t[o],e[o]):a)}),Object.keys(e).forEach(function(t){var n=e[t];"object"==typeof n&&t in r&&"object"==typeof r[t]||(r[t]=n)}),r},c.escapeForHtml=function(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#x2f;")}}(),function(){window.Plotly||(window.Plotly={});var t=Plotly.Storage={};t.supports_html5_storage=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}},t.localGet=function(e){return t.supports_html5_storage()?JSON.parse(localStorage.getItem(e)):null},t.localSet=function(e,r){t.supports_html5_storage()&&localStorage.setItem(e,JSON.stringify(r))},t.notificationMemoryGet=function(e){var r=t.localGet("notifmem_"+e);if(null===r)return{last:null,count:0};var n=(new Date).getTime();return r.last=(n-r.last)/1e3,r},t.notificationMemoryViewed=function(e){var r=t.localGet("notifmem_"+e);null===r?r={last:(new Date).getTime(),count:1}:(r.count+=1,r.last=(new Date).getTime()),t.localSet("notifmem_"+e,r)}}(),function(){"use strict";window.Plotly||(window.Plotly={});var t=window.Plotly.util={};t.scriptLoader=function(t,e){function r(r){function o(e,r,n,o){t.getElementById(e)||setTimeout(function(){a=t.createElement("script"),a.type="text/javascript",a.id=e,a.async=!0,a.src=r,s.parentNode.insertBefore(a,s),o&&o.call(window)},n)}var a,i=n.loadDelay,l=[].concat(r),s=t.getElementsByTagName("script")[0],c=/^http:/.test(t.location)?"http":"https",u="https"===c?"https://ssl":"http://www";if(-1!==l.indexOf("facebook")){var d=document.querySelector("body"),f=d.firstChild,p=document.createElement("div");p.id="fb-root",d.insertBefore(p,f),e.fbAsyncInit=function(){FB.init({appId:ENV.FACEBOOK_PAGE_APP_ID,status:!0,cookie:!0,xfbml:!0})};var y=!1;o("facebook-jssdk","//connect.facebook.net/en_US/all"+(y?"/debug":"")+".js",i)}-1!==l.indexOf("googleAnalytics")&&(e._gaq=e._gaq||[],e._gaq.push(["_setAccount",ENV.GOOGLEANALYTICS_ACCOUNT]),e._gaq.push(["_setSiteSpeedSampleRate",10]),e._gaq.push(["_trackPageview"]),o("google-analytics",u+".google-analytics.com/ga.js",i)),-1!==l.indexOf("googlePlus")&&o("google-plus","https://apis.google.com/js/plusone.js",i),-1!==l.indexOf("twitter")&&o("twitter-wjs",c+"://platform.twitter.com/widgets.js",i)}var n={loadDelay:0};return r.config=function(t){return n=t,this},r},t.imageExporter=function(){function t(t){function a(){setTimeout(function(){var a;if("jpeg"===o)a=g.toDataURL("image/jpeg");else if("png"===o)a=g.toDataURL("image/png");else if("svg"===o)a=t;else{if("pdf"!==o)return e({err:"Image format is not jpeg, png, svg, or pdf",code:400});a=g.toDataURL("image/jpeg");var i=700/1058,l=c>f?"landscape":"portrait",u=new jsPDF(l,"pt",[f*i,c*i]);u.addImage(a,"JPEG",0,0,c*i,f*i),a=u.output("dataurlstring")}0===s&&(r.remove(),h.remove()),a?n.success(a):e({err:"Image is empty",code:530})},0)}var l,c,f;if("string"==typeof t)l=t,c=i.width,f=i.height;else{if(!t.append&&!t.className)return e("wrong input svg (d3 selection or DOM node)");var p=t.append?t.node():t,y=new XMLSerializer;l=y.serializeToString(p),c=p.offsetWidth,f=p.offsetHeight}r&&r.html(""),r=d3.select("body").append("div").attr({id:d}).style({position:"absolute",top:0,left:0,"z-index":1e3}),2>s&&r.style({visibility:"hidden"});var h=r.append("canvas").attr({id:u,width:c,height:f}),g=h.node(),m=g.getContext("2d"),v=self.URL||self.webkitURL||self,x=new Image,b=new Blob([l],{type:"image/svg+xml;charset=utf-8"}),w=v.createObjectURL(b);x.onload=function(){m.drawImage(x,0,0),v.revokeObjectURL(w),a()},x.onerror=function(){return v.revokeObjectURL(w),e("img didnt load")},x.src=w}function e(t){if(n.error(t),1===s)console.log("Error: "+t);else if(2===s)throw t}var r,n=d3.dispatch("success","error"),o="png",a={width:300,height:150},i={width:300,height:150},l="url",s=0,c="Converted Image",u="canvasEl",d="canvasContainer";return d3.rebind(t,n,"on"),t.imageFormat=function(t){return o=t,this},t.outputType=function(t){return l=t,this},t.debugLevel=function(t){return s=t,this},t.title=function(t){return c=t,this},t.sourceSize=function(t){return i=t,this},t.targetSize=function(t){return a=t,this},t.canvasContainerId=function(t){return d=t,this},t.canvasElId=function(t){return u=t,this},t},d3.selection.prototype.appendSVG=function(t){for(var e='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+t+"</svg>",r=(new DOMParser).parseFromString(e,"application/xml"),n=r.documentElement.firstChild;n;)this.node().appendChild(this.node().ownerDocument.importNode(n,!0)),n=n.nextSibling;return r.querySelector("parsererror")?(console.log(r.querySelector("parsererror div").innerText),null):d3.select(this.node().lastChild)},t.compileTemplate=function(t,e){return[].concat(e).map(function(e){return t.replace(/{([^}]*)}/g,function(t,r){return e[r]||""})}).join("\n")},t.tmpl=function(t,e){var r={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},n=/\\|'|\r|\n|\u2028|\u2029/g,o={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},a=function(t){return"\\"+o[t]},i=/(.)^/,l=new RegExp([(r.escape||i).source,(r.interpolate||i).source,(r.evaluate||i).source].join("|")+"|$","g"),s=0,c="__p+='";t.replace(l,function(e,r,o,i,l){return c+=t.slice(s,l).replace(n,a),s=l+e.length,r?c+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":o?c+="'+\n((__t=("+o+"))==null?'':__t)+\n'":i&&(c+="';\n"+i+"\n__p+='"),e}),c+="';\n",r.variable||(c="with(obj||{}){\n"+c+"}\n"),c="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+c+"return __p;\n";var u;try{u=new Function(r.variable||"obj","_",c)}catch(d){throw d.source=c,d}if(e)return u(e);var f=function(t){return u.call(this,t)},p=r.variable||"obj";return f.source="function("+p+"){\n"+c+"}",f},t.getSVGBBoxFromString=function(t,e){var r=d3.select("body").append("div").style({visibility:"none"}),n=r.append("svg").append("text").text(t).style(e),o=n.node().getBBox();return r.remove(),o},t.html_entity_decode=function(t){var e=d3.select("body").append("div").style({display:"none"}).html(""),r=t.replace(/(&[^;]*;)/gi,function(t){return"&lt;"===t?"&#60;":"&rt;"===t?"&#62;":e.html(t).text()});return e.remove(),r},t.xml_entity_encode=function(t){return t.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")},t.toCamelCase=function(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})},t.jsHook=function(t){var e=t.className.match(/js-[^ ]+/);return e?e[0]:null},t.wrap=function(t){return function(){function e(){var t=this.node().getBBox().height;this.text("").selectAll("tspan").data(l).enter().append("tspan").attr({x:0,y:function(e,r){return(r+1)*t}}).text(function(t){return t.join(" ")})}function r(t){var e=n.style({visibility:"hidden"}).text(t),r=e.node().getBBox().width;return n.style({visibility:"visible"}).text(o),r}var n=this,o=this.text(),a=this.node().parentNode,i=o.split(" "),l=[[]],s=0;i.forEach(function(e){r(l[s].concat(e).join(" "),a)>=t&&(s++,l[s]=[]),l[s].push(e)}),this.call(e)}},t.getSize=function(t,e){return t.node().getBoundingClientRect()[e]},t.convertToTspans=function(t,e){function r(){s.empty()||(c=a.attr("class")+"-math",s.select("svg."+c).remove()),t.text("").style({visibility:"visible"}),l=t.appendSVG(o),l||t.text(n),e&&e.call(a)}var n=t.text(),o=Plotly.util.convertToSvg(n),a=t,i=!a.attr("data-notex")&&o.match(/([^$]*)([$]+[^$]*[$]+)([^$]*)/),l=n,s=d3.select(a.node().parentNode);if(!s.empty()){var c=a.attr("class")?a.attr("class").split(" ")[0]:"text";if(c+="-math",s.selectAll("svg."+c).remove(),s.selectAll("g."+c+"-group").remove(),t.style({visibility:null}).attr("data-bb",null),$(t.node()).parents().attr("data-bb",null),i){var u=$(a.node()).parents(".js-plotly-plot")[0];(u&&u._promises||[]).push(new Promise(function(t){a.style({visibility:"hidden"});var n={fontSize:parseInt(a.style("font-size"),10)};Plotly.util.texToSVG(i[2],n,function(n,o,i){s.selectAll("svg."+c).remove(),s.selectAll("g."+c+"-group").remove();var l=n&&n.select("svg");if(!l||!l.node())return r(),void t();var u=s.append("g").classed(c+"-group",!0).attr({"pointer-events":"none"});u.node().appendChild(l.node()),o&&o.node()&&l.node().insertBefore(o.node().cloneNode(!0),l.node().firstChild),l.attr({"class":c,height:i.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var d=a.style("fill")||"black";l.select("g").attr({fill:d,stroke:d});var f=Plotly.util.getSize(l,"width"),p=Plotly.util.getSize(l,"height"),y=+a.attr("x")-f*{start:0,middle:.5,end:1}[a.attr("text-anchor")||"start"],h=parseInt(a.style("font-size"),10)||Plotly.util.getSize(a,"height"),g=-h/4;"y"===c[0]?(u.attr({transform:"rotate("+[-90,+a.attr("x"),+a.attr("y")]+") translate("+[-f/2,g-p/2]+")"}),l.attr({x:+a.attr("x"),y:+a.attr("y")})):l.attr("l"===c[0]?{x:a.attr("x"),y:g-p/2}:"a"===c[0]?{x:0,y:g}:{x:y,y:+a.attr("y")+g-p/2}),e&&e.call(a,u),t(u)})}))}else r();return t}},t.texToSVG=function(t,e,r){var n="math-output-"+Plotly.Lib.randstr([],64),o=d3.select("body").append("div").attr({id:n}).style({visibility:"hidden",position:"absolute"}).style({"font-size":e.fontSize+"px"}).text(t);MathJax.Hub.Queue(["Typeset",MathJax.Hub,o.node()],function(){var e=d3.select("body").select("#MathJax_SVG_glyphs");if(o.select(".MathJax_SVG").empty()||!o.select("svg").node())console.log("There was an error in the tex syntax.",t),r();else{var n=o.select("svg").node().getBoundingClientRect();r(o.select(".MathJax_SVG"),e,n)}o.remove()})};var e={sup:'font-size:70%" dy="-0.6em',sub:'font-size:70%" dy="0.3em',b:"font-weight:bold",i:"font-style:italic",a:"",font:"",span:"",br:"",em:"font-style:italic;font-weight:bold"},r=new RegExp("</?("+Object.keys(e).join("|")+")( [^>]*)?/?>","g");t.plainText=function(t){return(t||"").replace(r," ")},t.convertToSvg=function(t){for(var r=d3.keys(e).map(function(t){return t.toUpperCase()}),n=Plotly.util.html_entity_decode(t),o=(n.split(/(<[^<>]*>)/).map(function(t){var n=t.match(/<(\/?)([^ >]*)[ ]?(.*)>/i);return n&&(n[2]in e||-1!==r.indexOf(n[2]))?"a"!==n[2]&&"A"!==n[2]||!n[3]?"a"!==n[2]&&"A"!==n[2]||!n[1]?n[1]?"sup"===n[2]||"SUP"===n[2]?'</tspan><tspan dy="0.42em">&#x200b;</tspan>':"sub"===n[2]||"SUB"===n[2]?'</tspan><tspan dy="-0.21em">&#x200b;</tspan>':"</tspan>":n[3]?"<tspan "+e[n[2]]+n[3]+">":"br"===n[2]||"BR"===n[2]?t:'<tspan style="'+e[n[2]]+'">':"</a>":'<a xlink:show="new" xlink:'+e[n[2]]+n[3]+">":Plotly.util.xml_entity_encode(t).replace(/</g,"&lt;")})),a=[],i=o.indexOf("<br>");i>0;i=o.indexOf("<br>",i+1))a.push(i);var l=0;a.forEach(function(t){for(var e=t+l,r=o.slice(0,e),n="",a=r.length-1;a>=0;a--){var i=r[a].match(/<(\/?).*>/i);if(i&&"<br>"!==r[a]){i[1]||(n=r[a]);break}}n&&(o.splice(e+1,0,n),o.splice(e,0,"</tspan>"),l+=2)});var s=o.join(""),c=s.split(/<br>/gi);return c.length>1&&(o=c.map(function(t,e){return'<tspan class="line" dy="'+1.3*e+'em">'+t+"</tspan>"})),o.join("")},t.alignSVGWith=function(t,e){return function(){var r=t.node().getBBox(),n="50%",o=n,a="middle",i=0,l=e.horizontalMargin||0;return"under"===e.orientation?i=r.y+r.height:"over"===e.orientation?i=r.y:"inside"===e.orientation&&(i=r.y),e.verticalMargin&&(i+=e.verticalMargin),"center"===e.horizontalAlign?(n="50%",a="middle",l/=4):"right"===e.horizontalAlign?(n="0%",a="start"):"left"===e.horizontalAlign?(n="100%",a="end",l=-l):"number"==typeof e.horizontalAlign&&(n=e.horizontalAlign,a="middle"),"inside"===e.orientation&&(o=0),this.attr({x:o,dx:l,y:i}).style({"text-anchor":a}).selectAll("tspan.line").attr({x:n,dx:l,y:i}),this}},t.alignHTMLWith=function(t){return function(){var e=t.node().getBoundingClientRect();return this.style({top:e.top+"px",left:e.left+"px","z-index":1e3}),this}},t.alignHTMLWith2=function(t){return function(){var e=t.node().getBoundingClientRect();return this.style({left:e.left+"px","z-index":1e3}),this}},t.makeEditable=function(t,e){function r(t){var e=t.node(),r=document.createRange();r.selectNodeContents(e);var n=window.getSelection();n.removeAllRanges(),n.addRange(r),e.focus()}function n(){var t=d3.select("body").append("div").classed("plugin-editable editable",!0);t.style({position:"absolute","font-family":o.style("font-family")||"Arial","font-size":o.style("font-size")||12,color:o.style("fill")||"black",opacity:1,"background-color":"transparent",outline:"#ffffff33 1px solid",margin:[-parseFloat(o.style("font-size"))/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(o.attr("data-unformatted")).call(Plotly.util.alignHTMLWith(o)).on("blur",function(){o.text(this.textContent).style({opacity:1});var t,e=d3.select(this).attr("class");t=e?"."+e.split(" ")[0]+"-math-group":"[class*=-math-group]",t&&d3.select(o.node().parentNode).select(t).style({opacity:0});var r=this.textContent;d3.select(this).transition().duration(0).remove(),d3.select(document).on("mouseup",null),a.edit.call(o,r)}).on("focus",function(){var e=this;d3.select(document).on("mouseup",function(){return d3.event.target===e?!1:void(document.activeElement===t.node()&&t.node().blur())})}).on("keyup",function(){27===d3.event.which?(o.style({opacity:1}),d3.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),a.cancel.call(o,this.textContent)):(a.input.call(o,this.textContent),d3.select(this).call(Plotly.util.alignHTMLWith2(o)))}).on("keydown",function(){13===d3.event.which&&this.blur()}).call(r)}var o=this,a=d3.dispatch("edit","input","cancel"),i=d3.select(this.node()).style({"pointer-events":"all"}).attr({"xml:space":"preserve"}),l=e||i;return e&&i.style({"pointer-events":"none"}),l.on("click",function(){n(),o.style({opacity:0});var t,e=d3.select(this).attr("class");t=e?"."+e.split(" ")[0]+"-math-group":"[class*=-math-group]",t&&d3.select(o.node().parentNode).select(t).style({opacity:0})}),d3.rebind(this,a,"on")},t.deepExtend=function(e,r){for(var n in r)r[n]&&r[n].constructor&&r[n].constructor===Object?(e[n]=e[n]||{},t.deepExtend(e[n],r[n])):e[n]=r[n];return e},t.UndoManager=function(){function t(t,e){return t?(o=!0,t[e](),o=!1,this):this}var e,r=[],n=-1,o=!1;return{add:function(t){return o?this:(r.splice(n+1,r.length-n),r.push(t),n=r.length-1,this)},setCallback:function(t){e=t},undo:function(){var o=r[n];return o?(t(o,"undo"),n-=1,e&&e(o.undo),this):this},redo:function(){var o=r[n+1];return o?(t(o,"redo"),n+=1,e&&e(o.redo),this):this},clear:function(){r=[],n=-1},hasUndo:function(){return-1!==n},hasRedo:function(){return n<r.length-1},getCommands:function(){return r},getPreviousCommand:function(){return r[n-1]},getIndex:function(){return n}}}}(),function(){"use strict";function t(t,e,r,n){var o=t[0]-e[0],a=t[1]-e[1],i=r[0]-e[0],s=r[1]-e[1],c=Math.pow(o*o+a*a,l/2),u=Math.pow(i*i+s*s,l/2),d=(u*u*o-c*c*i)*n,f=(u*u*a-c*c*s)*n,p=3*u*(c+u),y=3*c*(c+u);return[[d3.round(e[0]+(p&&d/p),2),d3.round(e[1]+(p&&f/p),2)],[d3.round(e[0]-(y&&d/y),2),d3.round(e[1]-(y&&f/y),2)]]}var e=Plotly.Drawing={};e.font=function(t,e,r,n){e&&e.family&&(n=e.color,r=e.size,e=e.family),e&&t.style("font-family",e),r&&t.style("font-size",r+"px"),n&&t.call(Plotly.Color.fill,n)},e.setPosition=function(t,e,r){t.attr("x",e).attr("y",r)},e.setSize=function(t,e,r){t.attr("width",e).attr("height",r)},e.setRect=function(t,r,n,o,a){t.call(e.setPosition,r,n).call(e.setSize,o,a)},e.translatePoints=function(t,e,r){t.each(function(t){var n=t.xp||e.c2p(t.x),o=t.yp||r.c2p(t.y),a=d3.select(this);$.isNumeric(n)&&$.isNumeric(o)?"text"===this.nodeName?a.attr("x",n).attr("y",o):a.attr("transform","translate("+n+","+o+")"):a.remove()})},e.getPx=function(t,e){return Number(t.style(e).replace(/px$/,""))},e.crispRound=function(t,e,r){return e&&$.isNumeric(e)?t._context.staticPlot?e:1>e?1:Math.round(e):r||0},e.lineGroupStyle=function(t,e,r,n){t.style("fill","none").each(function(t){var o=(((t||[])[0]||{}).trace||{}).line||{},a=e||o.width||0,i=n||o.dash||"",l=Math.max(a,3);"solid"===i?i="":"dot"===i?i=l+"px,"+l+"px":"dash"===i?i=3*l+"px,"+3*l+"px":"longdash"===i?i=5*l+"px,"+5*l+"px":"dashdot"===i?i=3*l+"px,"+l+"px,"+l+"px,"+l+"px":"longdashdot"===i&&(i=5*l+"px,"+2*l+"px,"+l+"px,"+2*l+"px"),d3.select(this).call(Plotly.Color.stroke,r||o.color).style({"stroke-dasharray":i,"stroke-width":a+"px"})})},e.fillGroupStyle=function(t){t.style("stroke-width",0).each(function(e){var r=d3.select(this);try{r.call(Plotly.Color.fill,e[0].trace.fillcolor)}catch(n){console.log(n,t),r.remove()}})};var r={circle:{n:0,f:function(t){var e=d3.round(t,2);return"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"}},square:{n:1,f:function(t){var e=d3.round(t,2);return"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"}},diamond:{n:2,f:function(t){var e=d3.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"Z"}},cross:{n:3,f:function(t){var e=d3.round(.4*t,2),r=d3.round(1.2*t,2);return"M"+r+","+e+"H"+e+"V"+r+"H-"+e+"V"+e+"H-"+r+"V-"+e+"H-"+e+"V-"+r+"H"+e+"V-"+e+"H"+r+"Z"}},x:{n:4,f:function(t){var e=d3.round(.8*t/Math.sqrt(2),2),r="l"+e+","+e,n="l"+e+",-"+e,o="l-"+e+",-"+e,a="l-"+e+","+e;return"M0,"+e+r+n+o+n+o+a+o+a+r+a+r+"Z"}},"triangle-up":{n:5,f:function(t){var e=d3.round(2*t/Math.sqrt(3),2),r=d3.round(t/2,2),n=d3.round(t,2);return"M-"+e+","+r+"H"+e+"L0,-"+n+"Z"}},"triangle-down":{n:6,f:function(t){var e=d3.round(2*t/Math.sqrt(3),2),r=d3.round(t/2,2),n=d3.round(t,2);return"M-"+e+",-"+r+"H"+e+"L0,"+n+"Z"}},"triangle-left":{n:7,f:function(t){var e=d3.round(2*t/Math.sqrt(3),2),r=d3.round(t/2,2),n=d3.round(t,2);return"M"+r+",-"+e+"V"+e+"L-"+n+",0Z"}},"triangle-right":{n:8,f:function(t){var e=d3.round(2*t/Math.sqrt(3),2),r=d3.round(t/2,2),n=d3.round(t,2);return"M-"+r+",-"+e+"V"+e+"L"+n+",0Z"}},"triangle-ne":{n:9,f:function(t){var e=d3.round(.6*t,2),r=d3.round(1.2*t,2);return"M-"+r+",-"+e+"H"+e+"V"+r+"Z"}},"triangle-se":{n:10,f:function(t){var e=d3.round(.6*t,2),r=d3.round(1.2*t,2);return"M"+e+",-"+r+"V"+e+"H-"+r+"Z"}},"triangle-sw":{n:11,f:function(t){var e=d3.round(.6*t,2),r=d3.round(1.2*t,2);return"M"+r+","+e+"H-"+e+"V-"+r+"Z"}},"triangle-nw":{n:12,f:function(t){var e=d3.round(.6*t,2),r=d3.round(1.2*t,2);return"M-"+e+","+r+"V-"+e+"H"+r+"Z"}},pentagon:{n:13,f:function(t){var e=d3.round(.951*t,2),r=d3.round(.588*t,2),n=d3.round(-t,2),o=d3.round(t*-.309,2),a=d3.round(.809*t,2);return"M"+e+","+o+"L"+r+","+a+"H-"+r+"L-"+e+","+o+"L0,"+n+"Z"}},hexagon:{n:14,f:function(t){var e=d3.round(t,2),r=d3.round(t/2,2),n=d3.round(t*Math.sqrt(3)/2,2);return"M"+n+",-"+r+"V"+r+"L0,"+e+"L-"+n+","+r+"V-"+r+"L0,-"+e+"Z"}},hexagon2:{n:15,f:function(t){var e=d3.round(t,2),r=d3.round(t/2,2),n=d3.round(t*Math.sqrt(3)/2,2);return"M-"+r+","+n+"H"+r+"L"+e+",0L"+r+",-"+n+"H-"+r+"L-"+e+",0Z"}},octagon:{n:16,f:function(t){var e=d3.round(.924*t,2),r=d3.round(.383*t,2);return"M-"+r+",-"+e+"H"+r+"L"+e+",-"+r+"V"+r+"L"+r+","+e+"H-"+r+"L-"+e+","+r+"V-"+r+"Z"}},star:{n:17,f:function(t){var e=1.4*t,r=d3.round(.225*e,2),n=d3.round(.951*e,2),o=d3.round(.363*e,2),a=d3.round(.588*e,2),i=d3.round(-e,2),l=d3.round(e*-.309,2),s=d3.round(.118*e,2),c=d3.round(.809*e,2),u=d3.round(.382*e,2);return"M"+r+","+l+"H"+n+"L"+o+","+s+"L"+a+","+c+"L0,"+u+"L-"+a+","+c+"L-"+o+","+s+"L-"+n+","+l+"H-"+r+"L0,"+i+"Z"}},hexagram:{n:18,f:function(t){var e=d3.round(.66*t,2),r=d3.round(.38*t,2),n=d3.round(.76*t,2);return"M-"+n+",0l-"+r+",-"+e+"h"+n+"l"+r+",-"+e+"l"+r+","+e+"h"+n+"l-"+r+","+e+"l"+r+","+e+"h-"+n+"l-"+r+","+e+"l-"+r+",-"+e+"h-"+n+"Z"}},"star-triangle-up":{n:19,f:function(t){var e=d3.round(t*Math.sqrt(3)*.8,2),r=d3.round(.8*t,2),n=d3.round(1.6*t,2),o=d3.round(4*t,2),a="A "+o+","+o+" 0 0 1 ";return"M-"+e+","+r+a+e+","+r+a+"0,-"+n+a+"-"+e+","+r+"Z"}},"star-triangle-down":{n:20,f:function(t){var e=d3.round(t*Math.sqrt(3)*.8,2),r=d3.round(.8*t,2),n=d3.round(1.6*t,2),o=d3.round(4*t,2),a="A "+o+","+o+" 0 0 1 ";return"M"+e+",-"+r+a+"-"+e+",-"+r+a+"0,"+n+a+e+",-"+r+"Z"}},"star-square":{n:21,f:function(t){var e=d3.round(1.1*t,2),r=d3.round(2*t,2),n="A "+r+","+r+" 0 0 1 ";return"M-"+e+",-"+e+n+"-"+e+","+e+n+e+","+e+n+e+",-"+e+n+"-"+e+",-"+e+"Z"}},"star-diamond":{n:22,f:function(t){var e=d3.round(1.4*t,2),r=d3.round(1.9*t,2),n="A "+r+","+r+" 0 0 1 ";return"M-"+e+",0"+n+"0,"+e+n+e+",0"+n+"0,-"+e+n+"-"+e+",0Z"}},"diamond-tall":{n:23,f:function(t){var e=d3.round(.7*t,2),r=d3.round(1.4*t,2);return"M0,"+r+"L"+e+",0L0,-"+r+"L-"+e+",0Z"}},"diamond-wide":{n:24,f:function(t){var e=d3.round(1.4*t,2),r=d3.round(.7*t,2);return"M0,"+r+"L"+e+",0L0,-"+r+"L-"+e+",0Z"}},hourglass:{n:25,f:function(t){var e=d3.round(t,2);return"M"+e+","+e+"H-"+e+"L"+e+",-"+e+"H-"+e+"Z"},noDot:!0},bowtie:{n:26,f:function(t){var e=d3.round(t,2);return"M"+e+","+e+"V-"+e+"L-"+e+","+e+"V-"+e+"Z"},noDot:!0},"circle-cross":{n:27,f:function(t){var e=d3.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(t){var e=d3.round(t,2),r=d3.round(t/Math.sqrt(2),2);return"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(t){var e=d3.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(t){var e=d3.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(t){var e=d3.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM0,-"+e+"V"+e+"M-"+e+",0H"+e},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(t){var e=d3.round(1.3*t,2),r=d3.round(.65*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM-"+r+",-"+r+"L"+r+","+r+"M-"+r+","+r+"L"+r+",-"+r},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(t){var e=d3.round(1.4*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e},needLine:!0,noDot:!0},"x-thin":{n:34,f:function(t){var e=d3.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0},asterisk:{n:35,f:function(t){var e=d3.round(1.2*t,2),r=d3.round(.85*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r},needLine:!0,noDot:!0},hash:{n:36,f:function(t){var e=d3.round(t/2,2),r=d3.round(t,2);return"M"+e+","+r+"V-"+r+"m-"+r+",0V"+r+"M"+r+","+e+"H-"+r+"m0,-"+r+"H"+r},needLine:!0},"y-up":{n:37,f:function(t){var e=d3.round(1.2*t,2),r=d3.round(1.6*t,2),n=d3.round(.8*t,2);return"M-"+e+","+n+"L0,0M"+e+","+n+"L0,0M0,-"+r+"L0,0"},needLine:!0,noDot:!0},"y-down":{n:38,f:function(t){var e=d3.round(1.2*t,2),r=d3.round(1.6*t,2),n=d3.round(.8*t,2);return"M-"+e+",-"+n+"L0,0M"+e+",-"+n+"L0,0M0,"+r+"L0,0"},needLine:!0,noDot:!0},"y-left":{n:39,f:function(t){var e=d3.round(1.2*t,2),r=d3.round(1.6*t,2),n=d3.round(.8*t,2);return"M"+n+","+e+"L0,0M"+n+",-"+e+"L0,0M-"+r+",0L0,0"},needLine:!0,noDot:!0},"y-right":{n:40,f:function(t){var e=d3.round(1.2*t,2),r=d3.round(1.6*t,2),n=d3.round(.8*t,2);return"M-"+n+","+e+"L0,0M-"+n+",-"+e+"L0,0M"+r+",0L0,0"},needLine:!0,noDot:!0},"line-ew":{n:41,f:function(t){var e=d3.round(1.4*t,2);return"M"+e+",0H-"+e},needLine:!0,noDot:!0},"line-ns":{n:42,f:function(t){var e=d3.round(1.4*t,2);return"M0,"+e+"V-"+e},needLine:!0,noDot:!0},"line-ne":{n:43,f:function(t){var e=d3.round(t,2);return"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0},"line-nw":{n:44,f:function(t){var e=d3.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e},needLine:!0,noDot:!0}};e.symbolNames=[],e.symbolFuncs=[],e.symbolNeedLines={},e.symbolNoDot={},e.symbolList=[],Object.keys(r).forEach(function(t){var n=r[t];e.symbolList=e.symbolList.concat([n.n,t,n.n+100,t+"-open"]),e.symbolNames[n.n]=t,e.symbolFuncs[n.n]=n.f,n.needLine&&(e.symbolNeedLines[n.n]=!0),n.noDot?e.symbolNoDot[n.n]=!0:e.symbolList=e.symbolList.concat([n.n+200,t+"-dot",n.n+300,t+"-open-dot"])});var n=e.symbolNames.length,o="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";e.symbolNumber=function(t){if("string"==typeof t){var r=0;t.indexOf("-open")>0&&(r=100,t=t.replace("-open","")),t.indexOf("-dot")>0&&(r+=200,t=t.replace("-dot","")),t=e.symbolNames.indexOf(t),t>=0&&(t+=r)}return t%100>=n||t>=400?0:Math.floor(Math.max(t,0))},e.pointStyle=function(t,r){if(t.size()){var n=r.marker,a=n.line;if(Plotly.Plots.isScatterAny(r.type)||Plotly.Plots.isBox(r.type)){var i,l=n.sizeref||1,s="area"===n.sizemode?function(t){return Math.sqrt(t/l)}:function(t){return t/l};t.attr("d",function(t){i=t.ms+1?s(t.ms/2):n.size/2,t.mrc=i,(!$.isNumeric(i)||0>i)&&(i=3);var r=e.symbolNumber(t.mx||n.symbol)||0,a=r%100;return t.om=r%200>=100,e.symbolFuncs[a](i)+(r>=200?o:"")}).style("opacity",function(t){return(t.mo+1||n.opacity+1)-1})}var c=(r._input||{}).marker||{},u=e.tryColorscale(n,c,""),d=e.tryColorscale(n,c,"line.");t.each(function(t){var e,r,o;t.so?(o=a.outlierwidth,r=a.outliercolor,e=n.outliercolor):(o=(t.mlw+1||a.width+1||(t.trace?t.trace.marker.line.width:0)+1)-1,r="mlc"in t?t.mlcc=d(t.mlc):Array.isArray(a.color)?"#444":a.color,e="mc"in t?t.mcc=u(t.mc):Array.isArray(n.color)?"#444":n.color);var i=d3.select(this);t.om?i.call(Plotly.Color.stroke,e).style({"stroke-width":(o||1)+"px",fill:"none"}):(i.style("stroke-width",o+"px").call(Plotly.Color.fill,e),o&&i.call(Plotly.Color.stroke,r))})}},e.tryColorscale=function(t,e,r){var n=Plotly.Lib.nestedProperty(t,r+"color").get(),o=Plotly.Lib.nestedProperty(t,r+"colorscale").get(),a=Plotly.Lib.nestedProperty(t,r+"cauto").get(),i=Plotly.Lib.nestedProperty(t,r+"cmin"),l=Plotly.Lib.nestedProperty(t,r+"cmax"),s=i.get(),c=l.get();if(o&&Array.isArray(n)){"string"==typeof o&&(o=Plotly.Color.scales[o]),o||(o=Plotly.Color.defaultScale),!a&&$.isNumeric(s)&&$.isNumeric(c)||(s=1/0,c=-1/0,n.forEach(function(t){$.isNumeric(t)&&(s>t&&(s=t),t>c&&(c=t))}),s>c&&(s=0,c=1),i.set(s),l.set(c),Plotly.Lib.nestedProperty(e,r+"cmin").set(s),Plotly.Lib.nestedProperty(e,r+"cmax").set(c));var u=d3.scale.linear().domain(o.map(function(t){return s+t[0]*(c-s)})).interpolate(d3.interpolateRgb).range(o.map(function(t){return t[1]}));return function(t){return $.isNumeric(t)?u(t):t}}return Plotly.Lib.identity};var a={start:1,end:-1,middle:0,bottom:1,top:-1},i=1.3;e.textPointStyle=function(t,r){t.each(function(t){var n=d3.select(this);if(!t.tx)return void n.remove();var o=t.tp||r.textposition,l=-1!==o.indexOf("top")?"top":-1!==o.indexOf("bottom")?"bottom":"middle",s=-1!==o.indexOf("left")?"end":-1!==o.indexOf("right")?"start":"middle",c=t.ts||r.textfont.size,u=t.mrc?t.mrc/.8+1:0;n.call(e.font,t.tf||r.textfont.family,c,t.tc||r.textfont.color).attr("text-anchor",s).text(t.tx).call(Plotly.util.convertToTspans);var d=d3.select(this.parentNode),f=n.selectAll("tspan.line"),p=((f[0].length||1)-1)*i+1,y=a[s]*u,h=.75*c+a[l]*u+(a[l]-1)*p*c/2;d.attr("transform","translate("+y+","+h+")"),p>1&&f.attr({x:n.attr("x"),y:n.attr("y")})})};var l=.5;e.smoothopen=function(e,r){if(e.length<3)return"M"+e.join("L");var n,o="M"+e[0],a=[];for(n=1;n<e.length-1;n++)a.push(t(e[n-1],e[n],e[n+1],r));for(o+="Q"+a[0][0]+" "+e[1],n=2;n<e.length-1;n++)o+="C"+a[n-2][1]+" "+a[n-1][0]+" "+e[n];return o+="Q"+a[e.length-3][1]+" "+e[e.length-1]},e.smoothclosed=function(e,r){if(e.length<3)return"M"+e.join("L")+"Z";var n,o="M"+e[0],a=e.length-1,i=[t(e[a],e[0],e[1],r)];for(n=1;a>n;n++)i.push(t(e[n-1],e[n],e[n+1],r));for(i.push(t(e[a-1],e[a],e[0],r)),n=1;a>=n;n++)o+="C"+i[n-1][1]+" "+i[n][0]+" "+e[n];return o+="C"+i[a][1]+" "+i[0][0]+" "+e[0]+"Z"};var s={hv:function(t,e){return"H"+d3.round(e[0],2)+"V"+d3.round(e[1],2)},vh:function(t,e){return"V"+d3.round(e[1],2)+"H"+d3.round(e[0],2)},hvh:function(t,e){return"H"+d3.round((t[0]+e[0])/2,2)+"V"+d3.round(e[1],2)+"H"+d3.round(e[0],2)},vhv:function(t,e){return"V"+d3.round((t[1]+e[1])/2,2)+"H"+d3.round(e[0],2)+"V"+d3.round(e[1],2)}},c=function(t,e){return"L"+d3.round(e[0],2)+","+d3.round(e[1],2)};e.steps=function(t){var e=s[t]||c;return function(t){for(var r="M"+d3.round(t[0][0],2)+","+d3.round(t[0][1],2),n=1;n<t.length;n++)r+=e(t[n-1],t[n]);return r}},e.makeTester=function(t){var e=d3.select("body").selectAll("#js-plotly-tester").data([0]);e.enter().append("svg").attr({id:"js-plotly-tester",xmlns:"http://www.w3.org/2000/svg","xmlns:xmlns:xlink":"http://www.w3.org/1999/xlink","xml:xml:space":"preserve"}).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px"});var r=e.selectAll(".js-reference-point").data([0]);r.enter().append("path").classed("js-reference-point",!0).attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"}),e.node()._cache||(e.node()._cache={}),t._tester=e,t._testref=r};var u=[],d=1e4;e.bBox=function(t){var e=t.attributes["data-bb"];if(e)return $.extend({},u[e.value]);var r=d3.select("#js-plotly-tester"),n=r.node(),o=t.cloneNode(!0);n.appendChild(o),d3.select(o).attr({x:0,y:0,transform:""});var a=o.getBoundingClientRect(),i=r.select(".js-reference-point").node().getBoundingClientRect();n.removeChild(o);var l={height:a.height,width:a.width,left:a.left-i.left,top:a.top-i.top,right:a.right-i.left,bottom:a.bottom-i.top};return u.length>=d&&($("[data-bb]").attr("data-bb",null),u=[]),t.setAttribute("data-bb",u.length),u.push(l),$.extend({},l)}}(),function(){"use strict";function t(t){var e=t.toRgb();return"rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")"}var e=Plotly.Color={};e.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],e.scales={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YIGnBu:[[0,"rgb(8, 29, 88)"],[.125,"rgb(37, 52, 148)"],[.25,"rgb(34, 94, 168)"],[.375,"rgb(29, 145, 192)"],[.5,"rgb(65, 182, 196)"],[.625,"rgb(127, 205, 187)"],[.75,"rgb(199, 233, 180)"],[.875,"rgb(237, 248, 217)"],[1,"rgb(255, 255, 217)"]],Greens:[[0,"rgb(0, 68, 27)"],[.125,"rgb(0, 109, 44)"],[.25,"rgb(35, 139, 69)"],[.375,"rgb(65, 171, 93)"],[.5,"rgb(116, 196, 118)"],[.625,"rgb(161, 217, 155)"],[.75,"rgb(199, 233, 192)"],[.875,"rgb(229, 245, 224)"],[1,"rgb(247, 252, 245)"]],YIOrRd:[[0,"rgb(128, 0, 38)"],[.125,"rgb(189, 0, 38)"],[.25,"rgb(227, 26, 28)"],[.375,"rgb(252, 78, 42)"],[.5,"rgb(253, 141, 60)"],[.625,"rgb(254, 178, 76)"],[.75,"rgb(254, 217, 118)"],[.875,"rgb(255, 237, 160)"],[1,"rgb(255, 255, 204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5, 10, 172)"],[.35,"rgb(106, 137, 247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220, 170, 132)"],[.7,"rgb(230, 145, 90)"],[1,"rgb(178, 10, 28)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0, 0, 200)"],[.25,"rgb(0, 25, 255)"],[.375,"rgb(0, 152, 255)"],[.5,"rgb(44, 255, 150)"],[.625,"rgb(151, 255, 0)"],[.75,"rgb(255, 234, 0)"],[.875,"rgb(255, 111, 0)"],[1,"rgb(255, 0, 0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]]},e.defaultScale=e.scales.RdBu,e.getScale=function(t,r){function n(){try{t=e.scales[t]||JSON.parse(t)
}catch(n){t=r}}if(r||(r=e.defaultScale),!t)return r;if("string"==typeof t&&(n(),"string"==typeof t&&n()),!Array.isArray(t))return r;var o=0,a=t.some(function(t){return 2!==t.length?!0:t[0]<o?!0:(o=t[0],!tinycolor(t[1]).ok)});return a?r:t},function(){function t(t,e){o.insertRule?o.insertRule(t+"{"+e+"}",0):o.addRule?o.addRule(t,e,0):console.log("addStyleRule failed")}function r(t){return String(Math.round(100*(1-t[0])))+"%"}if($("#plotlyMainMarker").length){var n=document.createElement("style");n.appendChild(document.createTextNode("")),document.head.appendChild(n);var o=n.sheet;for(var a in e.scales){for(var i=e.scales[a],l="",s="",c=i.length-1;c>=0;c--)l+=", "+i[c][1]+" "+r(i[c]),s+=", color-stop("+r(i[c])+","+i[c][1]+")";var u="background: "+i[i.length-1][1]+";background: -moz-linear-gradient(top"+l+");background: -webkit-gradient(linear, left top, left bottom"+s+");background: -webkit-linear-gradient(top"+l+");background: -o-linear-gradient(top"+l+");background: -ms-linear-gradient(top"+l+");background: linear-gradient(to bottom"+l+');filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="'+i[i.length-1][1]+'",endColorstr="'+i[0][1]+'",GradientType=0);';t("."+a,u)}}}(),e.rgb=function(e){return t(tinycolor(e))},e.opacity=function(t){return t?tinycolor(t).alpha:0},e.addOpacity=function(t,e){var r=tinycolor(t).toRgb();return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+e+")"},e.stroke=function(e,r){var n=tinycolor(r);e.style({stroke:t(n),"stroke-opacity":n.alpha})},e.fill=function(e,r){var n=tinycolor(r);e.style({fill:t(n),"fill-opacity":n.alpha})}}(),function(){"use strict";function t(t,e){if("-"===t.type){var r=t._id,n=r.charAt(0);if(-1!==r.indexOf("scene")&&(r=n),e=e.filter(function(t){return(t[n+"axis"]||n)===r}),e.length){var o=e[0];if("histogram"===o.type&&n==={v:"y",h:"x"}[o.orientation||"v"])return void(t.type="linear");var a={v:"x",h:"y"}[o.orientation||"v"];t.type=s.autoType(!Plotly.Plots.isBox(o.type)||n!==a||a in o||a+"0"in o?o[n]||[o[n+"0"]]:e.filter(function(t){return Plotly.Plots.isBox(t.type)}).map(function(t){return a in t?t.pos[0]:"name"in t?t.name:"text"}))}}}function e(t){return t&&t.some(function(t){return $.isNumeric(t)})}function r(t){var e,r=t.dtick;if(t._tickexponent=0,$.isNumeric(r)||"string"==typeof r||(r=1),"category"===t.type)t._tickround=null;else if($.isNumeric(r)||"L"===r.charAt(0))if("date"===t.type)t._tickround=r>=864e5?"d":r>=36e5?"H":r>=6e4?"M":r>=1e3?"S":3-Math.round(Math.log(r/2)/Math.LN10);else{$.isNumeric(r)||(r=Number(r.substr(1))),t._tickround=2-Math.floor(Math.log(r)/Math.LN10+.01),e="log"===t.type?Math.pow(10,Math.max(t.range[0],t.range[1])):Math.max(Math.abs(t.range[0]),Math.abs(t.range[1]));var n=Math.floor(Math.log(e)/Math.LN10+.01);Math.abs(n)>3&&(t._tickexponent=-1!==["SI","B"].indexOf(t.exponentformat)?3*Math.round((n-1)/3):n)}else t._tickround="M"===r.charAt(0)?2===r.length?"m":"y":null}function n(t,e){var r=t.match(v),n=new Date(e);if(r){var o=Math.min(+r[1]||6,6),a=String(e/1e3%1+2.0000005).substr(2,o).replace(/0+$/,"")||"0";return d3.time.format(t.replace(v,a))(n)}return d3.time.format(t)(n)}function o(t,e,n,o){var i=0>t,l=e._tickround,s=n||e.exponentformat||"B",c=e._tickexponent;if(o){var u={exponentformat:e.exponentformat,dtick:"none"===e.showexponent?e.dtick:$.isNumeric(t)?Math.abs(t)||1:1,range:"none"===e.showexponent?e.range:[0,t||1]};r(u),l=(Number(u._tickround)||0)+2,c=u._tickexponent}var d=Math.pow(10,-l)/2;if("none"===s&&(c=0),t=Math.abs(t),d>t)t="0",i=!1;else{if(t+=d,c&&(t*=Math.pow(10,-c),l+=c),0===l)t=String(Math.floor(t));else if(0>l){t=String(Math.round(t)),t=t.substr(0,t.length+l);for(var f=l;0>f;f++)t+="0"}else{t=String(t);var p=t.indexOf(".")+1;p&&(t=t.substr(0,p+l).replace(/\.?0+$/,""))}t=a(t,e._td._fullLayout.separators)}return c&&"hide"!==s&&("e"===s||("SI"===s||"B"===s)&&(c>12||-15>c)?t+="e"+(c>0?"+":"")+c:"E"===s?t+="E"+(c>0?"+":"")+c:"power"===s?t+="&times;10"+String(c).sup():"B"===s&&9===c?t+="B":"SI"===s||"B"===s?t+=x[c/3+5]:console.log("unknown exponent format "+s)),(i?"-":"")+t}function a(t,e){var r=e.charAt(0),n=e.charAt(1),o=t.split("."),a=o[0],i=o.length>1?r+o[1]:"";if(n&&(o.length>1||a.length>4))for(;b.test(a);)a=a.replace(b,"$1"+n+"$2");return a+i}function i(t,e,r){function n(t){return Object.keys(t).filter(function(t){return e&&t.charAt(0)!==e?!1:t.match(/^[xyz]axis[0-9]*/g)}).sort()}var o=t._fullLayout;if(!o)return[];var a=n(o);if(r)return a;var i=[],l=Plotly.Lib.getSceneKeys(o);return l&&l.forEach(function(t){i=i.concat(n(o[t]).map(function(e){return t+"."+e}))}),a.concat(i)}function l(t,e){return(t%e+e)%e}var s=Plotly.Axes={};s.attributes={title:{type:"string"},titlefont:{type:"font"},type:{type:"enumerated",values:["-","linear","log","date","category"],dflt:"-"},autorange:{type:"enumerated",values:[!0,!1,"reversed"],dflt:!0},rangemode:{type:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal"},range:[{type:"number"},{type:"number"}],autotick:{type:"boolean",dflt:!0},nticks:{type:"integer",min:0,dflt:0},tick0:{type:"number",dflt:0},dtick:{type:"any",dflt:1},ticks:{type:"enumerated",values:["outside","inside",""]},mirror:{type:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1},ticklen:{type:"number",min:0,dflt:5},tickwidth:{type:"number",min:0,dflt:1},tickcolor:{type:"color",dflt:"#444"},showticklabels:{type:"boolean",dflt:!0},tickfont:{type:"font"},tickangle:{type:"angle",dflt:"auto"},showexponent:{type:"enumerated",values:["all","first","last","none"],dflt:"all"},exponentformat:{type:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B"},tickformat:{type:"string",dflt:""},hoverformat:{type:"string",dflt:""},showline:{type:"boolean",dflt:!1},linecolor:{type:"color",dflt:"#444"},linewidth:{type:"number",min:0,dflt:1},showgrid:{type:"boolean"},gridcolor:{type:"color",dflt:"#eee"},gridwidth:{type:"number",min:0,dflt:1},zeroline:{type:"boolean"},zerolinecolor:{type:"color",dflt:"#444"},zerolinewidth:{type:"number",dflt:1},anchor:{type:"enumerated"},side:{type:"enumerated"},overlaying:{type:"enumerated"},domain:[{type:"number",min:0,max:1,dflt:0},{type:"number",min:0,max:1,dflt:1}],position:{type:"number",min:0,max:1,dflt:0}},s.supplyDefaults=function(t,e,r){function n(t,e){var r=Number(t.substr(5)||1),n=Number(e.substr(5)||1);return r-n}var o=Object.keys(t).filter(function(t){return t.match(/^xaxis[0-9]*$/)}),a=Object.keys(t).filter(function(t){return t.match(/^yaxis[0-9]*$/)}),i={},l={};r.forEach(function(t){var e=s.id2name(t.xaxis),r=s.id2name(t.yaxis);if(e&&-1===o.indexOf(e)&&o.push(e),r&&-1===a.indexOf(r)&&a.push(r),Plotly.Plots.isHeatmap(t.type)&&(i[e]=!0,i[r]=!0),Plotly.Plots.isBar(t.type)||Plotly.Plots.isBox(t.type)){var n="h"===t.orientation?r:e;l[n]=!0}}),(e._hasCartesian||!r.length)&&(o.length?o.sort(n):o=["xaxis"],a.length?a.sort(n):a=["yaxis"]),o.concat(a).forEach(function(n){var c=n.charAt(0),u=t[n]||{},d={letter:c,font:e.font,outerTicks:i[n],showGrid:!l[n],name:n,data:r},f={letter:c,counterAxes:{x:a,y:o}[c].map(s.name2id),overlayableAxes:{x:o,y:a}[c].filter(function(e){return e!==n&&!(t[e]||{}).overlaying}).map(s.name2id)};e[n]=s.supplyAxisDefaults(u,null,d),s.supplyAxisPositioningDefaults(u,e[n],f),t[n]||"-"===u.type||(t[n]={type:u.type})}),o.length&&a.length&&Plotly.Lib.coerce(t,e,Plotly.Plots.layoutAttributes,"plot_bgcolor")},s.supplyAxisDefaults=function(e,r,n){function o(t,n){return Plotly.Lib.coerce(e,r,s.attributes,t,n)}r=r||{};var a=n.letter,i="Click to enter "+(n.title||a.toUpperCase()+" axis")+" title",l=n.font||{},c=n.outerTicks,u=n.showGrid;n.name&&(r._name=n.name,r._id=s.name2id(n.name));var d=o("type");"-"===d&&(t(r,n.data),"-"===r.type?r.type="linear":d=e.type=r.type),s.setConvert(r),o("title",i),o("titlefont",{family:l.family,size:Math.round(1.2*l.size),color:l.color});var f=2===(e.range||[]).length&&$.isNumeric(e.range[0])&&$.isNumeric(e.range[1]),p=o("autorange",!f);p&&o("rangemode");var y=o("range[0]",-1),h=o("range[1]","x"===a?6:4);y===h&&(r.range=[y-1,y+1]),Plotly.Lib.noneOrBoth(e.range,r.range,0,1);var g=o("autotick");("log"===d||"date"===d)&&(g=r.autotick=!0),g&&o("nticks"),o("tick0",0),o("dtick");var m=o("ticks",c?"outside":"");m&&(o("ticklen"),o("tickwidth"),o("tickcolor"));var v=o("showticklabels");v&&(o("tickfont",l),o("tickangle"),"date"===d?(o("tickformat"),o("hoverformat")):(o("showexponent"),o("exponentformat")));var x=o("showline");x&&(o("linecolor"),o("linewidth")),(x||m)&&o("mirror");var b=o("showgrid",u);b&&(o("gridcolor"),o("gridwidth"));var w=o("zeroline",u);return w&&(o("zerolinecolor"),o("zerolinewidth")),r},s.supplyAxisPositioningDefaults=function(t,e,r){function n(r,n){return Plotly.Lib.coerce(t,e,s.attributes,r,n)}e||(e={});var o=r.counterAxes||[],a=r.overlayableAxes||[],i=r.letter,l=Plotly.Lib.coerce(t,e,{anchor:{type:"enumerated",values:["free"].concat(o),dflt:$.isNumeric(t.position)?"free":o[0]||"free"}},"anchor");"free"===l&&n("position"),Plotly.Lib.coerce(t,e,{side:{type:"enumerated",values:"x"===i?["bottom","top"]:["left","right"],dflt:"x"===i?"bottom":"left"}},"side");var c=!1;if(a.length&&(c=Plotly.Lib.coerce(t,e,{overlaying:{type:"enumerated",values:[!1].concat(a),dflt:!1}},"overlaying")),!c){var u=n("domain[0]"),d=n("domain[1]");u>d-.01&&(e.domain=[0,1]),Plotly.Lib.noneOrBoth(t.domain,e.domain,0,1)}return e},s.clearTypes=function(t,e){$.isArray(e)&&e.length||(e=t._fullData.map(function(t,e){return e})),e.forEach(function(e){var r=t.data[e];delete(s.getFromId(t,r.xaxis)||{}).type,delete(s.getFromId(t,r.yaxis)||{}).type})};var c=/^[xyz][0-9]*$/,u=/^[xyz]axis[0-9]*$/;s.id2name=function(t){if("string"==typeof t&&t.match(c)){var e=t.substr(1);return"1"===e&&(e=""),t.charAt(0)+"axis"+e}},s.name2id=function(t){if(t.match(u)){var e=t.substr(5);return"1"===e&&(e=""),t.charAt(0)+e}},s.cleanId=function(t,e){if(t.match(c)&&(!e||t.charAt(0)===e)){var r=t.substr(1).replace(/^0+/,"");return"1"===r&&(r=""),t.charAt(0)+r}},s.cleanName=function(t,e){if(t.match(c)&&(!e||t.charAt(0)===e)){var r=t.substr(5).replace(/^0+/,"");return"1"===r&&(r=""),t.charAt(0)+"axis"+r}},s.counterLetter=function(t){return{x:"y",y:"x"}[t.charAt(0)]},s.autoType=function(t){return s.moreDates(t)?"date":s.category(t)?"category":e(t)?"linear":"-"},s.moreDates=function(t){for(var e,r=0,n=0,o=Math.max(1,(t.length-1)/1e3),a=0;a<t.length;a+=o)e=t[Math.round(a)],Plotly.Lib.isDateTime(e)&&(r+=1),$.isNumeric(e)&&(n+=1);return r>2*n},s.category=function(t){function e(t){return!$.isNumeric(t)&&-1===["","None"].indexOf("v")}for(var r,n=Math.max(1,(t.length-1)/1e3),o=0,a=0,i=0;i<t.length;i+=n)r=s.cleanDatum(t[Math.round(i)]),$.isNumeric(r)?o++:r&&e(r)&&a++;return a>2*o},s.cleanDatum=function(t){try{if("object"==typeof t&&null!==t&&t.getTime)return Plotly.Lib.ms2DateTime(t);if("string"!=typeof t&&!$.isNumeric(t))return"";t=t.toString().replace(/['"%,$# ]/g,"")}catch(e){console.log(e,t)}return t},s.setConvert=function(t){function e(t){return t>0?Math.log(t)/Math.LN10:o}function r(t){return Math.pow(10,t)}function n(t){return $.isNumeric(t)?Number(t):o}var o=void 0;t.c2l="log"===t.type?e:n,t.l2c="log"===t.type?r:n,t.setScale=function(){var e,r=t._td._fullLayout._size;if(t._categories||(t._categories=[]),t.overlaying){var n=s.getFromId(t._td,t.overlaying);t.domain=n.domain}for(t.range&&2===t.range.length&&t.range[0]!==t.range[1]||(t.range=[-1,1]),e=0;2>e;e++)$.isNumeric(t.range[e])||(t.range[e]=$.isNumeric(t.range[1-e])?t.range[1-e]*(e?10:.1):e?1:-1),t.range[e]<-(Number.MAX_VALUE/2)?t.range[e]=-(Number.MAX_VALUE/2):t.range[e]>Number.MAX_VALUE/2&&(t.range[e]=Number.MAX_VALUE/2);"y"===t._id.charAt(0)?(t._offset=r.t+(1-t.domain[1])*r.h,t._length=r.h*(t.domain[1]-t.domain[0]),t._m=t._length/(t.range[0]-t.range[1]),t._b=-t._m*t.range[1]):(t._offset=r.l+t.domain[0]*r.w,t._length=r.w*(t.domain[1]-t.domain[0]),t._m=t._length/(t.range[1]-t.range[0]),t._b=-t._m*t.range[0])};var a=10;if(t.l2p=function(e){return d3.round(Plotly.Lib.constrain(t._b+t._m*e,-a*t._length,(1+a)*t._length),2)},t.p2l=function(e){return(e-t._b)/t._m},t.c2p=function(e,r){var n=t.c2l(e);if($.isNumeric(n))return t.l2p(n);if(r&&$.isNumeric(e)){var i=t.range[0],l=t.range[1];return t.l2p(.5*(i+l-3*a*Math.abs(i-l)))}return o},t.p2c=function(e){return t.l2c(t.p2l(e))},-1!==["linear","log","-"].indexOf(t.type))t.c2d=n,t.d2c=function(t){return t=s.cleanDatum(t),$.isNumeric(t)?Number(t):o},t.d2l=function(e){return"log"===t.type?t.c2l(t.d2c(e)):t.d2c(e)};else if("date"===t.type){if(t.c2d=function(t){return $.isNumeric(t)?Plotly.Lib.ms2DateTime(t):o},t.d2c=function(t){return $.isNumeric(t)?Number(t):Plotly.Lib.dateTime2ms(t)},t.d2l=t.d2c,t.range&&t.range.length>1)try{var i=t.range.map(Plotly.Lib.dateTime2ms);!$.isNumeric(t.range[0])&&$.isNumeric(i[0])&&(t.range[0]=i[0]),!$.isNumeric(t.range[1])&&$.isNumeric(i[1])&&(t.range[1]=i[1])}catch(l){console.log(l,t.range)}}else"category"===t.type&&(t.c2d=function(e){return t._categories[Math.round(e)]},t.d2c=function(e){-1===t._categories.indexOf(e)&&t._categories.push(e);var r=t._categories.indexOf(e);return-1===r?o:r},t.d2l=t.d2c);t.makeCalcdata=function(e,r){if(r in e)return e[r].map(t.d2c);var n=r+"0"in e?t.d2c(e[r+"0"]):0,o=e["d"+r]?Number(e["d"+r]):1,a=e[{x:"y",y:"x"}[r]];return a.map(function(t,e){return n+e*o})},t._min=[],t._max=[],t._minDtick=null,t._forceTick0=null},s.minDtick=function(t,e,r,n){-1===["log","category"].indexOf(t.type)&&n?null===t._minDtick?(t._minDtick=e,t._forceTick0=r):t._minDtick&&((t._minDtick/e+1e-6)%1<2e-6&&((r-t._forceTick0)/e%1+1.000001)%1<2e-6?(t._minDtick=e,t._forceTick0=r):((e/t._minDtick+1e-6)%1>2e-6||((r-t._forceTick0)/t._minDtick%1+1.000001)%1>2e-6)&&(t._minDtick=0)):t._minDtick=0},s.doAutoRange=function(t){function e(t){return t.val}if(t._length||t.setScale(),t.autorange&&t._min&&t._max&&t._min.length&&t._max.length){var r,n,o,a,i,l,s,c,u=0,d=Math.min.apply(null,t._min.map(e)),f=Math.max.apply(null,t._max.map(e)),p=t.range&&t.range[1]<t.range[0];for("reversed"===t.autorange&&(p=!0,t.autorange=!0),r=0;r<t._min.length;r++)for(o=t._min[r],n=0;n<t._max.length;n++)a=t._max[n],c=a.val-o.val,s=t._length-o.pad-a.pad,c>0&&s>0&&c/s>u&&(i=o,l=a,u=c/s);d===f?t.range=p?[d+1,d-1]:[d-1,d+1]:u&&(("linear"===t.type||"-"===t.type)&&("tozero"===t.rangemode&&i.val>=0?i={val:0,pad:0}:"nonnegative"===t.rangemode&&(i.val-u*i.pad<0&&(i={val:0,pad:0}),l.val<0&&(l={val:1,pad:0})),u=(l.val-i.val)/(t._length-i.pad-l.pad)),t.range=[i.val-u*i.pad,l.val+u*l.pad],t.range[0]===t.range[1]&&(t.range=[t.range[0]-1,t.range[0]+1]),p&&t.range.reverse());var y=t._td.layout[t._name];y||(t._td.layout[t._name]=y={}),y!==t&&(y.range=t.range.slice(),y.autorange=t.autorange)}};var d=Number.MAX_VALUE/2;s.expand=function(t,e,r){function n(t){if($.isArray(t))return function(e){return Math.max(Number(t[e]||0),0)};var e=Math.max(Number(t||0),0);return function(){return e}}function o(r){function n(t){return $.isNumeric(t)&&Math.abs(t)<d}if(s=e[r],$.isNumeric(s)){if(f=b(r)+v,p=w(r)+v,h=s-k(r),g=s+P(r),"log"===t.type&&g/10>h&&(h=g/10),c=t.c2l(h),u=t.c2l(g),x&&(c=Math.min(0,c),u=Math.max(0,u)),n(c)){for(y=!0,i=0;i<t._min.length&&y;i++)l=t._min[i],l.val<=c&&l.pad>=p?y=!1:l.val>=c&&l.pad<=p&&(t._min.splice(i,1),i--);y&&t._min.push({val:c,pad:x&&0===c?0:p})}if(n(u)){for(y=!0,i=0;i<t._max.length&&y;i++)l=t._max[i],l.val>=u&&l.pad>=f?y=!1:l.val<=u&&l.pad<=f&&(t._max.splice(i,1),i--);y&&t._max.push({val:u,pad:x&&0===u?0:f})}}}if(t.autorange&&e){t._min||(t._min=[]),t._max||(t._max=[]),r||(r={}),t._m||t.setScale();var a,i,l,s,c,u,f,p,y,h,g,m=e.length,v=r.padded?.05*t._length:0,x=r.tozero&&("linear"===t.type||"-"===t.type),b=n((t._m>0?r.ppadplus:r.ppadminus)||r.ppad||0),w=n((t._m>0?r.ppadminus:r.ppadplus)||r.ppad||0),P=n(r.vpadplus||r.vpad),k=n(r.vpadminus||r.vpad);for(a=0;6>a;a++)o(a);for(a=m-1;a>5;a--)o(a)}},s.autoBin=function(t,e,r,n){function o(t){return(1+100*(t-y)/f.dtick)%100<2}var a=Plotly.Lib.aggNums(Math.min,null,t),i=Plotly.Lib.aggNums(Math.max,null,t);if("category"===e.type)return{start:a-.5,end:i+.5,size:1};var l;if(r)l=(i-a)/r;else{var c=Plotly.Lib.distinctVals(t),u=Math.pow(10,Math.floor(Math.log(c.minDiff)/Math.LN10)),d=u*Plotly.Lib.roundUp(c.minDiff/u,[.9,1.9,4.9,9.9],!0);l=Math.max(d,2*Plotly.Lib.stdev(t)/Math.pow(t.length,n?.25:.4))}var f={type:"log"===e.type?"linear":e.type,range:[a,i]};s.autoTicks(f,l);var p,y=s.tickIncrement(s.tickFirst(f),f.dtick,"reverse");if("number"==typeof f.dtick){for(var h=0,g=0,m=0,v=0,x=0;x<t.length;x++)t[x]%1===0?m++:$.isNumeric(t[x])||v++,o(t[x])&&h++,o(t[x]+f.dtick/2)&&g++;var b=t.length-v;if(m===b&&"date"!==e.type)f.dtick<1?y=a-.5*f.dtick:y-=.5;else if(.1*b>g&&(h>.3*b||o(a)||o(i))){var w=f.dtick/2;y+=a>y+w?w:-w}var P=1+Math.floor((i-y)/f.dtick);p=y+P*f.dtick}else for(p=y;i>=p;)p=s.tickIncrement(p,f.dtick);return{start:y,end:p,size:f.dtick}},s.calcTicks=function(t){if(t.autotick||!t.dtick){var e,n=t.nticks;n||("category"===t.type?(e=t.tickfont?1.2*(t.tickfont.size||12):15,n=t._length/e):(e="y"===t._id.charAt(0)?40:80,n=Plotly.Lib.constrain(t._length/e,4,9)+1)),s.autoTicks(t,Math.abs(t.range[1]-t.range[0])/n),t._minDtick>0&&t.dtick<2*t._minDtick&&(t.dtick=t._minDtick,t.tick0=t._forceTick0)}t.tick0||(t.tick0="date"===t.type?new Date(2e3,0,1).getTime():0),r(t),t._tmin=s.tickFirst(t);var o=t.range[1]<t.range[0],a=[],i=1.0001*t.range[1]-1e-4*t.range[0];"category"===t.type&&(i=o?Math.max(-.5,i):Math.min(t._categories.length-.5,i));for(var l=t._tmin;(o?l>=i:i>=l)&&(a.push(l),!(a.length>1e3));l=s.tickIncrement(l,t.dtick,o));return t._tmax=a[a.length-1],a.map(function(e){return s.tickText(t,e)})},s.autoTicks=function(t,e){var r,n;if("date"===t.type)t.tick0=new Date(2e3,0,1).getTime(),e>157788e5?(e/=315576e5,n=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick="M"+String(12*n*Plotly.Lib.roundUp(e/n,[2,5,10]))):e>12096e5?(e/=26298e5,t.dtick="M"+Plotly.Lib.roundUp(e,[1,2,3,6])):e>432e5?(r=864e5,t.tick0=new Date(2e3,0,2).getTime(),t.dtick=r*Plotly.Lib.roundUp(e/r,[1,2,3,7,14])):e>18e5?(r=36e5,t.dtick=r*Plotly.Lib.roundUp(e/r,[1,2,3,6,12])):e>3e4?(r=6e4,t.dtick=r*Plotly.Lib.roundUp(e/r,[1,2,5,10,15,30])):e>500?(r=1e3,t.dtick=r*Plotly.Lib.roundUp(e/r,[1,2,5,10,15,30])):(n=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick=n*Plotly.Lib.roundUp(e/n,[2,5,10]));else if("log"===t.type)if(t.tick0=0,e>.7)t.dtick=Math.ceil(e);else if(Math.abs(t.range[1]-t.range[0])<1){var o=1.5*Math.abs((t.range[1]-t.range[0])/e);e=Math.abs(Math.pow(10,t.range[1])-Math.pow(10,t.range[0]))/o,n=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick="L"+String(n*Plotly.Lib.roundUp(e/n,[2,5,10]))}else t.dtick=e>.3?"D2":"D1";else"category"===t.type?(t.tick0=0,t.dtick=Math.ceil(Math.max(e,1))):(t.tick0=0,n=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick=n*Plotly.Lib.roundUp(e/n,[2,5,10]));if(0===t.dtick&&(t.dtick=1),!$.isNumeric(t.dtick)&&"string"!=typeof t.dtick){var a=t.dtick;throw t.dtick=1,"ax.dtick error: "+String(a)}},s.tickIncrement=function(t,e,r){if($.isNumeric(e))return t+(r?-e:e);var n=e.charAt(0),o=Number(e.substr(1)),a=r?-o:o;if("M"===n){var i=new Date(t);return i.setMonth(i.getMonth()+a)}if("L"===n)return Math.log(Math.pow(10,t)+a)/Math.LN10;if("D"===n){var s="D2"===e?[-.301,0,.301,.699,1]:[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],c=t+(r?-.01:.01),u=Plotly.Lib.roundUp(l(c,1),s,r);return Math.floor(c)+Math.log(d3.round(Math.pow(10,u),1))/Math.LN10}throw"unrecognized dtick "+String(e)},s.tickFirst=function(t){var e=t.range[1]<t.range[0],r=e?Math.floor:Math.ceil,n=1.0001*t.range[0]-1e-4*t.range[1];if($.isNumeric(t.dtick)){var o=r((n-t.tick0)/t.dtick)*t.dtick+t.tick0;return"category"===t.type&&(o=Plotly.Lib.constrain(o,0,t._categories.length-1)),o}var a,i,c,u=t.dtick.charAt(0),d=Number(t.dtick.substr(1));if("M"===u){for(a=new Date(t.tick0),n=new Date(n),i=12*(n.getFullYear()-a.getFullYear())+n.getMonth()-a.getMonth(),c=a.setMonth(a.getMonth()+(Math.round(i/d)+(e?1:-1))*d);e?c>n:n>c;)c=s.tickIncrement(c,t.dtick,e);return c}if("L"===u)return Math.log(r((Math.pow(10,n)-t.tick0)/d)*d+t.tick0)/Math.LN10;if("D"===u){var f="D2"===t.dtick?[-.301,0,.301,.699,1]:[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],p=Plotly.Lib.roundUp(l(n,1),f,e);return Math.floor(n)+Math.log(d3.round(Math.pow(10,p),1))/Math.LN10}throw"unrecognized dtick "+String(t.dtick)};var f=d3.time.format("%Y"),p=d3.time.format("%b %Y"),y=d3.time.format("%b %-d"),h=d3.time.format("%b %-d %Hh"),g=d3.time.format("%H:%M"),m=d3.time.format(":%S"),v=/%(\d?)f/g;s.tickText=function(t,e,r){var a,i=t.tickfont||t._td._fullLayout.font,s=t._tickround,c=t.dtick,u=i.size,d=0,v=0,x="",b="none"!==t.exponentformat&&(r?"none"===t.showexponent:"all"!==t.showexponent&&e!=={first:t._tmin,last:t._tmax}[t.showexponent]);if(b&&(b="hide"),"date"===t.type){var w=new Date(e);r&&t.hoverformat?a=n(t.hoverformat,e):t.tickformat?a=n(t.tickformat,e):(r&&($.isNumeric(s)?s+=2:s={y:"m",m:"d",d:"H",H:"M",M:"S",S:2}[s]),"y"===s?a=f(w):"m"===s?a=p(w):(e!==t._tmin||r||(x="<br>"+f(w)),"d"===s?a=y(w):"H"===s?a=h(w):(e!==t._tmin||r||(x="<br>"+y(w)+", "+f(w)),a=g(w),"M"!==s&&(a+=m(w),"S"!==s&&(a+=o(l(e/1e3,1),t,"none",r).substr(1))))))}else if("log"===t.type)if(r&&($.isNumeric(c)||"L"!==c.charAt(0))&&(c="L3"),$.isNumeric(c)||"D"===c.charAt(0)&&l(e+.01,1)<.1){var P=Math.round(e);-1!==["e","E","power"].indexOf(t.exponentformat)?(a=0===P?"1":1===P?"10":"10"+String(P).sup(),u*=1.25):(a=o(Math.pow(10,e),t,"","fakehover"),"D1"===c&&"y"===t._id.charAt(0)&&(v-=u/6))}else if("D"===c.charAt(0))a=Math.round(Math.pow(10,l(e,1))),u*=.75;else{if("L"!==c.charAt(0))throw"unrecognized dtick "+String(c);a=o(Math.pow(10,e),t,b,r)}else if("category"===t.type){var k=t._categories[Math.round(e)];void 0===k&&(k=""),a=String(k)}else"all"===t.showexponent&&Math.abs(e/c)<1e-6&&(b="hide"),a=o(e,t,b,r);return"D1"===t.dtick&&-1!==["0","1"].indexOf(String(a).charAt(0))&&("y"===t._id.charAt(0)?d-=u/4:(v+=u/2,d+=(t.range[1]>t.range[0]?1:-1)*u*(0>e?.5:.25))),a+=x,"category"!==t.type&&(a=a.replace(/-/g,"\u2212")),{x:e,dx:d,dy:v,text:a,fontSize:u,font:i.family,fontColor:i.color}};var x=["f","p","n","&mu;","m","","k","M","G","T"],b=/(\d+)(\d{3})/;s.list=function(t,e,r){return i(t,e,r).map(function(e){return Plotly.Lib.nestedProperty(t._fullLayout,e).get()})},s.listIds=function(t,e){return i(t,e,!0).map(s.name2id)},s.getFromId=function(t,e,r){var n=t._fullLayout;return"x"===r?e=e.replace(/y[0-9]*/,""):"y"===r&&(e=e.replace(/x[0-9]*/,"")),n[s.id2name(e)]},s.getFromTrace=function(t,e,r){var n=t._fullLayout,o=null;if(Plotly.Plots.isGL3D(e.type)){var a=e.scene||"scene";o=n[a][r+"axis"]}else o=Plotly.Axes.getFromId(t,e[r+"axis"]||r);return o},s.getSubplots=function(t,e){var r=t.data,n=[];(r||[]).forEach(function(t){if(t.visible!==!1&&!Plotly.Plots.isGL3D(t.type)){var e=t.xaxis||"x",r=t.yaxis||"y",o=e+r;-1===n.indexOf(o)&&n.push(o)}}),s.list(t,"",!0).forEach(function(e){function r(t){return-1!==t.indexOf(e._id)}var o=e._id.charAt(0),a="free"===e.anchor?{x:"y",y:"x"}[o]:e.anchor,i=Plotly.Axes.getFromId(t,a);if("free"!==e.anchor||!n.some(r)){if(!i)return void console.log("warning: couldnt find anchor "+a+" for axis "+e._id);var l="x"===o?e._id+i._id:i._id+e._id;-1===n.indexOf(l)&&n.push(l)}});var o=/^x([0-9]*)y([0-9]*)$/,a=n.filter(function(t){return t.match(o)}).sort(function(t,e){var r=t.match(o),n=e.match(o);return r[1]===n[1]?+(r[2]||1)-(n[2]||1):+(r[1]||0)-(n[1]||0)});if(e){var i=new RegExp("x"===e._id.charAt(0)?"^"+e._id+"y":e._id+"$");return a.filter(function(t){return t.match(i)})}return a},s.doTicks=function(t,e,r){function n(t){var e=l.l2p(t.x);return e>1&&e<l._length-1}function o(t,e){var r=t.selectAll("path."+b).data("inside"===l.ticks?S:v,x);e&&l.ticks?(r.enter().append("path").classed(b,1).classed("ticks",1).classed("crisp",1).call(Plotly.Color.stroke,l.tickcolor).style("stroke-width",A+"px").attr("d",e),r.attr("transform",f),r.exit().remove()):r.remove()}function a(n,o){function a(t,e){t.each(function(t){var r=p(e),n=d3.select(this),o=n.select(".text-math-group"),a=f(t)+($.isNumeric(e)&&0!==+e?" rotate("+e+","+u(t)+","+(d(t)-t.fontSize/2)+")":"");if(o.empty()){var i=n.select("text").attr({transform:a,"text-anchor":r});i.empty()||i.selectAll("tspan.line").attr({x:i.attr("x"),y:i.attr("y")})}else{var l=Plotly.Drawing.bBox(o.node()).width*{end:-.5,start:.5}[r];o.attr("transform",a+(l?"translate("+l+",0)":""))}})}function i(){return M.length&&Promise.all(M)}function s(){if(a(c,l.tickangle),"x"===g&&!$.isNumeric(l.tickangle)&&("log"!==l.type||"D"!==String(l.dtick).charAt(0))){var n=[];for(c.each(function(t){var e=d3.select(this),r=e.select(".text-math-group"),o=l.l2p(t.x);r.empty()&&(r=e.select("text"));var a=Plotly.Drawing.bBox(r.node());n.push({top:0,bottom:10,height:10,left:o-a.width/2,right:o+a.width/2+2,width:a.width+2})}),h=0;h<n.length-1;h++)if(Plotly.Lib.bBoxIntersect(n[h],n[h+1])){P=30;break}if(P){var o=Math.abs((v[v.length-1].x-v[0].x)*l._m)/(v.length-1);2.5*w>o&&(P=90),a(c,P)}l._lastangle=P}return r||Plotly.Plots.titles(t,e+"title"),e+" done"}var c=n.selectAll("g."+b).data(v,x);if(!l.showticklabels||!$.isNumeric(o))return c.remove(),void Plotly.Plots.titles(t,e+"title");var u,d,p,y;if("x"===g){var m="bottom"===z?1:-1;u=function(t){return t.dx},y=o+(_+k)*m,d=function(t){return t.dy+y+t.fontSize*("bottom"===z?1:-.5)},p=function(t){return $.isNumeric(t)&&0!==t&&180!==t?0>t*m?"end":"start":"middle"}}else d=function(t){return t.dy+t.fontSize/2},u=function(t){return t.dx+o+(_+k+(90===Math.abs(l.tickangle)?t.fontSize/2:0))*("right"===z?1:-1)},p=function(t){return $.isNumeric(t)&&90===Math.abs(t)?"middle":"right"===z?"start":"end"};var w=0,P=0,M=[];c.enter().append("g").classed(b,1).append("text").attr("text-anchor","middle").each(function(e){var r=d3.select(this),n=t._promises.length;r.call(Plotly.Drawing.setPosition,u(e),d(e)).call(Plotly.Drawing.font,e.font,e.fontSize,e.fontColor).text(e.text).call(Plotly.util.convertToTspans),n=t._promises[n],n?M.push(t._promises.pop().then(function(){a(r,l.tickangle)})):a(r,l.tickangle)}),c.exit().remove(),c.each(function(t){w=Math.max(w,t.fontSize)}),a(c,l._lastangle||l.tickangle);var L=Plotly.Lib.syncOrAsync([i,s]);return L&&L.then&&t._promises.push(L),L}function i(e,r,o){var a=e.gridlayer,i=e.zerolinelayer,s=e["hidegrid"+g]?[]:S,c="M0,0"+("x"===g?"v":"h")+r._length,u=a.selectAll("path."+w).data(l.showgrid===!1?[]:s,x);u.enter().append("path").classed(w,1).classed("crisp",1).attr("d",c).each(function(t){l.zeroline&&("linear"===l.type||"-"===l.type)&&Math.abs(t.x)<l.dtick/100&&d3.select(this).remove()}),u.attr("transform",f).call(Plotly.Color.stroke,l.gridcolor||"#ddd").style("stroke-width",M+"px"),u.exit().remove();var d=(t.data||[]).filter(function(t){return t.visible!==!1&&(t.xaxis||"x")+(t.yaxis||"y")===o&&(Plotly.Plots.isBar(t.type)&&(t.orientation||"v")==={x:"h",y:"v"}[g]||"scatter"===(t.type||"scatter")&&t.fill&&t.fill.charAt(t.fill.length-1)===g)}).length,p=l.range[0]*l.range[1]<=0&&l.zeroline&&("linear"===l.type||"-"===l.type)&&s.length&&(d||n({x:0})||!l.showline),y=i.selectAll("path."+P).data(p?[{x:0}]:[]);y.enter().append("path").classed(P,1).classed("zl",1).classed("crisp",1).attr("d",c),y.attr("transform",f).call(Plotly.Color.stroke,l.zerolinecolor||"#444").style("stroke-width",L+"px"),y.exit().remove()}var l,c=t._fullLayout,u=!1;if("object"==typeof e)l=e,e=l._id,u=!0;else if(l=s.getFromId(t,e),"redraw"===e&&c._paper.selectAll("g.subplot").each(function(t){var e=c._plots[t],r=e.x(),n=e.y();e.plot.attr("viewBox","0 0 "+r._length+" "+n._length),e.xaxislayer.selectAll("."+r._id+"tick").remove(),e.yaxislayer.selectAll("."+n._id+"tick").remove(),e.gridlayer.selectAll("path").remove(),e.zerolinelayer.selectAll("path").remove()}),!e||"redraw"===e)return Plotly.Lib.syncOrAsync(s.list(t,"",!0).map(function(r){return function(){if(r._id){var n=s.doTicks(t,r._id);return"redraw"===e&&(r._r=r.range.slice()),n}}}));-1===["none","e","E","power","SI","B"].indexOf(l.exponentformat)&&(l.exponentformat="e"),-1===["all","first","last","none"].indexOf(l.showexponent)&&(l.showexponent="all"),l.range=l.range.map(Number),l.setScale();var d,f,p,y,h,g=e.charAt(0),m=s.counterLetter(e),v=s.calcTicks(l),x=function(t){return t.text+t.x+l.mirror},b=e+"tick",w=e+"grid",P=e+"zl",k=(l.linewidth||1)/2,_=("outside"===l.ticks?l.ticklen:1)+(l.linewidth||0),M=Plotly.Drawing.crispRound(t,l.gridwidth,1),L=Plotly.Drawing.crispRound(t,l.zerolinewidth,M),A=Plotly.Drawing.crispRound(t,l.tickwidth,1);if("x"===g)d=["bottom","top"],f=function(t){return"translate("+l.l2p(t.x)+",0)"},p="M0,",y="v";else{if("y"!==g)return void console.log("unrecognized doTicks axis",e);d=["left","right"],f=function(t){return"translate(0,"+l.l2p(t.x)+")"},p="M",y=",0h"}var z=l.side||d[0],C=[-1,1,z===d[1]?1:-1];"inside"!==l.ticks==("x"===g)&&(C=C.map(function(t){return-t}));var S=v.filter(n);if(u)return o(l._axislayer,p+(l._pos+k*C[2])+y+C[2]*l.ticklen),a(l._axislayer,l._pos);var D=s.getSubplots(t,l).map(function(t){var e=c._plots[t],r=e[g+"axislayer"],n=l._linepositions[t]||[],s=e[m](),u=s._id===l.anchor,f=[!1,!1,!1],v="";if("allticks"===l.mirror?f=[!0,!0,!1]:u&&("ticks"===l.mirror?f=[!0,!0,!1]:f[d.indexOf(z)]=!0),l.mirrors)for(h=0;2>h;h++){var x=l.mirrors[s._id+d[h]];("ticks"===x||"labels"===x)&&(f[h]=!0)}return void 0!==n[2]&&(f[2]=!0),f.forEach(function(t,e){var r=n[e],o=C[e];t&&$.isNumeric(r)&&(v+=p+(r+k*o)+y+o*l.ticklen)}),o(r,v),i(e,s,t),a(r,n[3])}).filter(function(t){return t&&t.then});return D.length?Promise.all(D):0}}(),function(){"use strict";function t(t,r){function n(e,r){return Plotly.Lib.coerce(t,o,a.attributes,e,r)}var o={};n("opacity"),n("align"),n("bgcolor");var i=n("bordercolor"),l=Plotly.Color.opacity(i);n("borderpad");var s=n("borderwidth"),c=n("showarrow");return c&&(n("arrowcolor",l?o.bordercolor:"#444"),n("arrowhead"),n("arrowsize"),n("arrowwidth",2*(l&&s||1)),n("ax"),n("ay"),Plotly.Lib.noneOrBoth(t,o,"ax","ay")),n("text",c?"&nbsp;":"new text"),n("textangle"),n("font",r.font),["x","y"].forEach(function(a){var i={_fullLayout:r},l=e(t,o,i,a),s=.5;if("paper"!==l){var u=Plotly.Axes.getFromId(i,l);if(s=u.range[0]+s*(u.range[1]-u.range[0]),-1!==["date","category"].indexOf(u.type)&&"string"==typeof t[a]){var d;"date"===u.type?(d=Plotly.Lib.dateTime2ms(t[a]),d!==!1&&(t[a]=d)):(u._categories||[]).length&&(d=u._categories.indexOf(t[a]),-1!==d&&(t[a]=d))}}n(a,s),c||n(a+"anchor")}),Plotly.Lib.noneOrBoth(t,o,"x","y"),o}function e(t,e,r,n){var o=Plotly.Axes.listIds(r,n),a=n+"ref",i={};return i[a]={type:"enumerated",values:o.concat(["paper"]),dflt:o[0]},Plotly.Lib.coerce(t,e,i,a,n)}function r(t,e,r,n){$.isNumeric(n)||(n=1);var o=t.node(),a=i[e||0];if(a){"string"==typeof r&&r||(r="end");var l,s,c,u,d=(Plotly.Drawing.getPx(t,"stroke-width")||1)*n,f=t.style("stroke")||"#444",p=t.style("stroke-opacity")||1,y=r.indexOf("start")>=0,h=r.indexOf("end")>=0,g=a.backoff*d;if("line"===o.nodeName){if(l={x:+t.attr("x1"),y:+t.attr("y1")},s={x:+t.attr("x2"),y:+t.attr("y2")},c=Math.atan2(l.y-s.y,l.x-s.x),u=c+Math.PI,g){var m=g*Math.cos(c),v=g*Math.sin(c);y&&(l.x-=m,l.y-=v,t.attr({x1:l.x,y1:l.y})),h&&(s.x+=m,s.y+=v,t.attr({x2:s.x,y2:s.y}))}}else if("path"===o.nodeName){var x=o.getTotalLength(),b="";if(y){var w=o.getPointAtLength(0),P=o.getPointAtLength(.1);c=Math.atan2(w.y-P.y,w.x-P.x),l=o.getPointAtLength(Math.min(g,x)),g&&(b="0px,"+g+"px,")}if(h){var k=o.getPointAtLength(x),_=o.getPointAtLength(x-.1);if(u=Math.atan2(k.y-_.y,k.x-_.x),s=o.getPointAtLength(Math.max(0,x-g)),g){var M=b?2*g:g;b+=x-M+"px,"+x+"px"}}else b&&(b+=x+"px");b&&t.style("stroke-dasharray",b)}var L=function(r,n){e>5&&(n=0),d3.select(o.parentElement).append("path").attr({"class":t.attr("class"),d:a.path,transform:"translate("+r.x+","+r.y+")rotate("+180*n/Math.PI+")scale("+d+")"}).style({fill:f,opacity:p,"stroke-width":0})};y&&L(l,c),h&&L(s,u)}}function n(t){var e=t._fullLayout;e.annotations.forEach(function(e){var r=Plotly.Axes.getFromId(t,e.xref),n=Plotly.Axes.getFromId(t,e.yref);if(r||n){var o=(e._xsize||0)/2,a=e._xshift||0,i=(e._ysize||0)/2,l=e._yshift||0,s=o-a,c=o+a,u=i-l,d=i+l;if(e.showarrow){var f=3*e.arrowsize*e.arrowwidth;s=Math.max(s,f),c=Math.max(c,f),u=Math.max(u,f),d=Math.max(d,f)
}r&&r.autorange&&Plotly.Axes.expand(r,[r.l2c(e.x)],{ppadplus:c,ppadminus:s}),n&&n.autorange&&Plotly.Axes.expand(n,[n.l2c(e.y)],{ppadplus:d,ppadminus:u})}})}function o(t,e,r,n,o,a,i,l){var s=r-t,c=o-t,u=i-o,d=n-e,f=a-e,p=l-a,y=s*p-u*d;if(0===y)return null;var h=(c*p-u*f)/y,g=(c*d-s*f)/y;return 0>g||g>1||0>h||h>1?null:{x:t+s*h,y:e+d*h}}var a=Plotly.Annotations={},i=["",{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0},{path:"M2,2V-2H-2V2Z",backoff:0}];a.attributes={text:{type:"string",blankOk:!1},textangle:{type:"angle",dflt:0},font:{type:"font"},opacity:{type:"number",min:0,max:1,dflt:1},align:{type:"enumerated",values:["left","center","right"],dflt:"center"},bgcolor:{type:"color",dflt:"rgba(0,0,0,0)"},bordercolor:{type:"color",dflt:"rgba(0,0,0,0)"},borderpad:{type:"number",min:0,dflt:1},borderwidth:{type:"number",min:0,dflt:1},showarrow:{type:"boolean",dflt:!0},arrowcolor:{type:"color"},arrowhead:{type:"integer",min:0,max:i.length,dflt:1},arrowsize:{type:"number",min:.3,dflt:1},arrowwidth:{type:"number",min:.1},ax:{type:"number",dflt:-10},ay:{type:"number",dflt:-30},xref:{type:"enumerated"},x:{type:"number"},xanchor:{type:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yref:{type:"enumerated"},y:{type:"number"},yanchor:{type:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto"}},a.supplyDefaults=function(e,r){var n=e.annotations||[];r.annotations=n.map(function(e){return t(e||{},r)})},a.drawAll=function(t){var e=t._fullLayout;return e._infolayer.selectAll(".annotation").remove(),e.annotations.forEach(function(e,r){a.draw(t,r)}),Plotly.Plots.previousPromises(t)},a.add=function(t){var e=t._fullLayout.annotations.length;Plotly.relayout(t,"annotations["+e+"]","add")},a.draw=function(n,i,l,s){function c(t){return t.call(Plotly.Drawing.font,N).attr({"text-anchor":{left:"start",right:"end"}[w.align]||"middle"}),Plotly.util.convertToTspans(t,u),t}function u(){function t(t,e){return"auto"===e&&(e=1/3>t?"left":t>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[e]}E.selectAll("tspan.line").attr({y:0,x:0});var e=z.select(".annotation-math-group"),a=!e.empty(),l=Plotly.Drawing.bBox((a?e:E).node()),s=l.width,c=l.height,u=Math.round(s+2*D),d=Math.round(c+2*D);w._w=s,w._h=c;var f=!1;if(["x","y"].forEach(function(e){var r,o=Plotly.Axes.getFromId(n,w[e+"ref"]||e),a=(M+("x"===e?0:90))*Math.PI/180,i=u*Math.abs(Math.cos(a))+d*Math.abs(Math.sin(a)),l=w[e+"anchor"];if(o){if(!o.autorange&&(w[e]-o.range[0])*(w[e]-o.range[1])>0)return void(f=!0);_[e]=o._offset+o.l2p(w[e]),r=.5}else r=w[e],"y"===e&&(r=1-r),_[e]="x"===e?y.l+y.w*r:y.t+y.h*r;var s=0;s=w.showarrow?w["a"+e]:i*t(r,l),_[e]+=s,w["_"+e+"type"]=o&&o.type,w["_"+e+"size"]=i,w["_"+e+"shift"]=s}),f)return void z.remove();var g,m;w.showarrow&&(g=Plotly.Lib.constrain(_.x-w.ax,1,p.width-1),m=Plotly.Lib.constrain(_.y-w.ay,1,p.height-1)),_.x=Plotly.Lib.constrain(_.x,1,p.width-1),_.y=Plotly.Lib.constrain(_.y,1,p.height-1);var v=D-l.top,x=D-l.left;a?e.select("svg").attr({x:D-1,y:D}):(E.attr({x:x,y:v}),E.selectAll("tspan.line").attr({y:v,x:x})),O.call(Plotly.Drawing.setRect,C/2,C/2,u-C,d-C),z.call(Plotly.Drawing.setRect,Math.round(_.x-u/2),Math.round(_.y-d/2),u,d);var b=function(t,e){$(n).find('.annotation-arrow-g[data-index="'+i+'"]').remove();var a=_.x+t,l=_.y+e,s=Plotly.Lib.rotationXYMatrix(M,a,l),c=Plotly.Lib.apply2DTransform(s),u=Plotly.Lib.apply2DTransform2(s),d=O.attr("width")/2,f=O.attr("height")/2,p=[[a-d,l-f,a-d,l+f],[a-d,l+f,a+d,l+f],[a+d,l+f,a+d,l-f],[a+d,l-f,a-d,l-f]].map(u);if(!p.reduce(function(t,e){return t^!!o(g,m,g+1e6,m+1e6,e[0],e[1],e[2],e[3])},!1)){p.forEach(function(t){var e=o(a,l,g,m,t[0],t[1],t[2],t[3]);e&&(a=e.x,l=e.y)});var v=w.arrowwidth,x=w.arrowcolor,b=L.append("g").style({opacity:Plotly.Color.opacity(x)}).classed("annotation-arrow-g",!0).attr("data-index",String(i)),C=b.append("path").attr("d","M"+a+","+l+"L"+g+","+m).style("stroke-width",v+"px").call(Plotly.Color.stroke,Plotly.Color.rgb(x));r(C,w.arrowhead,"end",w.arrowsize);var S=b.append("path").classed("annotation",!0).classed("anndrag",!0).attr({"data-index":String(i),d:"M3,3H-3V-3H3ZM0,0L"+(a-g)+","+(l-m),transform:"translate("+g+","+m+")"}).style("stroke-width",v+6+"px").call(Plotly.Color.stroke,"rgba(0,0,0,0)").call(Plotly.Color.fill,"rgba(0,0,0,0)");n._context.editable&&(S.node().onmousedown=function(t){if(Plotly.Fx.dragClear(n))return!0;var e=Number(z.attr("x")),r=Number(z.attr("y")),o={},a="annotations["+i+"]",l=!1;return P&&P.autorange&&(o[P._name+".autorange"]=!0),k&&k.autorange&&(o[k._name+".autorange"]=!0),window.onmousemove=function(n){var i=n.clientX-t.clientX,s=n.clientY-t.clientY;Math.abs(i)<h&&(i=0),Math.abs(s)<h&&(s=0),(i||s)&&(l=!0),b.attr("transform","translate("+i+","+s+")");var u=c(e,r),d=u[0]+i,f=u[1]+s;return z.call(Plotly.Drawing.setPosition,d,f),o[a+".x"]=P?w.x+i/P._m:(g+i-y.l)/y.w,o[a+".y"]=k?w.y+s/k._m:1-(m+s-y.t)/y.h,A.attr({transform:"rotate("+M+","+d+","+f+")"}),Plotly.Lib.pauseEvent(n)},window.onmouseup=function(t){return window.onmousemove=null,window.onmouseup=null,l&&Plotly.relayout(n,o),Plotly.Lib.pauseEvent(t)},Plotly.Lib.pauseEvent(t)})}};w.showarrow&&b(0,0);var S=Plotly.Lib.rotationXYMatrix(M,_.x,_.y),N=Plotly.Lib.apply2DTransform(S);n._context.editable&&(z.node().onmousedown=function(t){if(Plotly.Fx.dragClear(n))return!0;var e=d3.select(this),r=Number(e.attr("x")),o=Number(e.attr("y")),a={},l="annotations["+i+"]",s=!1;return P&&P.autorange&&(a[P._name+".autorange"]=!0),k&&k.autorange&&(a[k._name+".autorange"]=!0),Plotly.Fx.setCursor(e),window.onmousemove=function(n){var i=n.clientX-t.clientX,c=n.clientY-t.clientY;Math.abs(i)<h&&(i=0),Math.abs(c)<h&&(c=0),(i||c)&&(s=!0),e.call(Plotly.Drawing.setPosition,r+i,o+c);var u="pointer";if(w.showarrow)a[l+".ax"]=w.ax+i,a[l+".ay"]=w.ay+c,b(i,c);else{if(P)a[l+".x"]=w.x+i/P._m;else{var d=w._xsize/y.w,f=w.x+w._xshift/y.w-d/2;a[l+".x"]=Plotly.Fx.dragAlign(f+i/y.w,d,0,1,w.xanchor)}if(k)a[l+".y"]=w.y+c/k._m;else{var p=w._ysize/y.h,g=w.y-w._yshift/y.h-p/2;a[l+".y"]=Plotly.Fx.dragAlign(g-c/y.h,p,0,1,w.yanchor)}P&&k||(u=Plotly.Fx.dragCursors(P?.5:a[l+".x"],k?.5:a[l+".y"],w.xanchor,w.yanchor))}var m=N(r,o),v=m[0]+i,x=m[1]+c;return e.call(Plotly.Drawing.setPosition,v,x),A.attr({transform:"rotate("+M+","+v+","+x+")"}),Plotly.Fx.setCursor(e,u),Plotly.Lib.pauseEvent(n)},window.onmouseup=function(t){if(window.onmousemove=null,window.onmouseup=null,Plotly.Fx.setCursor(e),s){Plotly.relayout(n,a);var r=$(".js-notes-box-panel")[0];r&&r.redraw(r.selectedObj)}return Plotly.Lib.pauseEvent(t)},Plotly.Lib.pauseEvent(t)})}var d,f=n.layout,p=n._fullLayout,y=p._size,h=Plotly.Fx.MINDRAG;if(!$.isNumeric(i)||-1===i){if(!i&&$.isArray(s))return f.annotations=s,a.supplyDefaults(f,p),void a.drawAll(n);if("remove"===s)return delete f.annotations,p.annotations=[],void a.drawAll(n);if(l&&"add"!==s)return void p.annotations.forEach(function(t,e){a.draw(n,e,l,s)});i=p.annotations.length,p.annotations.push({})}if(!l&&s){if("remove"===s){for(p._infolayer.selectAll('.annotation[data-index="'+i+'"]').remove(),p.annotations.splice(i,1),f.annotations.splice(i,1),d=i;d<p.annotations.length;d++)p._infolayer.selectAll('.annotation[data-index="'+(d+1)+'"]').attr("data-index",String(d)),a.draw(n,d);return}if("add"===s||$.isPlainObject(s)){p.annotations.splice(i,0,{});var g=$.isPlainObject(s)?$.extend({},s):{text:"New text"};for(f.annotations?f.annotations.splice(i,0,g):f.annotations=[g],d=p.annotations.length-1;d>i;d--)p._infolayer.selectAll('.annotation[data-index="'+(d-1)+'"]').attr("data-index",String(d)),a.draw(n,d)}}p._infolayer.selectAll('.annotation[data-index="'+i+'"]').remove();var m=f.annotations[i],v=p.annotations[i];if(m){var x={xref:m.xref,yref:m.yref},b={};"string"==typeof l&&l?b[l]=s:$.isPlainObject(l)&&(b=l),Object.keys(b).forEach(function(t){Plotly.Lib.nestedProperty(m,t).set(b[t])}),["x","y"].forEach(function(t){if(void 0===b[t]&&void 0!==m[t]){var r=Plotly.Axes.getFromId(n,e(x,{},n,t)),o=Plotly.Axes.getFromId(n,e(m,{},n,t)),a=m[t],i=v["_"+t+"type"];if(void 0!==b[t+"ref"]){var l="auto"===m[t+"anchor"],s="x"===t?y.w:y.h,c=(v["_"+t+"size"]||0)/(2*s);if(r&&o)a=(a-r.range[0])/(r.range[1]-r.range[0]),a=o.range[0]+a*(o.range[1]-o.range[0]);else if(r){if(a=(a-r.range[0])/(r.range[1]-r.range[0]),a=r.domain[0]+a*(r.domain[1]-r.domain[0]),l){var u=a+c,d=a-c;2/3>a+d?a=d:a+u>4/3&&(a=u)}}else o&&(l&&(1/3>a?a+=c:a>2/3&&(a-=c)),a=(a-o.domain[0])/(o.domain[1]-o.domain[0]),a=o.range[0]+a*(o.range[1]-o.range[0]))}o&&o===r&&i&&("log"===i&&"log"!==o.type?a=Math.pow(10,a):"log"!==i&&"log"===o.type&&(a=a>0?Math.log(a)/Math.LN10:void 0)),m[t]=a}});var w=t(m,p);p.annotations[i]=w;var P=Plotly.Axes.getFromId(n,w.xref),k=Plotly.Axes.getFromId(n,w.yref),_={x:0,y:0},M=+w.textangle||0,L=p._infolayer.append("g").classed("annotation",!0).attr("data-index",String(i)).style("opacity",w.opacity),A=L.append("g").classed("annotation-text-g",!0).attr("data-index",String(i)),z=A.append("svg").call(Plotly.Drawing.setPosition,0,0),C=w.borderwidth,S=w.borderpad,D=C+S,O=z.append("rect").attr("class","bg").style("stroke-width",C+"px").call(Plotly.Color.stroke,w.bordercolor).call(Plotly.Color.fill,w.bgcolor),N=w.font,E=z.append("text").classed("annotation",!0).attr("data-unformatted",w.text).text(w.text);n._context.editable?E.call(Plotly.util.makeEditable,O).call(c).on("edit",function(t){w.text=t,this.attr({"data-unformatted":w.text}),this.call(c);var e={};e["annotations["+i+"].text"]=w.text,P&&P.autorange&&(e[P._name+".autorange"]=!0),k&&k.autorange&&(e[k._name+".autorange"]=!0),Plotly.relayout(n,e)}):E.call(c),A.attr({transform:"rotate("+M+","+_.x+","+_.y+")"}).call(Plotly.Drawing.setPosition,_.x,_.y)}},a.allArrowheads=function(t){if(t)return void $(t).find("[data-arrowhead]").each(function(){var t=d3.select(this);r(t.select("line"),Number(t.attr("data-arrowhead")))});for(var e=[],n=0;n<i.length;n++)e.push({val:n,name:'<svg width="40" height="20" data-arrowhead="'+n+'" style="position: relative; top: 2px;"><line stroke="rgb(0,0,0)" style="fill: none;" x1="5" y1="10" x2="25" y2="10" stroke-width="2"></line></svg>'});return e},a.calcAutorange=function(t){var e=t._fullLayout,r=e.annotations;if(r.length&&t._fullData.length){var o={};r.forEach(function(t){o[t.xref]=!0,o[t.yref]=!0});var i=Plotly.Axes.list(t).filter(function(t){return t.autorange&&o[t._id]});if(i.length)return Plotly.Lib.syncOrAsync([a.drawAll,n],t)}}}(),function(){"use strict";var t=Plotly.Legend={};t.attributes={bgcolor:{type:"color"},bordercolor:{type:"color",dflt:"#444"},borderwidth:{type:"number",min:0,dflt:0},font:{type:"font"},traceorder:{type:"enumerated",values:["normal","reversed"]},x:{type:"number",min:-2,max:3,dflt:1.02},xanchor:{type:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{type:"number",min:-2,max:3,dflt:1},yanchor:{type:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto"}},t.supplyDefaults=function(e,r,n){function o(e,r){return Plotly.Lib.coerce(a,i,t.attributes,e,r)}var a=e.legend||{},i=r.legend={},l=0,s="normal";n.forEach(function(t){t.visible&&Plotly.Plots.isCartesian(t.type)&&!Plotly.Plots.isHeatmap(t.type)&&l++,(Plotly.Plots.isBar(t.type)&&"stack"===r.barmode||-1!==["tonextx","tonexty"].indexOf(t.fill))&&(s="reversed")});var c=Plotly.Lib.coerce(e,r,Plotly.Plots.layoutAttributes,"showlegend",l>1);c&&(o("bgcolor",r.paper_bgcolor),o("bordercolor"),o("borderwidth"),o("font",r.font),o("traceorder",s),o("x"),o("xanchor"),o("y"),o("yanchor"),Plotly.Lib.noneOrBoth(a,i,"x","y"))},t.lines=function(t){var e=t[0].trace,r=Plotly.Plots.isScatterAny(e.type)&&e.visible,n=r&&e.fill&&"none"!==e.fill,o=r&&Plotly.Scatter.hasLines(e),a=d3.select(this).select(".legendfill").selectAll("path").data(n?[t]:[]);a.enter().append("path").classed("js-fill",!0),a.exit().remove(),a.attr("d","M5,0h30v6h-30z").call(Plotly.Drawing.fillGroupStyle);var i=d3.select(this).select(".legendlines").selectAll("path").data(o?[t]:[]);i.enter().append("path").classed("js-line",!0).attr("d","M5,0h30"),i.exit().remove(),i.call(Plotly.Drawing.lineGroupStyle)},t.points=function(t){var e,r,n=t[0],o=n.trace,a=o.marker||{},i=Plotly.Plots.isScatterAny(o.type)&&o.visible,l=i&&Plotly.Scatter.hasMarkers(o),s=i&&Plotly.Scatter.hasText(o),c=i&&Plotly.Scatter.hasLines(o);if(i){var u={tx:"Aa",mo:Math.max(.2,(n.mo+1||a.opacity+1||2)-1)};n.ms&&(u.ms=10),n.mlw>5&&(u.mlw=5),e=[Plotly.Lib.minExtend(n,u)];var d={textfont:{size:10}};l&&(d.marker={size:Math.max(Math.min(a.size,16),2),sizeref:1,sizemode:"diameter",line:{width:Math.min(a.line.width,a.size)}}),c&&(d.line={width:Math.min(o.line.width,10)}),r=Plotly.Lib.minExtend(o,d)}var f=d3.select(this).select("g.legendpoints"),p=f.selectAll("path.scatterpts").data(l?e:[]);p.enter().append("path").classed("scatterpts",!0).attr("transform","translate(20,0)"),p.exit().remove(),p.call(Plotly.Drawing.pointStyle,r);var y=f.selectAll("g.pointtext").data(s?e:[]);y.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),y.exit().remove(),y.selectAll("text").call(Plotly.Drawing.textPointStyle,r)},t.bars=function(t){var e=t[0].trace,r=e.marker||{},n=r.line||{},o=d3.select(this).select("g.legendpoints").selectAll("path.legendbar").data(Plotly.Plots.isBar(e.type)?[t]:[]);o.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),o.exit().remove(),o.each(function(t){var e=(t.mlw+1||n.width+1)-1,o=d3.select(this);o.style("stroke-width",e+"px").call(Plotly.Color.fill,t.mc||r.color),e&&o.call(Plotly.Color.stroke,t.mlc||n.color)})},t.boxes=function(t){var e=t[0].trace,r=d3.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Plotly.Plots.isBox(e.type)&&e.visible?[t]:[]);r.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),r.exit().remove(),r.each(function(t){var r=(t.lw+1||e.line.width+1)-1,n=d3.select(this);n.style("stroke-width",r+"px").call(Plotly.Color.fill,t.fc||e.fillcolor),r&&n.call(Plotly.Color.stroke,t.lc||e.line.color)})},t.style=function(e){e.each(function(t){var e=d3.select(this).selectAll("g.legendfill").data([t]);e.enter().append("g").classed("legendfill",!0);var r=d3.select(this).selectAll("g.legendlines").data([t]);r.enter().append("g").classed("legendlines",!0);var n=d3.select(this).selectAll("g.legendsymbols").data([t]);n.enter().append("g").classed("legendsymbols",!0),n.style("opacity",t[0].trace.opacity),n.selectAll("g.legendpoints").data([t]).enter().append("g").classed("legendpoints",!0)}).each(t.bars).each(t.boxes).each(t.lines).each(t.points)},t.texts=function(e,r,n,o,a){function i(e){Plotly.util.convertToTspans(e,function(){r.firstRender&&t.repositionLegend(r,a)}),e.selectAll("tspan.line").attr({x:e.attr("x")})}var l=r._fullLayout,s=n[0].trace,c=s.index,u=s.name,d=d3.select(e).selectAll("text.legendtext").data([0]);d.enter().append("text").classed("legendtext",!0),d.attr({x:40,y:0}).style("text-anchor","start").call(Plotly.Drawing.font,l.legend.font).text(u).attr({"data-unformatted":u}),r._context.editable?d.call(Plotly.util.makeEditable).call(i).on("edit",function(t){this.attr({"data-unformatted":t}),this.text(t).call(i),this.text()||(t="    "),Plotly.restyle(r,"name",t,c)}):d.call(i)},t.draw=function(e,r){var n=e.layout,o=e._fullLayout;if(o._infolayer&&e.calcdata){void 0!==r&&(n.showlegend=r),t.supplyDefaults(n,o,e._fullData),r=o.showlegend;var a=o.legend,i=e.calcdata.filter(function(t){var e=t[0].trace;return e.visible&&e.showlegend&&!Plotly.Plots.isHeatmap(e.type)&&!Plotly.Plots.isSurface(e.type)}).map(function(t){return[t[0]]});if("reversed"===a.traceorder&&i.reverse(),!r||!i.length)return o._infolayer.selectAll(".legend").remove(),void Plotly.Plots.autoMargin(e,"legend");"undefined"==typeof e.firstRender?e.firstRender=!0:e.firstRender&&(e.firstRender=!1);var l=o._infolayer.selectAll("svg.legend").data([0]);l.enter(0).append("svg").attr("class","legend");var s=l.selectAll("rect.bg").data([0]);s.enter(0).append("rect").attr("class","bg"),s.call(Plotly.Color.stroke,a.bordercolor).call(Plotly.Color.fill,a.bgcolor).style("stroke-width",a.borderwidth+"px");var c=l.selectAll("g.traces").data(i);c.enter().append("g").attr("class","traces"),c.exit().remove(),c.call(t.style).each(function(r,n){t.texts(this,e,r,n,c)}),t.repositionLegend(e,c),e._context.editable&&(l.node().onmousedown=function(t){if(Plotly.Fx.dragClear(e))return!0;var r=d3.select(this),n=+r.attr("x"),i=+r.attr("y"),l=null,s=null;return e.dragged=!1,Plotly.Fx.setCursor(r),window.onmousemove=function(c){var u=c.clientX-t.clientX,d=c.clientY-t.clientY,f=o._size,p=+r.attr("width"),y=+r.attr("height"),h=Plotly.Fx.MINDRAG;Math.abs(u)<h&&(u=0),Math.abs(d)<h&&(d=0),(u||d)&&(e.dragged=!0),r.call(Plotly.Drawing.setPosition,n+u,i+d),l=Plotly.Fx.dragAlign(n+u,p,f.l,f.l+f.w,a.xanchor),s=Plotly.Fx.dragAlign(i+d+y,-y,f.t+f.h,f.t,a.yanchor);var g=Plotly.Fx.dragCursors(l,s,a.xanchor,a.yanchor);return Plotly.Fx.setCursor(r,g),Plotly.Lib.pauseEvent(c)},window.onmouseup=function(t){return window.onmousemove=null,window.onmouseup=null,Plotly.Fx.setCursor(r),e.dragged&&null!==l&&null!==s&&Plotly.relayout(e,{"legend.x":l,"legend.y":s}),Plotly.Lib.pauseEvent(t)},Plotly.Lib.pauseEvent(t)})}},t.repositionLegend=function(t,e){var r=t._fullLayout,n=r._size,o=r.legend,a=o.borderwidth,i=0,l=0;e.each(function(t){var e,r,n=t[0].trace,s=d3.select(this),c=s.select(".legendtext"),u=s.selectAll(".legendtext>tspan"),d=1.3*o.font.size,f=u[0].length||1,p=c.node()&&Plotly.Drawing.bBox(c.node()).width,y=s.select("g[class*=math-group]");if(!n.showlegend)return void s.remove();if(y.node()){var h=Plotly.Drawing.bBox(y.node());d=h.height,p=h.width,y.attr("transform","translate(0,"+d/4+")")}else e=d*(.3+(1-f)/2),c.attr("y",e),u.attr("y",e);r=Math.max(d*f,16)+3,s.attr("transform","translate("+a+","+(5+a+l+r/2)+")"),l+=r,i=Math.max(i,p||0)}),i+=45+2*a,l+=10+2*a;var s=n.l+n.w*o.x,c=n.t+n.h*(1-o.y),u="left";"right"===o.xanchor||"auto"===o.xanchor&&o.x>=2/3?(s-=i,u="right"):("center"===o.xanchor||"auto"===o.xanchor&&o.x>1/3)&&(s-=i/2,u="center");var d="top";"bottom"===o.yanchor||"auto"===o.yanchor&&o.y<=1/3?(c-=l,d="bottom"):("middle"===o.yanchor||"auto"===o.yanchor&&o.y<2/3)&&(c-=l/2,d="middle"),i=Math.ceil(i),l=Math.ceil(l),s=Math.round(s),c=Math.round(c),r._infolayer.selectAll("svg.legend").call(Plotly.Drawing.setRect,s,c,i,l),r._infolayer.selectAll("svg.legend .bg").call(Plotly.Drawing.setRect,a/2,a/2,i-a,l-a),Plotly.Plots.autoMargin(t,"legend",{x:o.x,y:o.y,l:i*({right:1,center:.5}[u]||0),r:i*({left:1,center:.5}[u]||0),b:l*({top:1,middle:.5}[d]||0),t:l*({bottom:1,middle:.5}[d]||0)})}}(),function(){"use strict";function t(t,e){for(var r=[],n=t.length;n>0;n--)r.push(e);return r}function e(t,e){for(var r=[],n=0;n<t.length;n++)r.push(t[n].p2c(e));return r}function r(t,e){return function(r){var n=t(r),o=e(r);return Math.sqrt(n*n+o*o)}}function n(r,n,u){"string"==typeof r&&(r=document.getElementById(r)),u||(u="xy");var d=r._fullLayout,f=d._plots[u],h=[u].concat(f.overlays.map(function(t){return t.id})),g=h.map(function(t){return Plotly.Axes.getFromId(r,t,"x")}),m=h.map(function(t){return Plotly.Axes.getFromId(r,t,"y")}),v=n.hovermode||d.hovermode;if(-1===["x","y","closest"].indexOf(v)||!r.calcdata||$(r).find(".zoombox").length||r._dragging)return c(r,n);var x,b,w,P,k,_,M,L,A,z,C,S,D=[],O=[];if($.isArray(n))for(v="array",w=0;w<n.length;w++)k=r.calcdata[n[w].curveNumber||0],"none"!==k[0].trace.hoverinfo&&O.push(k);else{for(P=0;P<r.calcdata.length;P++)k=r.calcdata[P],_=k[0].trace,"none"!==_.hoverinfo&&-1!==h.indexOf(_.xaxis+_.yaxis)&&O.push(k);var N,E;if(n.target&&"clientX"in n&&"clientY"in n){if($(r).triggerHandler("plotly_beforehover",n)===!1)return;var T=n.target.getBoundingClientRect();if(N=n.clientX-T.left,E=n.clientY-T.top,0>N||N>T.width||0>E||E>T.height)return c(r,n)}else N="xpx"in n?n.xpx:g[0]._length/2,E="ypx"in n?n.ypx:m[0]._length/2;if(x="xval"in n?t(h,n.xval):e(g,N),b="yval"in n?t(h,n.yval):e(m,E),!$.isNumeric(x[0])||!$.isNumeric(b[0]))return console.log("Plotly.Fx.hover failed",n,r),c(r,n)}var I=1/0;for(P=0;P<O.length;P++)if(k=O[P],k&&k[0]&&k[0].trace&&k[0].trace.visible!==!1){if(_=k[0].trace,M=h.indexOf(_.xaxis+_.yaxis),L=v,C={cd:k,trace:_,xa:g[M],ya:m[M],name:r.data.length>1?_.name:void 0,index:!1,distance:Math.min(I,y.MAXDIST),color:"#444",x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},S=D.length,"array"===L){var j=n[P];"pointNumber"in j?(C.index=j.pointNumber,L="closest"):(L="","xval"in j&&(A=j.xval,L="x"),"yval"in j&&(z=j.yval,L=L?"closest":"y"))}else A=x[M],z=b[M];if(_.module&&_.module.hoverPoints){var B=_.module.hoverPoints(C,A,z,L);if(B)for(var F,H=0;H<B.length;H++)F=B[H],"number"==typeof F.x0&&"number"==typeof F.y0&&D.push(o(F,v))}else console.log("unrecognized trace type in hover",_);"closest"===v&&D.length>S&&(D.splice(0,S),I=D[0].distance)}if(0===D.length)return c(r,n);var V="y"===v&&O.length>1;D.sort(function(t,e){return t.distance-e.distance});var R={hovermode:v,rotateLabels:V,bgColor:p(d.plot_bgcolor,d.paper_bgcolor),container:d._hoverlayer,outerContainer:d._paperdiv},Z=a(D,R);i(D,V?g[0]:m[0]),l(Z,V);var q=r._hoverdata,G=[];for(w=0;w<D.length;w++){var Y=D[w],X={data:Y.trace._input,curveNumber:Y.trace.index,pointNumber:Y.index,x:Y.xVal,y:Y.yVal,xaxis:Y.xa,yaxis:Y.ya};void 0!==Y.zLabelVal&&(X.z=Y.zLabelVal),G.push(X)}r._hoverdata=G,s(r,n,q)&&(q&&$(r).trigger("plotly_unhover",{points:q}),$(r).trigger("plotly_hover",{points:r._hoverdata,xaxes:g,yaxes:m,xvals:x,yvals:b}))}function o(t,e){t.posref="y"===e?(t.x0+t.x1)/2:(t.y0+t.y1)/2,t.x0=Plotly.Lib.constrain(t.x0,0,t.xa._length),t.x1=Plotly.Lib.constrain(t.x1,0,t.xa._length),t.y0=Plotly.Lib.constrain(t.y0,0,t.ya._length),t.y1=Plotly.Lib.constrain(t.y1,0,t.ya._length);var r;if(void 0!==t.xLabelVal){r="log"===t.xa.type&&t.xLabelVal<=0;var n=Plotly.Axes.tickText(t.xa,t.xa.c2l(r?-t.xLabelVal:t.xLabelVal),"hover");t.xLabel=r?0===t.xLabelVal?"0":"-"+n.text:n.text,t.xVal=t.xa.c2d(t.xLabelVal)}if(void 0!==t.yLabelVal){r="log"===t.ya.type&&t.yLabelVal<=0;var o=Plotly.Axes.tickText(t.ya,t.ya.c2l(r?-t.yLabelVal:t.yLabelVal),"hover");t.yLabel=r?0===t.yLabelVal?"0":"-"+o.text:o.text,t.yVal=t.ya.c2d(t.yLabelVal)}if(void 0!==t.zLabelVal&&(t.zLabel=String(t.zLabelVal)),void 0!==t.xerr){var a=Plotly.Axes.tickText(t.xa,t.xa.c2l(t.xerr),"hover").text;t.xLabel+=void 0!==t.xerrneg?" +"+a+" / -"+Plotly.Axes.tickText(t.xa,t.xa.c2l(t.xerrneg),"hover").text:" &plusmn; "+a,"x"===e&&(t.distance+=1)}if(void 0!==t.yerr){var i=Plotly.Axes.tickText(t.ya,t.ya.c2l(t.yerr),"hover").text;t.yLabel+=void 0!==t.yerrneg?" +"+i+" / -"+Plotly.Axes.tickText(t.ya,t.ya.c2l(t.yerrneg),"hover").text:" &plusmn; "+i,"y"===e&&(t.distance+=1)}var l=t.trace.hoverinfo;return"all"!==l&&(l=l.split("+"),-1===l.indexOf("x")&&(t.xLabel=void 0),-1===l.indexOf("y")&&(t.yLabel=void 0),-1===l.indexOf("z")&&(t.zLabel=void 0),-1===l.indexOf("text")&&(t.text=void 0),-1===l.indexOf("name")&&(t.name=void 0)),t}function a(t,e){var r=e.hovermode,n=e.rotateLabels,o=e.bgColor,a=e.container,i=e.outerContainer,l=t[0],s=l.xa,c=l.ya,u="y"===r?"yLabel":"xLabel",d=l[u],f=(d||"").split(" ")[0],h=i.node().getBoundingClientRect(),m=h.top,v=h.width,x=h.height,b=l.distance<=y.MAXDIST&&("x"===r||"y"===r),M=a.selectAll("g.axistext").data(b?[0]:[]);M.enter().append("g").classed("axistext",!0),M.exit().remove(),M.each(function(){var e=d3.select(this),n=e.selectAll("path").data([0]),o=e.selectAll("text").data([0]);n.enter().append("path").style({fill:"#444","stroke-width":"1px",stroke:"#fff"}),o.enter().append("text").call(Plotly.Drawing.font,_,k,"#fff").attr("data-notex",1),o.text(d).call(Plotly.util.convertToTspans).call(Plotly.Drawing.setPosition,0,0).selectAll("tspan.line").call(Plotly.Drawing.setPosition,0,0),e.attr("transform","");var a=o.node().getBoundingClientRect();if("x"===r){o.attr("text-anchor","middle").call(Plotly.Drawing.setPosition,0,"top"===s.side?m-a.bottom-w-P:m-a.top+w+P).selectAll("tspan.line").attr({x:o.attr("x"),y:o.attr("y")});var i="top"===s.side?"-":"";n.attr("d","M0,0L"+w+","+i+w+"H"+(P+a.width/2)+"v"+i+(2*P+a.height)+"H-"+(P+a.width/2)+"V"+i+w+"H-"+w+"Z"),e.attr("transform","translate("+(s._offset+(l.x0+l.x1)/2)+","+(c._offset+("top"===s.side?0:c._length))+")")}else{o.attr("text-anchor","right"===c.side?"start":"end").call(Plotly.Drawing.setPosition,("right"===c.side?1:-1)*(P+w),m-a.top-a.height/2).selectAll("tspan.line").attr({x:o.attr("x"),y:o.attr("y")});var p="right"===c.side?"":"-";n.attr("d","M0,0L"+p+w+","+w+"V"+(P+a.height/2)+"h"+p+(2*P+a.width)+"V-"+(P+a.height/2)+"H"+p+w+"V-"+w+"Z"),e.attr("transform","translate("+(s._offset+("right"===c.side?s._length:0))+","+(c._offset+(l.y0+l.y1)/2)+")")}t=t.filter(function(t){return void 0!==t.zLabelVal||(t[u]||"").split(" ")[0]===f})});var L=a.selectAll("g.hovertext").data(t,function(t){return[t.trace.index,t.index,t.x0,t.y0,t.name,t.attr||""].join(",")});return L.enter().append("g").classed("hovertext",!0).each(function(){var t=d3.select(this);t.append("rect").call(Plotly.Color.fill,Plotly.Color.addOpacity(o,.8)),t.append("text").classed("name",!0).call(Plotly.Drawing.font,_,k),t.append("path").style("stroke-width","1px"),t.append("text").classed("nums",!0).call(Plotly.Drawing.font,_,k)}),L.exit().remove(),L.each(function(t){var e=d3.select(this).attr("transform",""),a=t.name&&void 0===t.zLabelVal?$("<p>"+t.name+"</p>").text():"",i=p(Plotly.Color.opacity(t.color)?t.color:"#444",o),l=tinycolor(i).toRgb(),u=.299*l.r+.587*l.g+.114*l.b>128?"#000":"#FFF",f="";a.length>15&&(a=a.substr(0,12)+"..."),void 0!==t.zLabel?(void 0!==t.xLabel&&(f+="x: "+t.xLabel+"<br>"),void 0!==t.yLabel&&(f+="y: "+t.yLabel+"<br>"),f+=(f?"z: ":"")+t.zLabel):b&&t[r+"Label"]===d?f=t[("x"===r?"y":"x")+"Label"]||"":void 0===t.xLabel?void 0!==t.yLabel&&(f=t.yLabel):f=void 0===t.yLabel?t.xLabel:"("+t.xLabel+", "+t.yLabel+")",t.text&&(f+=(f?"<br>":"")+t.text);var y=e.select("text.nums").style("fill",u).call(Plotly.Drawing.setPosition,0,0).text(f).attr("data-notex",1).call(Plotly.util.convertToTspans);y.selectAll("tspan.line").call(Plotly.Drawing.setPosition,0,0);var h=e.select("text.name"),k=0;a?(h.style("fill",i).text(a).call(Plotly.Drawing.setPosition,0,0).attr("data-notex",1).call(Plotly.util.convertToTspans),h.selectAll("tspan.line").call(Plotly.Drawing.setPosition,0,0),k=h.node().getBoundingClientRect().width+2*P):(h.remove(),e.select("rect").remove()),e.select("path").style({fill:i,stroke:u});var _=y.node().getBoundingClientRect(),M=s._offset+(t.x0+t.x1)/2,L=c._offset+(t.y0+t.y1)/2,A=Math.abs(t.x1-t.x0),z=Math.abs(t.y1-t.y0),C=_.width+w+P+k;t.ty0=m-_.top,t.bx=_.width+2*P,t.by=_.height+2*P,t.anchor="start",t.txwidth=_.width,t.tx2width=k,t.offset=0,n?(t.pos=M,L+=z/2,L+C>x&&(t.anchor="end",L-=z,0>L-C&&(t.anchor="middle",L+=z/2))):(t.pos=L,M+=A/2,M+C>v&&(t.anchor="end",M-=A,0>M-C&&(t.anchor="middle",M+=A/2))),y.attr("text-anchor",t.anchor),k&&h.attr("text-anchor",t.anchor),e.attr("transform","translate("+M+","+L+")"+(n?"rotate("+g+")":""))}),L}function i(t,e){function r(t){var e=t[0],r=t[t.length-1];if(o=d-e.pos-e.dp+e.size,a=r.pos+r.dp+r.size-f,o>.01){for(l=t.length-1;l>=0;l--)t[l].dp+=o;n=!1}if(!(.01>a)){if(-.01>o){for(l=t.length-1;l>=0;l--)t[l].dp-=a;n=!1}if(n){var c=0;for(i=0;i<t.length;i++)s=t[i],s.pos+s.dp+s.size>f&&c++;for(i=t.length-1;i>=0&&!(0>=c);i--)s=t[i],s.pos>f-1&&(s.del=!0,c--);for(i=0;i<t.length&&!(0>=c);i++)if(s=t[i],s.pos<d+1)for(s.del=!0,c--,a=2*s.size,l=t.length-1;l>=0;l--)t[l].dp-=a;for(i=t.length-1;i>=0&&!(0>=c);i--)s=t[i],s.pos+s.dp+s.size>f&&(s.del=!0,c--)}}}for(var n,o,a,i,l,s,c,u=0,d=e._offset,f=e._offset+e._length,p=t.map(function(t,r){return[{i:r,dp:0,pos:t.pos,posref:t.posref,size:t.by*("x"===e._id.charAt(0)?v:1)/2}]}).sort(function(t,e){return t[0].posref-e[0].posref});!n&&u<=t.length;){for(u++,n=!0,i=0;i<p.length-1;){var y=p[i],h=p[i+1],g=y[y.length-1],m=h[0];if(o=g.pos+g.dp+g.size-m.pos-m.dp+m.size,o>.01){for(l=h.length-1;l>=0;l--)h[l].dp+=o;for(y.push.apply(y,h),p.splice(i+1,1),c=0,l=y.length-1;l>=0;l--)c+=y[l].dp;for(a=c/y.length,l=y.length-1;l>=0;l--)y[l].dp-=a;n=!1}else i++}p.forEach(r)}for(i=p.length-1;i>=0;i--){var x=p[i];for(l=x.length-1;l>=0;l--){var b=x[l],w=t[b.i];w.offset=b.dp,w.del=b.del}}}function l(t,e){t.each(function(t){var r=d3.select(this);if(t.del)return void r.remove();var n="end"===t.anchor?-1:1,o=r.select("text.nums"),a={start:1,end:-1,middle:0}[t.anchor],i=a*(w+P),l=i+a*(t.txwidth+P),s=0,c=t.offset;"middle"===t.anchor&&(i-=t.tx2width/2,l-=t.tx2width/2),e&&(c*=-b,s=t.offset*x),r.select("path").attr("d","middle"===t.anchor?"M-"+t.bx/2+",-"+t.by/2+"h"+t.bx+"v"+t.by+"h-"+t.bx+"Z":"M0,0L"+(n*w+s)+","+(w+c)+"v"+(t.by/2-w)+"h"+n*t.bx+"v-"+t.by+"H"+(n*w+s)+"V"+(c-w)+"Z"),o.call(Plotly.Drawing.setPosition,i+s,c+t.ty0-t.by/2+P).selectAll("tspan.line").attr({x:o.attr("x"),y:o.attr("y")}),t.tx2width&&(r.select("text.name, text.name tspan.line").call(Plotly.Drawing.setPosition,l+a*P+s,c+t.ty0-t.by/2+P),r.select("rect").call(Plotly.Drawing.setRect,l+(a-1)*t.tx2width/2+s,c-t.by/2-1,t.tx2width,t.by+2))})}function s(t,e,r){if(!e.target)return!1;if(!r||r.length!==t._hoverdata.length)return!0;for(var n=r.length-1;n>=0;n--){var o=r[n],a=t._hoverdata[n];if(o.curveNumber!==a.curveNumber||String(o.pointNumber)!==String(a.pointNumber))return!0}return!1}function c(t,e){var r=t._fullLayout;e||(e={}),"string"==typeof t&&(t=document.getElementById(t)),e.target&&$(t).triggerHandler("plotly_beforehover",e)===!1||(r._hoverlayer.selectAll("g").remove(),e.target&&t._hoverdata&&$(t).trigger("plotly_unhover",{points:t._hoverdata}),t._hoverdata=void 0)}function u(t,e,r,n,o,a,i,l){function s(t){return t._id}function c(t){t.range=t.range.map(Number)}function u(e){if(t._context.scrollZoom||P._enablescrollzoom){var r=$(t).find(".plotly")[0];if(!(r.scrollHeight-r.clientHeight>10||r.scrollWidth-r.clientWidth>10)){clearTimeout(I);var n=Math.exp(-Math.min(Math.max(-e.deltaY,-20),20)/100),o=B.draglayer.select(".nsewdrag").node().getBoundingClientRect(),a=(e.clientX-o.left)/o.width,s=T[0]+T[2]*a,u=(o.bottom-e.clientY)/o.height,d=T[1]+T[3]*(1-u);return l&&(k.forEach(function(t){c(t);var e=t.range[0]+(t.range[1]-t.range[0])*a;t.range=[e+(t.range[0]-e)*n,e+(t.range[1]-e)*n]}),T[2]*=n,T[0]=s-T[2]*a),i&&(_.forEach(function(t){c(t);var e=t.range[0]+(t.range[1]-t.range[0])*u;t.range=[e+(t.range[0]-e)*n,e+(t.range[1]-e)*n]}),T[3]*=n,T[1]=d-T[3]*(1-u)),x(T),g(i,l),I=setTimeout(function(){T=[0,0,M,L],v()},j),Plotly.Lib.pauseEvent(e)}}}function f(r){function n(){$(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}var o=B.draglayer.select(".nsewdrag").node().getBoundingClientRect(),a=r.clientX-o.left,i=r.clientY-o.top,l={l:a,r:a,w:0,t:i,b:i,h:0},s=t._hmpixcount?t._hmlumcount/t._hmpixcount:tinycolor(t._fullLayout.plot_bgcolor).toHsl().l,u="M0,0H"+M+"V"+L+"H0V0",d=e.plot.append("path").attr("class","zoombox").style({fill:s>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0","stroke-width":0}).attr("d",u+"Z"),f=e.plot.append("path").attr("class","zoombox-corners").style({fill:"#FFF",stroke:"#444","stroke-width":1,opacity:0}).attr("d","M0,0Z"),p=!1,h="xy";k.forEach(c),_.forEach(c),window.onmousemove=function(t){var e=Math.max(0,Math.min(M,t.clientX-o.left)),n=Math.max(0,Math.min(L,t.clientY-o.top)),c=Math.abs(e-a),g=Math.abs(n-i),m=Math.floor(Math.min(g,c,y.MINZOOM)/2);return l={l:Math.min(a,e),r:Math.max(a,e),t:Math.min(i,n),b:Math.max(i,n)},g<Math.min(Math.max(.6*c,y.MINDRAG),y.MINZOOM)?c<y.MINDRAG?(h="",l.r=l.l,l.t=l.b,f.attr("d","M0,0Z")):(l.t=0,l.b=L,h="x",f.attr("d","M"+(l.l-.5)+","+(i-y.MINZOOM-.5)+"h-3v"+(2*y.MINZOOM+1)+"h3ZM"+(l.r+.5)+","+(i-y.MINZOOM-.5)+"h3v"+(2*y.MINZOOM+1)+"h-3Z")):c<Math.min(.6*g,y.MINZOOM)?(l.l=0,l.r=M,h="y",f.attr("d","M"+(a-y.MINZOOM-.5)+","+(l.t-.5)+"v-3h"+(2*y.MINZOOM+1)+"v3ZM"+(a-y.MINZOOM-.5)+","+(l.b+.5)+"v3h"+(2*y.MINZOOM+1)+"v-3Z")):(h="xy",f.attr("d","M"+(l.l-3.5)+","+(l.t-.5+m)+"h3v"+-m+"h"+m+"v-3h-"+(m+3)+"ZM"+(l.r+3.5)+","+(l.t-.5+m)+"h-3v"+-m+"h"+-m+"v-3h"+(m+3)+"ZM"+(l.r+3.5)+","+(l.b+.5-m)+"h-3v"+m+"h"+-m+"v3h"+(m+3)+"ZM"+(l.l-3.5)+","+(l.b+.5-m)+"h3v"+m+"h"+m+"v3h-"+(m+3)+"Z")),l.w=l.r-l.l,l.h=l.b-l.t,d.attr("d",u+"M"+l.l+","+l.t+"v"+l.h+"h"+l.w+"v-"+l.h+"h-"+l.w+"Z"),p||(d.transition().style("fill",s>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),f.transition().style("opacity",1).duration(200),p=!0),Plotly.Lib.pauseEvent(r)
},window.onmouseup=function(){function e(){h.indexOf("x")>-1&&k.forEach(function(t){var e=t.range;t.range=[e[0]+(e[1]-e[0])*l.l/M,e[0]+(e[1]-e[0])*l.r/M]}),h.indexOf("y")>-1&&_.forEach(function(t){var e=t.range;t.range=[e[0]+(e[1]-e[0])*(L-l.b)/L,e[0]+(e[1]-e[0])*(L-l.t)/L]}),n(),v(h),z&&t.data&&!t._context.showTips&&(Plotly.Lib.notifier("Double-click to<br>zoom back out","long"),z=!1)}return t._dragging=!1,window.onmousemove=null,window.onmouseup=null,Math.min(l.h,l.w)<2*y.MINDRAG?(2===w&&(new Date).getTime()-b<y.DBLCLICKDELAY&&m(),n()):void e()}}function p(e){var r=!1;window.onmousemove=function(t){var n=t.clientX-e.clientX,o=t.clientY-e.clientY;return r=(l?Math.abs(n):0)+(i?Math.abs(o):0)>y.MINDRAG,r?h(n,o):h(0,0),Plotly.Lib.pauseEvent(t)},window.onmouseup=function(e){return window.onmousemove=null,window.onmouseup=null,t._dragging=!1,r?v():(new Date).getTime()-b<y.DBLCLICKDELAY&&(2===w&&1!==(i+l).length?m():1===w&&1===(i+l).length&&d(D)),Plotly.Lib.pauseEvent(e)}}function h(t,e){function r(t){return 1-(t>=0?Math.min(t,.9):1/(1/Math.max(t,-.3)+3.222))}function n(t,e,n){return t.forEach(function(t){t.range[e]=t._r[1-e]+(t._r[e]-t._r[1-e])/r(n/t._length)}),t[0]._length*(t[0]._r[e]-t[0].range[e])/(t[0]._r[e]-t[0]._r[1-e])}return"ew"===l||"ns"===i?(l&&k.forEach(function(e){e.range=[e._r[0]-t/e._m,e._r[1]-t/e._m]}),i&&_.forEach(function(t){t.range=[t._r[0]-e/t._m,t._r[1]-e/t._m]}),x([l?-t:0,i?-e:0,M,L]),void g(i,l)):("w"===l?t=n(k,0,t):"e"===l?t=n(k,1,-t):l||(t=0),"n"===i?e=n(_,1,e):"s"===i?e=n(_,0,-e):i||(e=0),x(["w"===l?t:0,"n"===i?e:0,M-t,L-e]),void g(i,l))}function g(e,r){(r?k:[]).concat(e?_:[]).forEach(function(e){Plotly.Axes.doTicks(t,e._id,!0)}),(P.annotations||[]).forEach(function(n,o){(r&&-1!==O.indexOf(n.xref)||e&&-1!==N.indexOf(n.yref))&&Plotly.Annotations.draw(t,o)})}function m(){var e={};(l?k:[]).concat(i?_:[]).forEach(function(t){e[t._name+".autorange"]=!0}),Plotly.relayout(t,e)}function v(e){var r={};E.forEach(function(t){e&&-1===e.indexOf(t._id.charAt(0))||([0,1].forEach(function(e){t._r[e]!==t.range[e]&&(r[t._name+".range["+e+"]"]=t.range[e])}),t.range=t._r.slice())}),x([0,0,M,L]),Plotly.relayout(t,r)}function x(t){Object.keys(P._plots).forEach(function(e){var r=P._plots[e],n=r.x(),o=r.y(),a=l&&-1!==k.indexOf(n),s=i&&-1!==_.indexOf(o);if(a||s){var c=[0,0,n._length,o._length];a&&(c[0]=t[0],c[2]=t[2]),s&&(c[1]=t[1],c[3]=t[3]),r.plot.attr("viewBox",c.join(" "))}})}var b=0,w=1,P=t._fullLayout,k=[e.x()],_=[e.y()],M=k[0]._length,L=_[0]._length,A=i+l==="nsew"?{pan:"move",zoom:"crosshair"}[P.dragmode]:(i+l).toLowerCase()+"-resize",C=i+l+"drag",S=[e].concat(i&&l?e.overlays:[]),D=e.draglayer.selectAll("."+C).data([0]);D.enter().append("rect").classed("drag",!0).classed(C,!0).style({fill:"black",opacity:0,"stroke-width":0}).attr("data-subplot",e.id),D.call(Plotly.Drawing.setRect,r,n,o,a).call(y.setCursor,A),D=D.node(),S.forEach(function(t){var e=t.x(),r=t.y();-1===k.indexOf(e)&&k.push(e),-1===_.indexOf(r)&&_.push(r)});var O=k.map(s),N=_.map(s),E=k.concat(_);D.onmousedown=function(e){if(y.dragClear(t))return!0;t._dragging=!0;var r=(new Date).getTime();return r-b<y.DBLCLICKDELAY?w+=1:(w=1,b=r),i+l==="nsew"&&("zoom"===P.dragmode?!e.shiftKey:e.shiftKey)?f(e):p(e),Plotly.Lib.pauseEvent(e)};var T=[0,0,M,L],I=null,j=300,B=e.mainplot?P._plots[e.mainplot]:e;return i.length*l.length!==1&&(void 0!==D.onwheel?D.onwheel=u:void 0!==D.onmousewheel&&(D.onmousewheel=u)),D}function d(t){function e(){return Plotly.Lib.constrain(A.width()+g.comfortZone,g.minWidth,g.maxWidth)}function r(){k.remove(),A.remove(),u._input=null}var n,o,a,i,l,s,c,u=$(t).parents(".js-plotly-plot")[0],d=u._fullLayout,p=d3.select(t),y=p.attr("class"),h=$(t),g={maxWidth:1e3,minWidth:20},m={},v=$(t).attr("data-subplot").match(/(x[0-9]*)(y[0-9]*)/)||["","x","y"];o=-1!==["n","s"].indexOf(y.charAt(5))?"y":"x",a=v["x"===o?1:2],i=Plotly.Axes.getFromId(u,a),l=-1!==["s","w"].indexOf(y.charAt(5))?0:1,n=Plotly.Lib.nestedProperty(d,i._name+".range["+l+"]"),g.align="drag edrag"===y||"right"===i.side?"right":"left",h=$(u).find("."+i._id+"title");var x=["font-size","font-family","font-weight","font-style","font-stretch","font-variant","letter-spacing","word-spacing"],b=["font-size","letter-spacing","word-spacing"];for(s in x){var w=h.attr(x[s]);b.indexOf(x[s])>=0&&Number(w)>0&&(w+="px"),w&&(m[x[s]]=w)}g.comfortZone=3+(Number(String(m["font-size"]).split("px")[0])||20);var P=t.getBoundingClientRect(),k=$("<input/>").appendTo(u);u._input=k,k.css(m).css({position:"absolute",top:0,left:0,"z-index":6e3});var _=n.get(),M=Math.abs(_-i.range[1-l]);"date"===i.type?k.val(Plotly.Lib.ms2DateTime(_,M)):"log"===i.type?(c=Math.ceil(Math.max(0,-Math.log(M)/Math.LN10))+3,k.val(d3.format("."+String(c)+"g")(Math.pow(10,_)))):(c=Math.floor(Math.log(Math.abs(_))/Math.LN10)-Math.floor(Math.log(M)/Math.LN10)+4,k.val(d3.format("."+String(c)+"g")(_)));var L=k.val(),A=$("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",whiteSpace:"nowrap"}).css(m).insertAfter(k).html(f(L));k.width(e());var z=k[0].getBoundingClientRect(),C=P.left-z.left;k.css("top",P.top-z.top+(P.height-z.height)/2+"px"),"right"===g.align?C+=P.width-z.width:"center"===g.align&&(C+=(P.width+g.comfortZone-z.width)/2),k.css("left",C+"px");var S={left:0,center:.5,right:1}[g.align],D=k.position().left+k.width()*S;k[0].select(),k.bind("keyup keydown blur update",function(t){var o=L;L=k.val();var a=$.trim(L);if(u._input&&d)if("blur"===t.type||"keydown"===t.type&&13===t.which){if(a=i.c2l("category"===i.type?a:i.d2c(a)),!$.isNumeric(a))return;var l={};l[n.astr]=a,Plotly.relayout(u,l),r()}else if("keydown"===t.type&&27===t.which)r();else if(L!==o){A.html(f(L));var s=e();k.css({width:s,left:D-s*S})}})}function f(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\s/g,"&nbsp;")}function p(t,e){var r=tinycolor(t).toRgb(),n=tinycolor(e||"#FFF").toRgb();if(1===r.a)return tinycolor(t).toRgbString();var o=1===n.a?n:{r:255*(1-n.a)+n.r*n.a,g:255*(1-n.a)+n.g*n.a,b:255*(1-n.a)+n.b*n.a},a={r:o.r*(1-r.a)+r.r*r.a,g:o.g*(1-r.a)+r.g*r.a,b:o.b*(1-r.a)+r.b*r.a};return tinycolor(a).toRgbString()}var y=Plotly.Fx={};y.attributes={dragmode:{type:"enumerated",values:["zoom","pan"],dflt:"zoom"},hovermode:{type:"enumerated",values:["x","y","closest",!1]}},y.supplyDefaults=function(t,e,r){function n(r,n){return Plotly.Lib.coerce(t,e,y.attributes,r,n)}n("dragmode"),e._hasGL3D?n("hovermode","closest"):(void 0===e._isHoriz&&(e._isHoriz=y.isHoriz(r)),n("hovermode",e._isHoriz?"y":"x"))},y.isHoriz=function(t){return t.every(function(t){return"h"===t.orientation})},y.DBLCLICKDELAY=600,y.MINDRAG=8,y.MINZOOM=20;var h=20;y.init=function(t){var e=t._fullLayout,r=t._fullData;if(void 0===e._isHoriz&&(e._isHoriz=y.isHoriz(r)),!e._hasGL3D&&!t._context.staticPlot){var n=Object.keys(e._plots).sort(function(t,r){if((e._plots[t].mainplot&&!0)===(e._plots[r].mainplot&&!0)){var n=t.split("y"),o=r.split("y");return n[0]===o[0]?Number(n[1]||1)-Number(o[1]||1):Number(n[0]||1)-Number(o[0]||1)}return e._plots[t].mainplot?1:-1});n.forEach(function(r){var n=e._plots[r],o=n.x(),a=n.y(),i=(o._linepositions[r]||[])[3],l=(a._linepositions[r]||[])[3];if($.isNumeric(i)&&"top"===o.side&&(i-=h),$.isNumeric(l)&&"right"!==a.side&&(l-=h),!n.mainplot){var s=u(t,n,0,0,o._length,a._length,"ns","ew");$(s).mousemove(function(n){y.hover(t,n,r),e._lasthover=s,e._hoversubplot=r}).mouseout(function(e){y.unhover(t,e)}).click(function(e){y.click(t,e)}),u(t,n,-h,-h,h,h,"n","w"),u(t,n,o._length,-h,h,h,"n","e"),u(t,n,-h,a._length,h,h,"s","w"),u(t,n,o._length,a._length,h,h,"s","e")}$.isNumeric(i)&&("free"===o.anchor&&(i-=e._size.h*(1-a.domain[1])),u(t,n,.1*o._length,i,.8*o._length,h,"","ew"),u(t,n,0,i,.1*o._length,h,"","w"),u(t,n,.9*o._length,i,.1*o._length,h,"","e")),$.isNumeric(l)&&("free"===a.anchor&&(l-=e._size.w*o.domain[0]),u(t,n,l,.1*a._length,h,.8*a._length,"ns",""),u(t,n,l,.9*a._length,h,.1*a._length,"s",""),u(t,n,l,0,h,.1*a._length,"n",""))}),$(e._hoverlayer.node()).off("mousemove click").on("mousemove",function(r){r.target=e._lasthover,y.hover(t,r,e._hoversubplot)}).on("click",function(r){r.target=e._lasthover,y.click(t,r)}),e._hoverlayer.node().onmousedown=function(t){e._lasthover.onmousedown(t)}}};var g=60,m=Math.PI*g/180,v=1/Math.sin(m),x=Math.cos(m),b=Math.sin(m),w=6,P=3,k=13,_="Arial, sans-serif";y.MAXDIST=20;var M,L=0,A=100;y.hover=function(t,e,r){return M&&(clearTimeout(M),M=void 0),Date.now()>L+A?(n(t,e,r),void(L=Date.now())):void(M=setTimeout(function(){n(t,e,r),L=Date.now(),M=void 0},A))},y.unhover=function(t,e,r){M&&(clearTimeout(M),M=void 0),c(t,e,r)},y.getDistanceFunction=function(t,e,n,o){return"closest"===t?o||r(e,n):"x"===t?e:n},y.getClosest=function(t,e,r){if(r.index!==!1)r.index>=0&&r.index<t.length?r.distance=0:r.index=!1;else for(var n=0;n<t.length;n++){var o=e(t[n]);o<r.distance&&(r.index=n,r.distance=o)}return r},y.loneHover=function(t,e){var r={color:t.color||"#444",x0:t.x0||t.x||0,x1:t.x1||t.x||0,y0:t.y0||t.y||0,y1:t.y1||t.y||0,xLabel:t.xLabel,yLabel:t.yLabel,zLabel:t.zLabel,text:t.text,name:t.name,trace:{index:0},xa:{_offset:0},ya:{_offset:0},index:0},n=d3.select(e.container),o={hovermode:"closest",rotateLabels:!1,bgColor:e.bgColor||"#fff",container:n,outerContainer:n},i=a([r],o);return l(i,o.rotateLabels),i.node()},y.click=function(t,e){t._hoverdata&&e&&e.target&&($(t).trigger("plotly_click",{points:t._hoverdata}),e.stopImmediatePropagation())},y.modeBar=function(t){function e(){return this.getAttribute("data-gravity")||"n"}function r(){var r=new ModeBar({buttons:l,container:o._paperdiv.node(),Plotly:Plotly,graphInfo:t});return $(r.element).find("button, a").tipsy({opacity:1,gravity:e}),o._privateplot&&$(r.element).append('<span class="badge-private float--left">PRIVATE</span>'),r}var n,o=t._fullLayout||{};if(!(t._context.staticPlot||o._hasGL3D&&o._noGL3DSupport)){var a=[["zoom2d","pan2d"],["zoomIn2d","zoomOut2d","autoScale2d"],["hoverClosest2d","hoverCompare2d"]],i=[["rotate3d","zoom3d","pan3d"],["resetCameraDefault3d","resetCameraLastSave3d"],["hoverClosest3d"]],l=o._hasGL3D?i:a;if(!o._modebar){var s=t.querySelector(".modebar");s&&s.parentNode.removeChild(s),o._modebar=r()}n=o._modebar,n.hasButtons(l)||(o._modebar.cleanup(),o._modebar=r())}};var z=!0;y.dragAlign=function(t,e,r,n,o){var a=(t-r)/(n-r),i=a+e/(n-r),l=(a+i)/2;return"left"===o||"bottom"===o?a:"center"===o||"middle"===o?l:"right"===o||"top"===o?i:2/3-l>a?a:i>4/3-l?i:l};var C=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];y.dragCursors=function(t,e,r,n){return t="left"===r?0:"center"===r?1:"right"===r?2:Plotly.Lib.constrain(Math.floor(3*t),0,2),e="bottom"===n?0:"middle"===n?1:"top"===n?2:Plotly.Lib.constrain(Math.floor(3*e),0,2),C[e][t]},y.dragClear=function(t){return t._input&&t._input.trigger("blur"),!1},y.dragElement=function(t){t.element.onmousedown=function(e){var r=!1,n=$(t.element).parents(".js-plotly-plot")[0];return n&&y.dragClear(n)?!0:(t.prepFn&&t.prepFn(),window.onmousemove=function(n){var o=n.clientX-e.clientX,a=n.clientY-e.clientY;return Math.abs(o)<y.MINDRAG&&(o=0),Math.abs(a)<y.MINDRAG&&(a=0),(o||a)&&(r=!0),t.moveFn&&t.moveFn(o,a,r),Plotly.Lib.pauseEvent(n)},window.onmouseup=function(e){return window.onmousemove=null,window.onmouseup=null,t.doneFn&&t.doneFn(r),Plotly.Lib.pauseEvent(e)},Plotly.Lib.pauseEvent(e))}},y.setCursor=function(t,e){(t.attr("class")||"").split(" ").forEach(function(e){0===e.indexOf("cursor-")&&t.classed(e,!1)}),e&&t.classed("cursor-"+e,!0)},y.inbox=function(t,e){return 0>t*e||0===t?y.MAXDIST*(.6-.3/Math.max(3,Math.abs(t-e))):1/0}}(),function(){"use strict";function t(e){if(!(this instanceof t))return new t;var r=this;this.Plotly=e.Plotly,this.graphInfo=e.graphInfo,this.element=document.createElement("div"),this.element.className="modebar",this.buttons=e.buttons,this.buttonElements=[],this.buttons.forEach(function(t){var e=r.createGroup();t.forEach(function(t){var n=r.config()[t];if(!n)throw new Error(t+" not specfied in modebar configuration");var o=r.createButton(n);r.buttonElements.push(o),e.appendChild(o)}),r.element.appendChild(e)}),this.graphInfo.displaylogo&&this.element.appendChild(this.getLogo()),e.container.appendChild(this.element),this.updateActiveButton()}window.ModeBar=t,t.prototype.createGroup=function(){var t=document.createElement("div");return t.className="btn-group float--left",t},t.prototype.createButton=function(t){var e=document.createElement("button"),r=document.createElement("i"),n=this;return e.setAttribute("rel","tooltip"),e.className="btn btn--icon btn--plot ploticon",e.setAttribute("data-attr",t.attr),e.setAttribute("data-val",t.val),e.setAttribute("title",t.title),e.setAttribute("data-gravity",t.gravity||"n"),e.addEventListener("click",function(){t.click.apply(n,arguments)}),r.className=t.icon,e.appendChild(r),e},t.prototype.updateActiveButton=function(){var t=this.graphInfo;this.buttonElements.forEach(function(e){var r=e.getAttribute("data-val")||!0,n=e.getAttribute("data-attr"),o=t._fullLayout[n];e.classList.toggle("active",o===r)})},t.prototype.hasButtons=function(t){var e=this.buttons;if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r){if(t[r].length!==e[r].length)return!1;for(var n=0;n<t[r].length;n++)if(t[r][n]!==e[r][n])return!1}return!0},t.prototype.getLogo=function(){var t=this.createGroup(),e=document.createElement("a");return e.setAttribute("rel","tooltip"),e.href="https://plot.ly/",e.target="_blank",e.title="Produced with Plotly",e.className="ploticon-plotlylogo",e.setAttribute("data-gravity","ne"),t.appendChild(e),t.classList.add("btn-group--logo"),t},t.prototype.handleCartesian=function(t){var e=t.currentTarget,r=e.getAttribute("data-attr"),n=e.getAttribute("data-val")||!0,o=this,a=this.graphInfo,i=this.graphInfo._fullLayout,l=this.Plotly,s={};if("zoom"===r){var c=i.xaxis.range,u=i.yaxis.range,d="in"===n?.5:2,f=(1+d)/2,p=(1-d)/2;s={"xaxis.range[0]":f*c[0]+p*c[1],"xaxis.range[1]":f*c[1]+p*c[0],"yaxis.range[0]":f*u[0]+p*u[1],"yaxis.range[1]":f*u[1]+p*u[0]}}"hovermode"!==r||"x"!==n&&"y"!==n||(n=i._isHoriz?"y":"x",e.setAttribute("data-val",n)),s[r]=n,l.relayout(a,s).then(function(){o.updateActiveButton(),"dragmode"===r&&(l.Fx.setCursor(i._paper.select(".nsewdrag"),{pan:"move",zoom:"crosshair"}[n]),l.Fx.supplyDefaults(a.layout,i,a._fullData))})},t.prototype.handleHover3d=function(t){var e=t.currentTarget,r=e.getAttribute("data-attr"),n=this,o=this.Plotly,a=this.graphInfo,i=a._fullLayout,l=o.Lib.getSceneLayouts(i),s={},c="closest"!==i[r]?"closest":!1;s[r]=c;for(var u=0;u<l.length;++u){var d=l[u],f=d._scene;f.spikeEnable=!f.spikeEnable,f.container.focus()}o.relayout(a,s).then(function(){n.updateActiveButton()})},t.prototype.handleDrag3d=function(t){var e=t.currentTarget,r=e.getAttribute("data-attr"),n=e.getAttribute("data-val")||!0,o=this,a=this.Plotly,i=this.graphInfo,l=i._fullLayout,s=a.Lib.getSceneLayouts(l),c={};c[r]=n;for(var u=0;u<s.length;++u){var d=s[u],f=d._scene;"camera"in f&&(f.camera.keyBindingMode=n,f.container.focus())}a.relayout(i,c).then(function(){o.updateActiveButton()})},t.prototype.handleCamera3d=function(t){for(var e=t.currentTarget,r=e.getAttribute("data-attr"),n=this.Plotly,o=this.graphInfo,a=o._fullLayout,i=n.Lib.getSceneLayouts(a),l=0;l<i.length;++l){var s=i[l],c=s._scene;if("resetDefault"===r)c.setCameraToDefault();else if("resetLastSave"===r){var u=c.cameraPositionLastSave;c.setCameraPosition(u)}}},t.prototype.cleanup=function(){this.element.innerHTML="";var t=this.element.parentNode;t.removeChild(this.element)},t.prototype.config=function(){return{zoom2d:{title:"Zoom",attr:"dragmode",val:"zoom",icon:"ploticon-zoombox",click:this.handleCartesian},pan2d:{title:"Pan",attr:"dragmode",val:"pan",icon:"ploticon-pan",click:this.handleCartesian},zoomIn2d:{title:"Zoom in",attr:"zoom",val:"in",icon:"ploticon-zoom_plus",click:this.handleCartesian},zoomOut2d:{title:"Zoom out",attr:"zoom",val:"out",icon:"ploticon-zoom_minus",click:this.handleCartesian},autoScale2d:{title:"Autoscale",attr:"allaxes.autorange",val:"",icon:"ploticon-autoscale",click:this.handleCartesian},hoverClosest2d:{title:"Show closest data on hover",attr:"hovermode",val:"closest",icon:"ploticon-tooltip_basic",gravity:"ne",click:this.handleCartesian},hoverCompare2d:{title:"Compare data on hover",attr:"hovermode",val:this.graphInfo._fullLayout._isHoriz?"y":"x",icon:"ploticon-tooltip_compare",gravity:"ne",click:this.handleCartesian},zoom3d:{title:"Zoom",attr:"dragmode",val:"zoom",icon:"ploticon-zoombox",click:this.handleDrag3d},pan3d:{title:"Pan",attr:"dragmode",val:"pan",icon:"ploticon-pan",click:this.handleDrag3d},rotate3d:{title:"Rotate",attr:"dragmode",val:"rotate",icon:"icon-undo",click:this.handleDrag3d},resetCameraDefault3d:{title:"Reset camera to default",attr:"resetDefault",val:!1,icon:"icon-home",click:this.handleCamera3d},resetCameraLastSave3d:{title:"Reset camera to last save",attr:"resetLastSave",val:!1,icon:"icon-camera-retro",click:this.handleCamera3d},hoverClosest3d:{title:"Toggle show closest data on hover",attr:"hovermode",val:"closest",icon:"ploticon-tooltip_basic",gravity:"ne",click:this.handleHover3d}}}}(),function(){"use strict";function t(t,e,r){return"percent"===t?Math.abs(e*r/100):"constant"===t?Math.abs(r):"sqrt"===t?Math.sqrt(Math.abs(e)):(console.log("unrecognized errorbar type",t,r,e),0)}function e(t,e,r){var n={x:e.c2p(t.x),y:r.c2p(t.y)};return void 0!==t.yh&&(n.yh=r.c2p(t.yh),n.ys=r.c2p(t.ys),$.isNumeric(n.ys)||(n.noYS=!0,n.ys=r.c2p(t.ys,!0))),void 0!==t.xh&&(n.xh=e.c2p(t.xh),n.xs=e.c2p(t.xs),$.isNumeric(n.xs)||(n.noXS=!0,n.xs=e.c2p(t.xs,!0))),n}var r=window.Plotly.ErrorBars={};r.attributes={visible:{type:"boolean"},type:{type:"enumerated",values:["percent","constant","sqrt","data"]},symmetric:{type:"boolean"},array:{type:"data_array"},arrayminus:{type:"data_array"},value:{type:"number",min:0,dflt:10},valueminus:{type:"number",min:0,dflt:10},traceref:{type:"integer",min:0,dflt:0},tracerefminus:{type:"integer",min:0,dflt:0},copy_ystyle:{type:"boolean"},copy_zstyle:{type:"boolean"},color:{type:"color"},thickness:{type:"number",min:0,dflt:2},width:{type:"number",min:0}},r.supplyDefaults=function(t,e,n,o){function a(t,e){return Plotly.Lib.coerce(s,l,r.attributes,t,e)}var i="error_"+o.axis,l=e[i]={},s=t[i]||{},c=a("visible","array"in s||"value"in s);if(c){var u=a("type","array"in s?"data":"percent"),d=!0;if("sqrt"!==u&&(d=a("symmetric",!(("data"===u?"arrayminus":"valueminus")in s))),"data"===u){var f=a("array");if(f||(l.array=[]),a("traceref"),!d){var p=a("arrayminus");p||(l.arrayminus=[]),a("tracerefminus")}}else("percent"===u||"constant"===u)&&(a("value"),d||a("valueminus"));var y="copy_"+o.inherit+"style";if(o.inherit){var h=e["error_"+o.inherit];(h||{}).visible&&a(y,!(s.color||$.isNumeric(s.thickness)||$.isNumeric(s.width)))}o.inherit&&l[y]||(a("color",n),a("thickness"),a("width",Plotly.Plots.isScatter3D(e.type)?0:4))}},r.pushRef2GDC=function(t,e,r,n){function o(e){var r=t.data[e][s];r["tracerefminus"===c?"arrayminus":"array"]=d}var a,i=!1,l=r.split("."),s=l[0],c=l[1],u=s.charAt(s.length-1);"type"===c?("various"===e&&(i=!0,e=0),a=Number(t.calcdata[Number(e)][0].trace["error_"+u].traceref)||0):("traceref"===c||"tracerefminus"===c)&&("various"===e&&(i=!0),a=Number(n)||0);var d=t.data[a][u].map(Number);if(i)for(var f=0;f<t.data.length;f++)o(f);else o(Number(e))},r.calc=function(e){(e.calcdata||[]).forEach(function(r){var n=r[0].trace;if((n.module||{}).errorBarsOK){var o=n.error_x||{},a=n.error_y||{},i=Plotly.Axes.getFromId(e,n.xaxis),l=Plotly.Axes.getFromId(e,n.yaxis),s=o.visible&&-1!==["linear","log"].indexOf(i.type),c=a.visible&&-1!==["linear","log"].indexOf(l.type);if(s||c){var u=[],d=[];r.forEach(function(e,r){try{$.isNumeric(l.c2l(e.y))&&$.isNumeric(i.c2l(e.x))&&[{letter:"x",obj:o,visible:s,vals:u},{letter:"y",obj:a,visible:c,vals:d}].forEach(function(n){if(n.visible){var o,a,i=e[n.letter],l=n.obj;if("data"===n.obj.type?(o=Number(l.array[r]),a=!l.symmetric&&"arrayminus"in l?Number(l.arrayminus[r]):o):(o=t(l.type,i,l.value),a=!l.symmetric&&"valueminus"in l?t(l.type,i,l.valueminus):o),$.isNumeric(o)&&$.isNumeric(a)){var s=e[n.letter+"h"]=i+o,c=e[n.letter+"s"]=i-a;n.vals.push(s,c)}}})}catch(n){console.log(n)}}),Plotly.Axes.expand(l,d,{padded:!0}),Plotly.Axes.expand(i,u,{padded:!0})}}})},r.plot=function(t,r,n){var o=r.x(),a=r.y();r.plot.select(".errorlayer").selectAll("g.errorbars").remove();var i;r.plot.select(".errorlayer").selectAll("g.errorbars").data(n).enter().append("g").attr("class","errorbars").each(function(t){var r=t[0].trace,n=r.error_x,l=r.error_y,s=Plotly.Scatter.hasMarkers(r)&&r.marker.maxdisplayed>0;(l.visible||n.visible)&&d3.select(this).selectAll("g").data(Plotly.Lib.identity).enter().append("g").each(function(t){i=e(t,o,a);var r,c=d3.select(this);if(!s||t.vis){if(l.visible&&$.isNumeric(i.x)&&$.isNumeric(i.yh)&&$.isNumeric(i.ys)){var u=l.width;r="M"+(i.x-u)+","+i.yh+"h"+2*u+"m-"+u+",0V"+i.ys,i.noYS||(r+="m-"+u+",0h"+2*u),c.append("path").classed("yerror",!0).attr("d",r)}if(n.visible&&$.isNumeric(i.y)&&$.isNumeric(i.xh)&&$.isNumeric(i.xs)){var d=(n.copy_ystyle?l:n).width;r="M"+i.xh+","+(i.y-d)+"v"+2*d+"m0,-"+d+"H"+i.xs,i.noXS||(r+="m0,-"+d+"v"+2*d),c.append("path").classed("xerror",!0).attr("d",r)}}})})},r.style=function(t){t.selectAll("g.errorbars").each(function(t){var e=d3.select(this),r=t[0].trace,n=r.error_y||{},o=r.error_x||{};e.selectAll("g path.yerror").style("stroke-width",n.thickness+"px").call(Plotly.Color.stroke,n.color),o.copy_ystyle&&(o=n),e.selectAll("g path.xerror").style("stroke-width",o.thickness+"px").call(Plotly.Color.stroke,o.color)})},r.hoverInfo=function(t,e,r){e.error_y.visible&&(r.yerr=t.yh-t.y,e.error_y.symmetric||(r.yerrneg=t.y-t.ys)),e.error_x.visible&&(r.xerr=t.xh-t.x,e.error_x.symmetric||(r.xerrneg=t.x-t.xs))}}(),function(){"use strict";function t(t,e){function n(n,o){return Plotly.Lib.coerce(t,e,r.attributes,n,o)}var o=n("line.shape");"spline"===o&&n("line.smoothing")}function e(t,e){var r,n;if("lines"===t.mode)return r=t.line.color,r&&Plotly.Color.opacity(r)?r:t.fillcolor;if("none"===t.mode)return t.fill?t.fillcolor:"";var o=e.mcc||(t.marker||{}).color,a=e.mlcc||((t.marker||{}).line||{}).color;return n=o&&Plotly.Color.opacity(o)?o:a&&Plotly.Color.opacity(a)&&(e.mlw||((t.marker||{}).line||{}).width)?a:"",n?Plotly.Color.opacity(n)<.3?Plotly.Color.addOpacity(n,.3):n:(r=(t.line||{}).color,r&&Plotly.Color.opacity(r)&&Plotly.Scatter.hasLines(t)&&t.line.width?r:t.fillcolor)}var r=window.Plotly.Scatter={};r.errorBarsOK=!0,r.PTS_LINESONLY=20,r.attributes={x:{type:"data_array"},x0:{type:"any",dflt:0},dx:{type:"number",dflt:1},y:{type:"data_array"},y0:{type:"any",dflt:0},dy:{type:"number",dflt:1},text:{type:"string",dflt:"",arrayOk:!0},mode:{type:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:{type:"color"},width:{type:"number",min:0,dflt:2},shape:{type:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear"},smoothing:{type:"number",min:0,max:1.3,dflt:1},dash:{type:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid"}},connectgaps:{type:"boolean",dflt:!1},fill:{type:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx"],dflt:"none"},fillcolor:{type:"color"},marker:{symbol:{type:"enumerated",values:Plotly.Drawing.symbolList,dflt:"circle",arrayOk:!0},opacity:{type:"number",min:0,max:1,arrayOk:!0},size:{type:"number",min:0,dflt:6,arrayOk:!0},color:{type:"color",arrayOk:!0},maxdisplayed:{type:"number",min:0,dflt:0},sizeref:{type:"number",dflt:1},sizemode:{type:"enumerated",values:["diameter","area"],dflt:"diameter"},colorscale:{type:"colorscale",dflt:Plotly.Color.defaultScale},cauto:{type:"boolean",dflt:!0},cmax:{type:"number",dflt:10},cmin:{type:"number",dflt:-10},line:{color:{type:"color",arrayOk:!0},width:{type:"number",min:0,arrayOk:!0},colorscale:{type:"colorscale",dflt:Plotly.Color.defaultScale},cauto:{type:"boolean",dflt:!0},cmax:{type:"number",dflt:10},cmin:{type:"number",dflt:-10}}},textposition:{type:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0},textfont:{type:"font"}},r.supplyXY=function(t,e){function n(n,o){return Plotly.Lib.coerce(t,e,r.attributes,n,o)}var o,a=n("x"),i=n("y");if(a)i?(o=Math.min(a.length,i.length),o<a.length&&(e.x=a.slice(0,o)),o<i.length&&(e.y=i.slice(0,o))):(o=a.length,n("y0"),n("dy"));else{if(!i)return 0;o=e.y.length,n("x0"),n("dx")}return o},r.supplyDefaults=function(e,n,o,a){function i(t,o){return Plotly.Lib.coerce(e,n,r.attributes,t,o)}var l=r.supplyXY(e,n),s=l<r.PTS_LINESONLY?"lines+markers":"lines";if(!l)return void(n.visible=!1);if(i("text"),i("mode",s),r.hasLines(n)&&r.lineDefaults(e,n,o,a),r.hasMarkers(n)&&r.markerDefaults(e,n,o,a),r.hasText(n)&&(i("textposition"),i("textfont",a.font),r.hasMarkers(n)||i("marker.maxdisplayed")),i("fill"),"none"!==n.fill){var c=!1;if(n.marker){var u=n.marker.color,d=(n.marker.line||{}).color;u&&!Array.isArray(u)?c=u:d&&!Array.isArray(d)&&(c=d)}i("fillcolor",Plotly.Color.addOpacity((n.line||{}).color||c||o,.5)),r.hasLines(n)||t(e,n)}Plotly.ErrorBars.supplyDefaults(e,n,o,{axis:"y"}),Plotly.ErrorBars.supplyDefaults(e,n,o,{axis:"x",inherit:"y"})},r.lineDefaults=function(e,n,o){function a(t,o){return Plotly.Lib.coerce(e,n,r.attributes,t,o)}var i=(e.marker||{}).color;a("line.color",(Array.isArray(i)?!1:i)||o),a("line.width"),t(e,n),a("connectgaps"),a("line.dash")},r.markerDefaults=function(t,e,n){function o(n,o){return Plotly.Lib.coerce(t,e,r.attributes,n,o)}var a,i=$.isArray((t.marker||{}).size),l=(t.line||{}).color;l&&(n=l),o("marker.symbol"),o("marker.opacity",i?.7:1),o("marker.size"),o("marker.maxdisplayed"),r.colorScalableDefaults("marker.",o,n),a=l&&e.marker.color!==l?l:i?"#fff":"#444",r.colorScalableDefaults("marker.line.",o,a),o("marker.line.width",i?1:0),i&&(o("marker.sizeref"),o("marker.sizemode"))},r.colorScalableDefaults=function(t,e,r){var n=t+"color",o=e(n,r),a=[t+"colorscale",t+"cauto",t+"cmax",t+"cmin"];$.isArray(o)&&a.forEach(e)},r.hasLines=function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("lines")},r.hasMarkers=function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("markers")},r.hasText=function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("text")},r.calc=function(t,e){var n=Plotly.Axes.getFromId(t,e.xaxis||"x"),o=Plotly.Axes.getFromId(t,e.yaxis||"y");Plotly.Lib.markTime("in Scatter.calc");var a=n.makeCalcdata(e,"x");Plotly.Lib.markTime("finished convert x");var i=o.makeCalcdata(e,"y");Plotly.Lib.markTime("finished convert y");var l=Math.min(a.length,i.length);n._minDtick=0,o._minDtick=0,a.length>l&&a.splice(l,a.length-l),i.length>l&&i.splice(l,i.length-l);var s={padded:!0},c={padded:!0};if(r.hasMarkers(e)){var u,d=1.6*(e.marker.sizeref||1);u="area"===e.marker.sizemode?function(t){return Math.max(Math.sqrt((t||0)/d),3)}:function(t){return Math.max((t||0)/d,3)},s.ppad=c.ppad=$.isArray(e.marker.size)?e.marker.size.map(u):u(e.marker.size)}!("tozerox"===e.fill||"tonextx"===e.fill&&t.firstscatter)||a[0]===a[l-1]&&i[0]===i[l-1]?e.error_y.visible||-1===["tonexty","tozeroy"].indexOf(e.fill)&&(r.hasMarkers(e)||r.hasText(e))||(s.padded=!1,s.ppad=0):s.tozero=!0,!("tozeroy"===e.fill||"tonexty"===e.fill&&t.firstscatter)||a[0]===a[l-1]&&i[0]===i[l-1]?-1!==["tonextx","tozerox"].indexOf(e.fill)&&(c.padded=!1):c.tozero=!0,Plotly.Lib.markTime("ready for Axes.expand"),Plotly.Axes.expand(n,a,s),Plotly.Lib.markTime("done expand x"),Plotly.Axes.expand(o,i,c),Plotly.Lib.markTime("done expand y");for(var f=[],p=0;l>p;p++)f.push($.isNumeric(a[p])&&$.isNumeric(i[p])?{x:a[p],y:i[p]}:{x:!1,y:!1});return t.firstscatter=!1,f},r.selectMarkers=function(t,e,n){var o=e.x(),a=e.y(),i=d3.extent(o.range.map(o.l2c)),l=d3.extent(a.range.map(a.l2c));n.forEach(function(t,e){var o=t[0].trace;if(r.hasMarkers(o)){var a=o.marker.maxdisplayed;if(0!==a){var s=t.filter(function(t){return t.x>=i[0]&&t.x<=i[1]&&t.y>=l[0]&&t.y<=l[1]}),c=Math.ceil(s.length/a),u=0;n.forEach(function(t,n){var o=t[0].trace;r.hasMarkers(o)&&o.marker.maxdisplayed>0&&e>n&&u++});var d=Math.round(u*c/3+Math.floor(u/3)*c/7.1);t.forEach(function(t){delete t.vis}),s.forEach(function(t,e){0===Math.round((e+d)%c)&&(t.vis=!0)})}}})},r.arraysToCalcdata=function(t){var e=t[0].trace,r=e.marker;if(Plotly.Lib.mergeArray(e.text,t,"tx"),Plotly.Lib.mergeArray(e.textposition,t,"tp"),e.textfont&&(Plotly.Lib.mergeArray(e.textfont.size,t,"ts"),Plotly.Lib.mergeArray(e.textfont.color,t,"tc"),Plotly.Lib.mergeArray(e.textfont.family,t,"tf")),r&&r.line){var n=r.line;Plotly.Lib.mergeArray(r.opacity,t,"mo"),Plotly.Lib.mergeArray(r.size,t,"ms"),Plotly.Lib.mergeArray(r.symbol,t,"mx"),Plotly.Lib.mergeArray(r.color,t,"mc"),Plotly.Lib.mergeArray(n.color,t,"mlc"),Plotly.Lib.mergeArray(n.width,t,"mlw")}},r.plot=function(t,e,n){function o(t,e,r){return(.75+10*Math.max(0,Math.max(-t,t-i._length)/i._length,Math.max(-e,e-l._length)/l._length))*Math.max(r||1,1)}function a(t){return t.filter(function(t){return t.vis})}r.selectMarkers(t,e,n);var i=e.x(),l=e.y(),s=e.plot.select(".scatterlayer").selectAll("g.trace.scatter").data(n);s.enter().append("g").attr("class","trace scatter").style("stroke-miterlimit",2);var c,u,d,f="";s.each(function(t){function e(t){h=!0,n(t),S=t}function n(t){$.isNumeric(t[0])&&$.isNumeric(t[1])&&D.push(t)}function a(t){t&&(x=t),x===m?m!==v&&n(v):x===v||v===m?n(m):"high"===w?(n(v),n(m)):(n(m),n(v)),e(x),g=x,m=v=null,P=-1}var s=t[0].trace,p=s.line;if(s.visible!==!1&&(r.arraysToCalcdata(t),r.hasLines(s)||"none"!==s.fill)){var y,h,g,m,v,x,b,w,P,k,_,M,L,A=-1,z=d3.select(this),C=null,S=null,D=[],O="",N="";for(c="tozero"===s.fill.substr(0,6)||"to"===s.fill.substr(0,2)&&!f?z.append("path").classed("js-fill",!0):null,d&&(u=d.datum(t)),d=z.append("path").classed("js-fill",!0),-1!==["hv","vh","hvh","vhv"].indexOf(p.shape)?(_=Plotly.Drawing.steps(p.shape),M=Plotly.Drawing.steps(p.shape.split("").reverse().join(""))):_=M="spline"===p.shape?function(t){return Plotly.Drawing.smoothopen(t,p.smoothing)}:function(t){return"M"+t.join("L")},L=function(t){return"L"+M(t.reverse()).substr(1)};A<t.length;){for(D=[],h=!1,g=null,P=-1,A++;A<t.length;A++){if(b=[i.c2p(t[A].x),l.c2p(t[A].y)],!$.isNumeric(b[0])||!$.isNumeric(b[1])){if(s.connectgaps)continue;break}if(g){if(k=o(b[0],b[1],p.width),0>P)if(Math.abs(b[0]-g[0])<k)P=0;else{if(!(Math.abs(b[0]-g[1])<k)){g=b,e(g);continue}P=1}else if(Math.abs(b[P]-g[P])>=k){Math.abs(b[P]-x[P])>=k?(a(),g=b,e(g)):a(b);continue}x=b,(!m||x[1-P]>m[1-P])&&(m=x,w="high"),(!v||x[1-P]<v[1-P])&&(v=x,w="low")}else g=b,D.push(g),C||(C=g)}P>=0&&a(b),D.length&&(y=_(D),O+=O?"L"+y.substr(1):y,N=L(D)+N,r.hasLines(s)&&h&&z.append("path").classed("js-line",!0).attr("d",y))}O&&(c?C&&S&&("y"===s.fill.charAt(s.fill.length-1)?C[1]=S[1]=l.c2p(0,!0):C[0]=S[0]=i.c2p(0,!0),c.attr("d",O+"L"+S+"L"+C+"Z")):"tonext"===s.fill.substr(0,6)&&O&&f&&u.attr("d",O+f+"Z"),f=N)}}),s.selectAll("path:not([d])").remove(),s.append("g").attr("class","points").each(function(t){var e=t[0].trace,n=d3.select(this),o=r.hasMarkers(e),s=r.hasText(e);!o&&!s||e.visible===!1?n.remove():(o&&n.selectAll("path.point").data(e.marker.maxdisplayed?a:Plotly.Lib.identity).enter().append("path").classed("point",!0).call(Plotly.Drawing.translatePoints,i,l),s&&n.selectAll("g").data(e.marker.maxdisplayed?a:Plotly.Lib.identity).enter().append("g").append("text").call(Plotly.Drawing.translatePoints,i,l))})},r.style=function(t){var e=t.selectAll("g.trace.scatter");e.style("opacity",function(t){return t[0].trace.opacity}),e.selectAll("g.points").each(function(t){d3.select(this).selectAll("path.point").call(Plotly.Drawing.pointStyle,t.trace||t[0].trace),d3.select(this).selectAll("text").call(Plotly.Drawing.textPointStyle,t.trace||t[0].trace)}),e.selectAll("g.trace path.js-line").call(Plotly.Drawing.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(Plotly.Drawing.fillGroupStyle)},r.hoverPoints=function(t,r,n,o){var a=t.cd,i=a[0].trace,l=t.xa,s=t.ya,c=function(t){var e=Math.max(3,t.mrc||0);
return Math.max(Math.abs(l.c2p(t.x)-l.c2p(r))-e,1-3/e)},u=function(t){var e=Math.max(3,t.mrc||0);return Math.max(Math.abs(s.c2p(t.y)-s.c2p(n))-e,1-3/e)},d=function(t){var e=Math.max(3,t.mrc||0),o=Math.abs(l.c2p(t.x)-l.c2p(r)),a=Math.abs(s.c2p(t.y)-s.c2p(n));return Math.max(Math.sqrt(o*o+a*a)-e,1-3/e)},f=Plotly.Fx.getDistanceFunction(o,c,u,d);if(Plotly.Fx.getClosest(a,f,t),t.index!==!1){var p=a[t.index],y=l.c2p(p.x,!0),h=s.c2p(p.y,!0),g=p.mrc||1;return t.color=e(i,p),t.x0=y-g,t.x1=y+g,t.xLabelVal=p.x,t.y0=h-g,t.y1=h+g,t.yLabelVal=p.y,p.tx&&(t.text=p.tx),Plotly.ErrorBars.hoverInfo(p,i,t),[t]}}}(),function(){"use strict";function t(t){var e=t[0].trace,r=e.marker,n=r.line;Plotly.Lib.mergeArray(e.text,t,"tx"),Plotly.Lib.mergeArray(r.opacity,t,"mo"),Plotly.Lib.mergeArray(r.color,t,"mc"),Plotly.Lib.mergeArray(n.color,t,"mlc"),Plotly.Lib.mergeArray(n.width,t,"mlw")}var e=window.Plotly.Bars={};e.errorBarsOK=!0,e.attributes={orientation:{type:"enumerated",values:["v","h"]}},e.layoutAttributes={barmode:{type:"enumerated",values:["stack","group","overlay"],dflt:"group"},barnorm:{type:"enumerated",values:["","fraction","percent"],dflt:""},bargap:{type:"number",min:0,max:1},bargroupgap:{type:"number",min:0,max:1,dflt:0},x:{from:"Scatter"},x0:{from:"Scatter"},dx:{from:"Scatter"},y:{from:"Scatter"},y0:{from:"Scatter"},dy:{from:"Scatter"},marker:{color:{from:"Scatter"},colorscale:{from:"Scatter"},cauto:{from:"Scatter"},cmax:{from:"Scatter"},cmin:{from:"Scatter"},line:{color:{from:"Scatter"},colorscale:{from:"Scatter"},cauto:{from:"Scatter"},cmax:{from:"Scatter"},cmin:{from:"Scatter"},width:{from:"Scatter"}}},error_x:{allFrom:"Errorbars"},error_y:{allFrom:"Errorbars"}},e.supplyDefaults=function(t,r,n){function o(n,o){return Plotly.Lib.coerce(t,r,e.attributes,n,o)}function a(e,n){return Plotly.Lib.coerce(t,r,Plotly.Scatter.attributes,e,n)}if("histogram"===r.type){if(Plotly.Histogram.supplyDefaults(t,r),!r.visible)return}else{var i=Plotly.Scatter.supplyXY(t,r);if(!i)return void(r.visible=!1);o("orientation",r.x&&!r.y?"h":"v")}Plotly.Scatter.colorScalableDefaults("marker.",a,n),Plotly.Scatter.colorScalableDefaults("marker.line.",a,"#444"),a("marker.line.width",0),a("text"),Plotly.ErrorBars.supplyDefaults(t,r,"#444",{axis:"y"}),Plotly.ErrorBars.supplyDefaults(t,r,"#444",{axis:"x",inherit:"y"})},e.supplyLayoutDefaults=function(t,r,n){function o(n,o){return Plotly.Lib.coerce(t,r,e.layoutAttributes,n,o)}var a=!1,i=!1;if(n.forEach(function(t){if(Plotly.Plots.isBar(t.type)&&(a=!0),t.visible&&"histogram"===t.type){var e=Plotly.Axes.getFromId({_fullLayout:r},t["v"===t.orientation?"xaxis":"yaxis"]);"category"!==e.type&&(i=!0)}}),a){var l=o("barmode");"overlay"!==l&&o("barnorm"),o("bargap",i?0:.2),o("bargroupgap")}},e.calc=function(t,e){if("histogram"===e.type)return Plotly.Histogram.calc(t,e);var r,n,o,a=Plotly.Axes.getFromId(t,e.xaxis||"x"),i=Plotly.Axes.getFromId(t,e.yaxis||"y"),l=e.orientation||(e.x&&!e.y?"h":"v");"h"===l?(n=a.makeCalcdata(e,"x"),r=i.makeCalcdata(e,"y")):(n=i.makeCalcdata(e,"y"),r=a.makeCalcdata(e,"x"));var s=Math.min(r.length,n.length),c=[];for(o=0;s>o;o++)$.isNumeric(r[o])&&$.isNumeric(n[o])&&c.push({p:r[o],s:n[o],b:0});return c},e.setPositions=function(t,e){var r,n,o=t._fullLayout,a=e.x(),i=e.y();["v","h"].forEach(function(l){function s(e){function r(t){t[u]=t.p+p}var n=[];e.forEach(function(e){t.calcdata[e].forEach(function(t){n.push(t.p)})});var a=Plotly.Lib.distinctVals(n),i=a.vals,l=a.minDiff,s=!1,d=[];"group"===o.barmode&&e.forEach(function(e){s||(t.calcdata[e].forEach(function(t){s||d.forEach(function(e){Math.abs(t.p-e)<l&&(s=!0)})}),s||t.calcdata[e].forEach(function(t){d.push(t.p)}))}),Plotly.Axes.minDtick(f,l,i[0],s),Plotly.Axes.expand(f,i,{vpad:l/2}),l*=1-o.bargap,s&&(l/=c.length);for(var p,y=0;y<e.length;y++){var h=t.calcdata[e[y]][0].t;h.barwidth=l*(1-o.bargroupgap),h.poffset=((s?(2*y+1-e.length)*l:0)-h.barwidth)/2,h.dbar=a.minDiff,p=h.poffset+h.barwidth/2,t.calcdata[e[y]].forEach(r)}}var c=[],u={v:"x",h:"y"}[l],d={v:"y",h:"x"}[l],f=e[u](),p=e[d]();if(t._fullData.forEach(function(t,e){t.visible&&Plotly.Plots.isBar(t.type)&&t.orientation===l&&t.xaxis===a._id&&t.yaxis===i._id&&c.push(e)}),c.length){"overlay"===o.barmode?c.forEach(function(t){s([t])}):s(c);var y="stack"===o.barmode,h=o.barnorm;if(y||h){var g,m,v,x=p.l2c(p.c2l(0)),b=x,w={},P=t.calcdata[c[0]][0].t.barwidth/100,k=0,_=!0;for(r=0;r<c.length;r++)for(m=t.calcdata[c[r]],n=0;n<m.length;n++){k=Math.round(m[n].p/P);var M=w[k]||0;y&&(m[n].b=M),g=m[n].b+m[n].s,w[k]=M+m[n].s,y&&(m[n][d]=g,!h&&$.isNumeric(p.c2l(g))&&(x=Math.max(x,g),b=Math.min(b,g)))}if(h){_=!1;var L="fraction"===h?1:100,A=L/1e9;for(b=0,x=y?L:0,r=0;r<c.length;r++)for(m=t.calcdata[c[r]],n=0;n<m.length;n++)v=L/w[Math.round(m[n].p/P)],m[n].b*=v,m[n].s*=v,g=m[n].b+m[n].s,m[n][d]=g,$.isNumeric(p.c2l(g))&&(b-A>g&&(_=!0,b=g),g>x+A&&(_=!0,x=g))}Plotly.Axes.expand(p,[b,x],{tozero:!0,padded:_})}else{var z=function(t){return t[d]=t.s,t.s};for(r=0;r<c.length;r++)Plotly.Axes.expand(p,t.calcdata[c[r]].map(z),{tozero:!0,padded:!0})}}})},e.plot=function(e,r,n){var o=r.x(),a=r.y(),i=e._fullLayout,l=r.plot.select(".barlayer").selectAll("g.trace.bars").data(n).enter().append("g").attr("class","trace bars");l.append("g").attr("class","points").each(function(r){var n=r[0].t,l=r[0].trace;t(r),d3.select(this).selectAll("path").data(Plotly.Lib.identity).enter().append("path").each(function(t){function r(t){return 0===i.bargap&&0===i.bargroupgap?d3.round(Math.round(t)-y,2):t}function s(t,e){return Math.abs(t-e)>=2?r(t):t>e?Math.ceil(t):Math.floor(t)}var c,u,d,f;if("h"===l.orientation?(d=a.c2p(n.poffset+t.p,!0),f=a.c2p(n.poffset+t.p+n.barwidth,!0),c=o.c2p(t.b,!0),u=o.c2p(t.s+t.b,!0)):(c=o.c2p(n.poffset+t.p,!0),u=o.c2p(n.poffset+t.p+n.barwidth,!0),f=a.c2p(t.s+t.b,!0),d=a.c2p(t.b,!0)),!($.isNumeric(c)&&$.isNumeric(u)&&$.isNumeric(d)&&$.isNumeric(f)&&c!==u&&d!==f))return void d3.select(this).remove();var p=(t.mlw+1||l.marker.line.width+1||(t.trace?t.trace.marker.line.width:0)+1)-1,y=d3.round(p/2%1,2);if(!e._context.staticPlot){var h=Plotly.Color.opacity(t.mc||l.marker.color),g=1>h||p>.01?r:s;c=g(c,u),u=g(u,c),d=g(d,f),f=g(f,d)}d3.select(this).attr("d","M"+c+","+d+"V"+f+"H"+u+"V"+d+"Z")})})},e.style=function(t,e){var r=t.selectAll("g.trace.bars"),n=r.size();r.style("opacity",function(t){return t[0].trace.opacity}).each(function(t){("stack"===e.barmode&&n>1||0===e.bargap&&0===e.bargroupgap&&!t[0].trace.marker.line.width)&&d3.select(this).attr("shape-rendering","crispEdges")}),r.selectAll("g.points").each(function(t){var e=t[0].trace,r=e.marker,n=r.line,o=(e._input||{}).marker||{},a=Plotly.Drawing.tryColorscale(r,o,""),i=Plotly.Drawing.tryColorscale(r,o,"line.");d3.select(this).selectAll("path").each(function(t){var e,o,l=(t.mlw+1||n.width+1)-1,s=d3.select(this);e="mc"in t?t.mcc=a(t.mc):Array.isArray(r.color)?"#444":r.color,s.style("stroke-width",l+"px").call(Plotly.Color.fill,e),l&&(o="mlc"in t?t.mlcc=i(t.mlc):Array.isArray(n.color)?"#444":n.color,s.call(Plotly.Color.stroke,o))})})},e.hoverPoints=function(t,e,r,n){var o,a=t.cd,i=a[0].trace,l=a[0].t,s=t.xa,c=t.ya,u="closest"===n?l.barwidth/2:l.dbar*(1-s._td._fullLayout.bargap)/2;o="closest"!==n?function(t){return t.p}:"h"===i.orientation?function(t){return t.y}:function(t){return t.x};var d,f;"h"===i.orientation?(d=function(t){return Plotly.Fx.inbox(t.b-e,t.x-e)+(t.x-e)/(t.x-t.b)},f=function(t){var e=o(t)-r;return Plotly.Fx.inbox(e-u,e+u)}):(f=function(t){return Plotly.Fx.inbox(t.b-r,t.y-r)+(t.y-r)/(t.y-t.b)},d=function(t){var r=o(t)-e;return Plotly.Fx.inbox(r-u,r+u)});var p=Plotly.Fx.getDistanceFunction(n,d,f);if(Plotly.Fx.getClosest(a,p,t),t.index!==!1){var y=a[t.index],h=y.mcc||i.marker.color,g=y.mlcc||i.marker.line.color,m=y.mlw||i.marker.line.width;return Plotly.Color.opacity(h)?t.color=h:Plotly.Color.opacity(g)&&m&&(t.color=g),"h"===i.orientation?(t.x0=t.x1=s.c2p(y.x,!0),t.xLabelVal=y.s,t.y0=c.c2p(o(y)-u,!0),t.y1=c.c2p(o(y)+u,!0),t.yLabelVal=y.p):(t.y0=t.y1=c.c2p(y.y,!0),t.yLabelVal=y.s,t.x0=s.c2p(o(y)-u,!0),t.x1=s.c2p(o(y)+u,!0),t.xLabelVal=y.p),y.tx&&(t.text=y.tx),Plotly.ErrorBars.hoverInfo(y,i,t),[t]}}}(),function(){"use strict";function t(){o=2e9}function e(){var t=o;return o=(69069*o+1)%4294967296,Math.abs(o-t)<429496729?e():o/4294967296}var r=window.Plotly.Boxes={},n=Plotly.Scatter.attributes.marker;r.attributes={y:{type:"data_array"},y0:{type:"any"},x:{type:"data_array"},x0:{type:"any"},whiskerwidth:{type:"number",min:0,max:1,dflt:.5},boxpoints:{type:"enumerated",values:["all","outliers","suspectedoutliers",!1],dflt:"outliers"},boxmean:{type:"enumerated",values:[!0,"sd",!1],dflt:!1},jitter:{type:"number",min:0,max:1},pointpos:{type:"number",min:-2,max:2},orientation:{type:"enumerated",values:["v","h"]},marker:{outliercolor:{type:"color",dflt:"rgba(0,0,0,0)"},symbol:$.extend({arrayOk:!1},n.symbol),opacity:$.extend({arrayOk:!1,dflt:1},n.opacity),size:$.extend({arrayOk:!1},n.size),color:$.extend({arrayOk:!1},n.color),line:{color:$.extend({arrayOk:!1,dflt:"#444"},n.line.color),width:$.extend({arrayOk:!1,dflt:0},n.line.width),outliercolor:{type:"color"},outlierwidth:{type:"number",min:0,dflt:1}}},line:{color:{from:"Scatter"},width:{from:"Scatter"}},fillcolor:{from:"Scatter"}},r.layoutAttributes={boxmode:{type:"enumerated",values:["group","overlay"],dflt:"overlay"},boxgap:{type:"number",min:0,max:1,dflt:.3},boxgroupgap:{type:"number",min:0,max:1,dflt:.3}},r.supplyDefaults=function(t,e,n){function o(n,o){return Plotly.Lib.coerce(t,e,r.attributes,n,o)}function a(r,n){return Plotly.Lib.coerce(t,e,Plotly.Scatter.attributes,r,n)}var i,l=o("y"),s=o("x");if(l)i="v",s||o("x0");else{if(!s)return void(e.visible=!1);i="h",o("y0")}o("orientation",i),a("line.color",(t.marker||{}).color||n),a("line.width",2),a("fillcolor",Plotly.Color.addOpacity(e.line.color,.5)),o("whiskerwidth"),o("boxmean");var c=o("boxpoints");c&&(o("jitter","all"===c?.3:0),o("pointpos","all"===c?-1.5:0),o("marker.symbol"),o("marker.opacity"),o("marker.size"),o("marker.color",e.line.color),o("marker.line.color"),o("marker.line.width"),"suspectedoutliers"===c&&(o("marker.outliercolor"),o("marker.line.outliercolor",e.marker.color),o("marker.line.outlierwidth")))},r.supplyLayoutDefaults=function(t,e,n){function o(n,o){return Plotly.Lib.coerce(t,e,r.layoutAttributes,n,o)}var a=n.some(function(t){return Plotly.Plots.isBox(t.type)});a&&(o("boxmode"),o("boxgap"),o("boxgroupgap"))},r.calc=function(t,e){function r(t,e,r,n,o){var a;return r in e?d=n.makeCalcdata(e,r):(a=r+"0"in e?e[r+"0"]:"name"in e&&("category"===n.type||$.isNumeric(e.name)&&-1!==["linear","log"].indexOf(n.type)||Plotly.Lib.isDateTime(e.name)&&"date"===n.type)?e.name:t.numboxes,a=n.d2c(a),d=o.map(function(){return a})),d}function n(t,e,r,n,o){var a,i,l,s,c=n.length,u=e.length,d=[],f=[];for(a=0;c>a;++a)i=n[a],t[a]={pos:i},f[a]=i-o,d[a]=[];for(f.push(n[c-1]+o),a=0;u>a;++a){if(s=e[a],!$.isNumeric(s))return;l=Plotly.Lib.findBin(r[a],f),l>=0&&u>l&&d[l].push(s)}return d}function o(t,e){var r,n,o,a;for(a=0;a<e.length;++a)r=e[a].sort(function(t,e){return t-e}),n=r.length,o=t[a],o.val=r,o.min=r[0],o.max=r[n-1],o.mean=Plotly.Lib.mean(r,n),o.sd=Plotly.Lib.stdev(r,n,o.mean),o.q1=Plotly.Lib.interp(r,.25),o.med=Plotly.Lib.interp(r,.5),o.q3=Plotly.Lib.interp(r,.75),o.lf=Math.min(o.q1,r[Math.min(Plotly.Lib.findBin(2.5*o.q1-1.5*o.q3,r,!0)+1,n-1)]),o.uf=Math.max(o.q3,r[Math.max(Plotly.Lib.findBin(2.5*o.q3-1.5*o.q1,r),0)]),o.lo=4*o.q1-3*o.q3,o.uo=4*o.q3-3*o.q1}var a,i,l,s,c,u,d,f,p,y=Plotly.Axes.getFromId(t,e.xaxis||"x"),h=Plotly.Axes.getFromId(t,e.yaxis||"y"),g=e.orientation,m=[];"h"===g?(a=y,i="x",c=h,u="y"):(a=h,i="y",c=y,u="x"),l=a.makeCalcdata(e,i),Plotly.Axes.expand(a,l,{padded:!0}),d=r(t,e,u,c,l);var v=Plotly.Lib.distinctVals(d);return f=v.vals,p=v.minDiff/2,s=n(m,l,d,f,p),o(m,s),m=m.filter(function(t){return t.val&&t.val.length}),m.length?(m[0].t={boxnum:t.numboxes,dPos:p},t.numboxes++,m):[{t:{emptybox:!0}}]},r.setPositions=function(t,e){var r,n,o,a,i=t._fullLayout,l=e.x(),s=e.y(),c=["v","h"];for(n=0;n<c.length;++n){var u=c[n],d=[],f=[],p=0,y=0;for(r="h"===u?s:l,o=0;o<t.calcdata.length;++o){var h=t.calcdata[o],g=h[0].t,m=h[0].trace;m.visible!==!1&&Plotly.Plots.isBox(m.type)&&!g.emptybox&&m.orientation===u&&m.xaxis===l._id&&m.yaxis===s._id&&(d.push(o),m.boxpoints!==!1&&(p=Math.max(p,m.jitter-m.pointpos-1),y=Math.max(y,m.jitter+m.pointpos-1)))}for(o=0;o<d.length;++o)for(a=0;a<t.calcdata[o].length;++a)f.push(t.calcdata[o][a].pos);if(!f)return;var v=Plotly.Lib.distinctVals(f),x=v.minDiff/2;for(f.length===v.vals.length&&(t.numboxes=1),Plotly.Axes.minDtick(r,v.minDiff,v.vals[0],!0),n=0;n<d.length;++n)t.calcdata[n][0].t.dPos=x;var b=(1-i.boxgap)*(1-i.boxgroupgap)*x/t.numboxes;Plotly.Axes.expand(r,v.vals,{vpadminus:x+p*b,vpadplus:x+y*b})}};var o=2e9,a=5,i=.01;r.plot=function(r,n,o){var l,s,c=r._fullLayout,u=n.x(),d=n.y(),f=n.plot.select(".boxlayer").selectAll("g.trace.boxes").data(o).enter().append("g").attr("class","trace boxes");f.each(function(n){var o=n[0].t,f=n[0].trace,p="group"===c.boxmode&&r.numboxes>1,y=o.dPos*(1-c.boxgap)*(1-c.boxgroupgap)/(p?r.numboxes:1),h=p?2*o.dPos*(-.5+(o.boxnum+.5)/r.numboxes)*(1-c.boxgap):0,g=y*f.whiskerwidth;return f.visible===!1||o.emptybox?void d3.select(this).remove():("h"===f.orientation?(l=d,s=u):(l=u,s=d),o.bPos=h,o.bdPos=y,t(),d3.select(this).selectAll("path.box").data(Plotly.Lib.identity).enter().append("path").attr("class","box").each(function(t){var e=l.c2p(t.pos+h,!0),r=l.c2p(t.pos+h-y,!0),n=l.c2p(t.pos+h+y,!0),o=l.c2p(t.pos+h-g,!0),a=l.c2p(t.pos+h+g,!0),i=s.c2p(t.q1,!0),c=s.c2p(t.q3,!0),u=Plotly.Lib.constrain(s.c2p(t.med,!0),Math.min(i,c)+1,Math.max(i,c)-1),d=s.c2p(f.boxpoints===!1?t.min:t.lf,!0),p=s.c2p(f.boxpoints===!1?t.max:t.uf,!0);"h"===f.orientation?d3.select(this).attr("d","M"+u+","+r+"V"+n+"M"+i+","+r+"V"+n+"H"+c+"V"+r+"ZM"+i+","+e+",H"+d+"M"+c+","+e+"H"+p+(0===f.whiskerwidth?"":"M"+d+","+o+"V"+a+"M"+p+","+o+"V"+a)):d3.select(this).attr("d","M"+r+","+u+"H"+n+"M"+r+","+i+"H"+n+"V"+c+"H"+r+"ZM"+e+","+i+"V"+d+"M"+e+","+c+"V"+p+(0===f.whiskerwidth?"":"M"+o+","+d+"H"+a+"M"+o+","+p+"H"+a))}),f.boxpoints&&d3.select(this).selectAll("g.points").data(function(t){return t.forEach(function(t){t.t=o,t.trace=f}),t}).enter().append("g").attr("class","points").selectAll("path").data(function(t){var r,n,o,l,s,c,u,d="all"===f.boxpoints?t.val:t.val.filter(function(e){return e<t.lf||e>t.uf}),p=(t.q3-t.q1)*i,g=[],m=0;if(f.jitter){for(r=0;r<d.length;r++)n=Math.max(0,r-a),l=d[n],o=Math.min(d.length-1,r+a),s=d[o],"all"!==f.boxpoints&&(d[r]<t.lf?s=Math.min(s,t.lf):l=Math.max(l,t.uf)),c=Math.sqrt(p*(o-n)/(s-l))||0,c=Plotly.Lib.constrain(Math.abs(c),0,1),g.push(c),m=Math.max(c,m);u=2*f.jitter/m}return d.map(function(r,n){var o,a=f.pointpos;return f.jitter&&(a+=u*g[n]*(e()-.5)),o="h"===f.orientation?{y:t.pos+a*y+h,x:r}:{x:t.pos+a*y+h,y:r},"suspectedoutliers"===f.boxpoints&&r<t.uo&&r>t.lo&&(o.so=!0),o})}).enter().append("path").call(Plotly.Drawing.translatePoints,u,d),void(f.boxmean&&d3.select(this).selectAll("path.mean").data(Plotly.Lib.identity).enter().append("path").attr("class","mean").style("fill","none").each(function(t){var e=l.c2p(t.pos+h,!0),r=l.c2p(t.pos+h-y,!0),n=l.c2p(t.pos+h+y,!0),o=s.c2p(t.mean,!0),a=s.c2p(t.mean-t.sd,!0),i=s.c2p(t.mean+t.sd,!0);"h"===f.orientation?d3.select(this).attr("d","M"+o+","+r+"V"+n+("sd"!==f.boxmean?"":"m0,0L"+a+","+e+"L"+o+","+r+"L"+i+","+e+"Z")):d3.select(this).attr("d","M"+r+","+o+"H"+n+("sd"!==f.boxmean?"":"m0,0L"+e+","+a+"L"+r+","+o+"L"+e+","+i+"Z"))})))})},r.style=function(t){var e=t.selectAll("g.trace.boxes");e.style("opacity",function(t){return t[0].trace.opacity}).each(function(t){var e=t[0].trace,r=e.line.width;d3.select(this).selectAll("path.box").style("stroke-width",r+"px").call(Plotly.Color.stroke,e.line.color).call(Plotly.Color.fill,e.fillcolor),d3.select(this).selectAll("path.mean").style({"stroke-width":r,"stroke-dasharray":2*r+"px,"+r+"px"}).call(Plotly.Color.stroke,e.line.color)}).selectAll("g.points").each(function(t){var e=t.trace;d3.select(this).selectAll("path").call(Plotly.Drawing.pointStyle,e)})},r.hoverPoints=function(t,e,r,n){var o,a,i,l,s,c,u,d,f,p,y=t.cd,h=y[0].trace,g=y[0].t,m=t.xa,v=t.ya,x=[];if(l="closest"===n?2.5*g.bdPos:g.bdPos,"h"===h.orientation?(o=function(t){return Plotly.Fx.inbox(t.min-e,t.max-e)},a=function(t){var e=t.pos+g.bPos-r;return Plotly.Fx.inbox(e-l,e+l)},s="y",c=v,f="x",p=m):(o=function(t){var r=t.pos+g.bPos-e;return Plotly.Fx.inbox(r-l,r+l)},a=function(t){return Plotly.Fx.inbox(t.min-r,t.max-r)},s="x",c=m,f="y",p=v),i=Plotly.Fx.getDistanceFunction(n,o,a),Plotly.Fx.getClosest(y,i,t),t.index!==!1){var b=y[t.index],w=h.line.color,P=(h.marker||{}).color;t.color=Plotly.Color.opacity(w)&&h.line.width?w:Plotly.Color.opacity(P)&&h.boxpoints?P:h.fillcolor,t[s+"0"]=c.c2p(b.pos+g.bPos-g.bdPos,!0),t[s+"1"]=c.c2p(b.pos+g.bPos+g.bdPos,!0),u=Plotly.Axes.tickText(c,c.c2l(b.pos),"hover").text,t[s+"LabelVal"]=b.pos;var k,_,M={},L=["med","min","q1","q3","max"];h.boxmean&&L.push("mean"),h.boxpoints&&[].push.apply(L,["lf","uf"]);for(var A=0;A<L.length;A++)k=L[A],k in b&&!(b[k]in M)&&(M[b[k]]=!0,d=p.c2p(b[k],!0),_=$.extend({},t),_[f+"0"]=_[f+"1"]=d,_[f+"LabelVal"]=b[k],_.attr=k,"mean"===k&&"sd"in b&&"sd"===h.boxmean&&(_[f+"err"]=b.sd),t.name="",x.push(_));return x}}}(),function(){"use strict";function t(t){return[1-t[0],t[1]]}function e(t){return t||0===t?(t=Number(t),isNaN(t)?void 0:t):void 0}function r(t,e,r,n,o,a){var i,l,s,c=[];if($.isArray(e)&&!Plotly.Plots.isHist2D(t)&&"category"!==a.type){e=e.map(a.d2c);var u=e.length;if(u!==o)return e.slice(0,o+1);if(Plotly.Plots.isContour(t))return e.slice(0,o);if(1===o)return[e[0]-.5,e[0]+.5];for(c=[1.5*e[0]-.5*e[1]],s=1;u>s;s++)c.push(.5*(e[s-1]+e[s]));c.push(1.5*e[u-1]-.5*e[u-2])}else if(l=n||1,i=void 0===r?0:Plotly.Plots.isHist2D(t)||"category"===a.type?r:a.d2c(r),Plotly.Plots.isContour(t))for(s=0;o>s;s++)c.push(i+l*s);else for(s=0;o>=s;s++)c.push(i+l*(s-.5));return c}function n(t){return.5-.25*Math.min(1,.5*t)}function o(t,e,r){var o,a,l=1;if(Array.isArray(r))for(o=0;o<e.length;o++)a=e[o],t[a[0]][a[1]]=r[a[0]][a[1]];else i(t,e);for(o=0;o<e.length&&!(e[o][2]<4);o++);for(e=e.slice(o),o=0;100>o&&l>c;o++)l=i(t,e,n(l));return l>c&&console.log("interp2d didn't converge quickly",l),t}function a(t){var e,r,n,o,a,i,l,c,u=[],d={},f=[],p=t[0],y=[],h=[0,0,0],g=s.maxRowLength(t);for(r=0;r<t.length;r++)for(e=y,y=p,p=t[r+1]||[],n=0;g>n;n++)void 0===y[n]&&(i=(void 0!==y[n-1]?1:0)+(void 0!==y[n+1]?1:0)+(void 0!==e[n]?1:0)+(void 0!==p[n]?1:0),i?(0===r&&i++,0===n&&i++,r===t.length-1&&i++,n===y.length-1&&i++,4>i&&(d[[r,n]]=[r,n,i]),u.push([r,n,i])):f.push([r,n]));for(;f.length;){for(l={},c=!1,a=f.length-1;a>=0;a--)o=f[a],r=o[0],n=o[1],i=((d[[r-1,n]]||h)[2]+(d[[r+1,n]]||h)[2]+(d[[r,n-1]]||h)[2]+(d[[r,n+1]]||h)[2])/20,i&&(l[o]=[r,n,i],f.splice(a,1),c=!0);if(!c)throw"findEmpties iterated with no new neighbors";for(o in l)d[o]=l[o],u.push(l[o])}return u.sort(function(t,e){return e[2]-t[2]})}function i(t,e,r){var n,o,a,i,l,s,c,d,f,p,y,h,g,m=0;for(i=0;i<e.length;i++){for(n=e[i],o=n[0],a=n[1],y=t[o][a],p=0,f=0,l=0;4>l;l++)s=u[l],c=t[o+s[0]],c&&(d=c[a+s[1]],void 0!==d&&(0===p?h=g=d:(h=Math.min(h,d),g=Math.max(g,d)),f++,p+=d));if(0===f)throw"iterateInterp2d order is wrong: no defined neighbors";t[o][a]=p/f,void 0===y?4>f&&(m=1):(t[o][a]=(1+r)*t[o][a]-r*y,g>h&&(m=Math.max(m,Math.abs(t[o][a]-y)/(g-h))))}return m}function l(t,e,r){function n(t,e){var r=e.length-2,n=Plotly.Lib.constrain(Plotly.Lib.findBin(t,e),0,r),o=e[n],a=e[n+1],i=Plotly.Lib.constrain(n+(t-o)/(a-o)-.5,0,r),l=Math.round(i),s=Math.abs(i-l);return i&&i!==r&&s?{bin0:l,frac:s,bin1:Math.round(l+s/(i-l))}:{bin0:l,bin1:l,frac:0}}function o(t,e){if($.isNumeric(t)){var r=Plotly.Lib.constrain(Math.round(254*(t-w)/(P-w)),0,254),n=j(r);return J+=e,B[r]||(B[r]=[tinycolor(n).toHsl().l,I.color("0x"+n.substr(1,2),"0x"+n.substr(3,2),"0x"+n.substr(5,2))]),K+=e*B[r][0],B[r][1]}return B[256]}function a(t,e,r,n){var a=t[r.bin0];if(void 0===a)return o(null,1);var i,l=t[r.bin1],s=e[r.bin0],c=e[r.bin1],u=l-a||0,d=s-a||0;return i=void 0===l?void 0===c?0:void 0===s?2*(c-a):2*(2*c-s-a)/3:void 0===c?void 0===s?0:2*(2*a-l-s)/3:void 0===s?2*(2*c-l-a)/3:c+a-l-s,o(a+r.frac*u+n.frac*(d+r.frac*i))}Plotly.Lib.markTime("in Heatmap.plot");var i=r[0].trace,l=i.uid,c=e.x(),u=e.y(),d=t._fullLayout,f="hm"+l,p="cb"+l;if(d._paper.selectAll(".contour"+l).remove(),!i.visible)return d._paper.selectAll("."+f).remove(),void d._paper.selectAll("."+p).remove();var y,h,g,m,v,x,b=r[0].z,w=i.zmin,P=i.zmax,k=Plotly.Color.getScale(i.colorscale),_=r[0].x,M=r[0].y,L=Plotly.Plots.isContour(i.type)?"best":i.zsmooth,A=b.length,z=s.maxRowLength(b),C=!1,S=!1;for(x=0;void 0===y&&x<_.length-1;)y=c.c2p(_[x]),x++;for(x=_.length-1;void 0===h&&x>0;)h=c.c2p(_[x]),x--;for(y>h&&(g=h,h=y,y=g,C=!0),x=0;void 0===m&&x<M.length-1;)m=u.c2p(M[x]),x++;for(x=M.length-1;void 0===v&&x>0;)v=u.c2p(M[x]),x--;if(m>v&&(g=m,m=v,v=g,S=!0),Plotly.Plots.isContour(i.type)&&(_=r[0].xfill,M=r[0].yfill),"fast"!==L){var D="best"===L?0:.5;y=Math.max(-D*c._length,y),h=Math.min((1+D)*c._length,h),m=Math.max(-D*u._length,m),v=Math.min((1+D)*u._length,v)}var O=Math.round(h-y),N=Math.round(v-m);if(!(0>=O||0>=N)){var E,T,I="fast"===L?new PNGlib(z,A,256):new PNGlib(O,N,256),j=d3.scale.linear().domain(k.map(function(t){return 255*t[0]})).interpolate(d3.interpolateRgb).range(k.map(function(t){return t[1]}));"fast"===L?(E=C?function(t){return z-1-t}:Plotly.Lib.identity,T=S?function(t){return A-1-t}:Plotly.Lib.identity):(E=function(t){return Plotly.Lib.constrain(Math.round(c.c2p(_[t])-y),0,O)},T=function(t){return Plotly.Lib.constrain(Math.round(u.c2p(M[t])-m),0,N)});var B={};B[256]=I.color(0,0,0,0),Plotly.Lib.markTime("done init png");var F,H,V,R,Z,q,G=T(0),Y=[G,G],X=C?0:1,U=S?0:1,J=0,K=0;if("best"===L){var W,Q,te,ee=[],re=[],ne=[];for(x=0;x<_.length;x++)ee.push(Math.round(c.c2p(_[x])-y));for(x=0;x<M.length;x++)re.push(Math.round(u.c2p(M[x])-m));for(x=0;O>x;x++)ne.push(n(x,ee));for(H=0;N>H;H++)for(W=n(H,re),Q=b[W.bin0],te=b[W.bin1],x=0;O>x;x++)I.buffer[I.index(x,H)]=a(Q,te,ne[x],W)}else if("fast"===L)for(H=0;A>H;H++)for(q=b[H],Y=T(H),x=0;z>x;x++)I.buffer[I.index(E(x),Y)]=o(q[x],1);else for(H=0;A>H;H++)if(q=b[H],Y.reverse(),Y[U]=T(H+1),Y[0]!==Y[1]&&void 0!==Y[0]&&void 0!==Y[1])for(V=E(0),F=[V,V],x=0;z>x;x++)if(F.reverse(),F[X]=E(x+1),F[0]!==F[1]&&void 0!==F[0]&&void 0!==F[1])for(Z=q[x],R=o(Z,(F[1]-F[0])*(Y[1]-Y[0])),V=F[0];V<F[1];V++)for(G=Y[0];G<Y[1];G++)I.buffer[I.index(V,G)]=R;Plotly.Lib.markTime("done filling png"),t._hmpixcount=(t._hmpixcount||0)+J,t._hmlumcount=(t._hmlumcount||0)+K;var oe="data:image/png;base64,\n"+I.getBase64();d._paper.selectAll("."+f).remove(),e.plot.select(".maplayer").append("svg:image").classed(f,!0).datum(r[0]).attr({xmlns:"http://www.w3.org/2000/svg","xlink:xlink:href":oe,height:N,width:O,x:y,y:m,preserveAspectRatio:"none"}),Plotly.Lib.markTime("done showing png")}}var s=window.Plotly.Heatmap={};s.attributes={z:{type:"data_array"},transpose:{type:"boolean",dflt:!1},xtype:{type:"enumerated",values:["array","scaled"]},ytype:{type:"enumerated",values:["array","scaled"]},zauto:{type:"boolean",dflt:!0},zmin:{type:"number",dflt:null},zmax:{type:"number",dflt:null},colorscale:{type:"colorscale"},reversescale:{type:"boolean",dflt:!1},showscale:{type:"boolean",dflt:!0},zsmooth:{type:"enumerated",values:["fast","best",!1],dflt:!1},connectgaps:{type:"boolean",dflt:!1},text:{type:"data_array"},x:{from:"Scatter"},x0:{from:"Scatter"},dx:{from:"Scatter"},y:{from:"Scatter"},y0:{from:"Scatter"},dy:{from:"Scatter"},colorbar:{allFrom:"Colorbar"}},s.supplyDefaults=function(e,r,n,o){function a(t,n){return Plotly.Lib.coerce(e,r,s.attributes,t,n)}function i(t,n){return Plotly.Lib.coerce(e,r,Plotly.Scatter.attributes,t,n)}if(Plotly.Plots.isHist2D(r.type)){if(Plotly.Histogram.supplyDefaults(e,r),!r.visible)return}else{var l=a("z");if(!l)return void(r.visible=!1);a("transpose");var c=i("x"),u=c?a("xtype","array"):"scaled";"scaled"===u&&(i("x0"),i("dx"));var d=i("y"),f=d?a("ytype","array"):"scaled";"scaled"===f&&(i("y0"),i("dy")),a("connectgaps"),a("text")}if(a("zauto"),a("zmin"),a("zmax"),!Plotly.Plots.isContour(r.type)||"none"!==(r.contours||{}).coloring){a("colorscale");var p=a("reversescale"),y=a("showscale");p&&(r.colorscale=r.colorscale.map(t).reverse()),y&&Plotly.Colorbar.supplyDefaults(e,r,n,o)}Plotly.Plots.isContour(r.type)||a("zsmooth")},s.calc=function(t,n){function i(t){m=n._input.zsmooth=n.zsmooth=!1,Plotly.Lib.notifier("cannot fast-zsmooth: "+t)}Plotly.Lib.markTime("start convert x&y");var l,s,c,u,d,f,p,y,h=Plotly.Axes.getFromId(t,n.xaxis||"x"),g=Plotly.Axes.getFromId(t,n.yaxis||"y"),m=Plotly.Plots.isContour(n.type)?"best":n.zsmooth;if(h._minDtick=0,g._minDtick=0,Plotly.Lib.markTime("done convert x&y"),Plotly.Plots.isHist2D(n.type)){var v=Plotly.Histogram.calc2d(t,n);l=v.x,s=v.x0,c=v.dx,u=v.y,d=v.y0,f=v.dy,p=v.z}else{if(l=n.x?h.makeCalcdata(n,"x"):[],s=n.x0||0,c=n.dx||1,u=n.y?g.makeCalcdata(n,"y"):[],d=n.y0||0,f=n.dy||1,n.transpose){var x=Plotly.Lib.aggNums(Math.max,0,n.z.map(function(t){return t.length}));p=[];for(var b=0;x>b;b++){for(var w=[],P=0;P<n.z.length;P++)w.push(e(n.z[P][b]));p.push(w)}}else p=n.z.map(function(t){return t.map(e)});(Plotly.Plots.isContour(n.type)||n.connectgaps)&&(n._emptypoints=a(p),n._interpz=o(p,n._emptypoints,n._interpz))}if("fast"===m)if("log"===h.type||"log"===g.type)i("log axis found");else if(!Plotly.Plots.isHist2D(n.type)){if(l.length){var k=(l[l.length-1]-l[0])/(l.length-1),_=Math.abs(k/100);for(y=0;y<l.length-1;y++)if(Math.abs(l[y+1]-l[y]-k)>_){i("x scale is not linear");break}}if(u.length&&"fast"===m){var M=(u[u.length-1]-u[0])/(u.length-1),L=Math.abs(M/100);for(y=0;y<u.length-1;y++)if(Math.abs(u[y+1]-u[y]-M)>L){i("y scale is not linear");break}}}var A=Plotly.Lib.aggNums(Math.max,null,p.map(function(t){return t.length})),z="scaled"===n.xtype?"":n.x,C=r(n.type,z,s,c,A,h),S="scaled"===n.ytype?"":n.y,D=r(n.type,S,d,f,p.length,g);Plotly.Axes.expand(h,C),Plotly.Axes.expand(g,D);var O={x:C,y:D,z:p};if(n.zauto===!1&&"zmin"in n||(n.zmin=Plotly.Lib.aggNums(Math.min,null,p)),n.zauto===!1&&"zmax"in n||(n.zmax=Plotly.Lib.aggNums(Math.max,null,p)),n.zmin===n.zmax&&(n.zmin-=.5,n.zmax+=.5),n._input.zmin=n.zmin,n._input.zmax=n.zmax,Plotly.Plots.isContour(n.type)&&n.contours&&"heatmap"===n.contours.coloring){var N="contour"===n.type?"heatmap":"histogram2d";O.xfill=r(N,z,s,c,A,h),O.yfill=r(N,S,d,f,p.length,g)}return[O]};var c=.01,u=[[-1,0],[1,0],[0,-1],[0,1]];s.maxRowLength=function(t){for(var e=0,r=0;r<t.length;r++)e=Math.max(e,t[r].length);return e},s.plot=function(t,e,r){r.forEach(function(r){l(t,e,r)})},s.colorbar=function(t,e){var r=e[0].trace,n="cb"+r.uid,o=Plotly.Color.getScale(r.colorscale),a=r.zmin,i=r.zmax;if($.isNumeric(a)||(a=Plotly.Lib.aggNums(Math.min,null,r.z)),$.isNumeric(i)||(i=Plotly.Lib.aggNums(Math.max,null,r.z)),t._fullLayout._infolayer.selectAll("."+n).remove(),!r.showscale)return void Plotly.Plots.autoMargin(t,n);var l=e[0].t.cb=Plotly.Colorbar(t,n);l.fillcolor(d3.scale.linear().domain(o.map(function(t){return a+t[0]*(i-a)})).range(o.map(function(t){return t[1]}))).filllevels({start:a,end:i,size:(i-a)/254}).options(r.colorbar)(),Plotly.Lib.markTime("done colorbar")},s.style=function(t){t.selectAll("image").style("opacity",function(t){return t.trace.opacity})},s.hoverPoints=function(t,e,r,n,o){if(!(t.distance<Plotly.Fx.MAXDIST)){var a,i,l,s,c=t.cd[0],u=c.trace,d=t.xa,f=t.ya,p=c.x,y=c.y,h=c.z,g=c.zmask,m=p,v=y;if(t.index!==!1){try{l=Math.round(t.index[1]),s=Math.round(t.index[0])}catch(x){return void console.log("Error hovering on heatmap, pointNumber must be [row,col], found:",t.index)}if(0>l||l>=h[0].length||0>s||s>h.length)return}else{if(Plotly.Fx.inbox(e-p[0],e-p[p.length-1])>Plotly.Fx.MAXDIST||Plotly.Fx.inbox(r-y[0],r-y[y.length-1])>Plotly.Fx.MAXDIST)return;if(o){m=[2*p[0]-p[1]];for(var b=1;b<p.length;b++)m.push((p[b]+p[b-1])/2);for(m.push([2*p[p.length-1]-p[p.length-2]]),v=[2*y[0]-y[1]],b=1;b<y.length;b++)v.push((y[b]+y[b-1])/2);v.push([2*y[y.length-1]-y[y.length-2]])}l=Math.max(0,Math.min(m.length-2,Plotly.Lib.findBin(e,m))),s=Math.max(0,Math.min(v.length-2,Plotly.Lib.findBin(r,v)))}var w=d.c2p(p[l]),P=d.c2p(p[l+1]),k=f.c2p(y[s]),_=f.c2p(y[s+1]);o?(P=w,a=p[l],_=k,i=y[s]):(a=(p[l]+p[l+1])/2,i=(y[s]+y[s+1])/2,u.zsmooth&&(w=P=(w+P)/2,k=_=(k+_)/2));var M=h[s][l];g&&!g[s][l]&&(M=void 0);var L;return Array.isArray(u.text)&&Array.isArray(u.text[s])&&(L=u.text[s][l]),[$.extend(t,{index:[s,l],distance:Plotly.Fx.MAXDIST+10,x0:w,x1:P,y0:k,y1:_,xLabelVal:a,yLabelVal:i,zLabelVal:M,text:L})]}}}(),function(){"use strict";function t(t,r,o){Plotly.Lib.markTime("in Contour.plot");var i=o[0].trace,l=o[0].x,s=o[0].y,c=i.contours,p=i.uid,g=r.x(),m=r.y(),v=t._fullLayout,x="contour"+p,b=e(c,r,o[0]);if(i.visible===!1)return void v._paper.selectAll("."+x+",.cb"+p+",.hm"+p).remove();"heatmap"===c.coloring?(i.zauto&&i.autocontour===!1&&(i._input.zmin=i.zmin=c.start-c.size/2,i._input.zmax=i.zmax=i.zmin+b.length*c.size),Plotly.Heatmap.plot(t,r,[o])):v._paper.selectAll(".hm"+p).remove(),n(b),a(b);var w=g.c2p(l[0]),P=g.c2p(l[l.length-1]),k=m.c2p(s[0]),_=m.c2p(s[s.length-1]),M=[[w,_],[P,_],[P,k],[w,k]],L=u(r,o,x);d(L,M,c),f(L,b,M,c),y(L,b,c),h(L,r,o[0],M),Plotly.Lib.markTime("done Contour.plot")}function e(t,e,r){for(var n=t.size||1,o=[],a=t.start;a<t.end+n/10;a+=n)o.push({level:a,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:e.x(),yaxis:e.y(),x:r.x,y:r.y,z:r.z,smoothing:r.trace.line.smoothing});return o}function r(t,e){var r=(e[0][0]>t?0:1)+(e[0][1]>t?0:2)+(e[1][1]>t?0:4)+(e[1][0]>t?0:8);if(5===r||10===r){var n=(e[0][0]+e[0][1]+e[1][0]+e[1][1])/4;return t>n?5===r?713:1114:5===r?104:208}return 15===r?0:r}function n(t){var e,n,o,a,i,l,s,c,u,d=t[0].z,f=d.length,p=d[0].length,y=2===f||2===p;for(n=0;f-1>n;n++)for(a=[],0===n&&(a=a.concat(v)),n===f-2&&(a=a.concat(x)),e=0;p-1>e;e++)for(o=a.slice(),0===e&&(o=o.concat(b)),e===p-2&&(o=o.concat(w)),i=e+","+n,l=[[d[n][e],d[n][e+1]],[d[n+1][e],d[n+1][e+1]]],u=0;u<t.length;u++)c=t[u],s=r(c.level,l),s&&(c.crossings[i]=s,-1!==o.indexOf(s)&&(c.starts.push([e,n]),y&&-1!==o.indexOf(s,o.indexOf(s)+1)&&c.starts.push([e,n])))}function o(t,e,r){function n(t){return f[t%f.length]}for(var o=e.join(","),a=o,u=t.crossings[a],d=i(u,r,e),f=[c(t,e,[-d[0],-d[1]])],p=d.join(","),y=t.z.length,h=t.z[0].length,g=0;1e4>g;g++){if(u>20?(u=k[u][(d[0]||d[1])<0?0:1],t.crossings[a]=_[u]):delete t.crossings[a],d=P[u],!d){console.log("found bad marching index",u,e,t.level);break}if(f.push(c(t,e,d)),e[0]+=d[0],e[1]+=d[1],l(f[f.length-1],f[f.length-2])&&f.pop(),a=e.join(","),a===o&&d.join(",")===p||r&&(d[0]&&(e[0]<0||e[0]>h-2)||d[1]&&(e[1]<0||e[1]>y-2)))break;u=t.crossings[a]}1e4===g&&console.log("Infinite loop in contour?");var m,v,x,b,w,M,L,A=l(f[0],f[f.length-1]),z=0,C=.2*t.smoothing,S=[],D=0;for(g=1;g<f.length;g++)L=s(f[g],f[g-1]),z+=L,S.push(L);var O=z/S.length*C;for(g=f.length-2;g>=D;g--)if(m=S[g],O>m){for(x=0,v=g-1;v>=D&&m+S[v]<O;v--)m+=S[v];if(A&&g===f.length-2)for(x=0;v>x&&m+S[x]<O;x++)m+=S[x];w=g-v+x+1,M=Math.floor((g+v+x+2)/2),b=A||g!==f.length-2?A||-1!==v?w%2?n(M):[(n(M)[0]+n(M+1)[0])/2,(n(M)[1]+n(M+1)[1])/2]:f[0]:f[f.length-1],f.splice(v+1,g-v+1,b),g=v+1,x&&(D=x),A&&(g===f.length-2?f[x]=f[f.length-1]:0===g&&(f[f.length-1]=f[0]))}if(f.splice(0,D),!(f.length<2))if(A)f.pop(),t.paths.push(f);else{r||console.log("unclosed interior contour?",t.level,o,f.join("L"));var N=!1;t.edgepaths.forEach(function(e,r){if(!N&&l(e[0],f[f.length-1])){f.pop(),N=!0;var n=!1;t.edgepaths.forEach(function(e,o){!n&&l(e[e.length-1],f[0])&&(n=!0,f.splice(0,1),t.edgepaths.splice(r,1),o===r?t.paths.push(f.concat(e)):t.edgepaths[o]=t.edgepaths[o].concat(f,e))}),n||(t.edgepaths[r]=f.concat(e))}}),t.edgepaths.forEach(function(e,r){!N&&l(e[e.length-1],f[0])&&(f.splice(0,1),t.edgepaths[r]=e.concat(f),N=!0)}),N||t.edgepaths.push(f)}}function a(t){var e,r,n,a,i;for(n=0;n<t.length;n++){for(a=t[n],i=0;i<a.starts.length;i++)r=a.starts[i],o(a,r,"edge");for(e=0;Object.keys(a.crossings).length&&1e4>e;)e++,r=Object.keys(a.crossings)[0].split(",").map(Number),o(a,r);
1e4===e&&console.log("Infinite loop in contour?")}}function i(t,e,r){var n=0,o=0;return t>20&&e?208===t||1114===t?n=0===r[0]?1:-1:o=0===r[1]?1:-1:-1!==v.indexOf(t)?o=1:-1!==b.indexOf(t)?n=1:-1!==x.indexOf(t)?o=-1:n=-1,[n,o]}function l(t,e){return Math.abs(t[0]-e[0])<.01&&Math.abs(t[1]-e[1])<.01}function s(t,e){var r=t[0]-e[0],n=t[1]-e[1];return Math.sqrt(r*r+n*n)}function c(t,e,r){var n=e[0]+Math.max(r[0],0),o=e[1]+Math.max(r[1],0),a=t.z[o][n],i=t.xaxis,l=t.yaxis;if(r[1]){var s=(t.level-a)/(t.z[o][n+1]-a);return[i.c2p((1-s)*t.x[n]+s*t.x[n+1]),l.c2p(t.y[o])]}var c=(t.level-a)/(t.z[o+1][n]-a);return[i.c2p(t.x[n]),l.c2p((1-c)*t.y[o]+c*t.y[o+1])]}function u(t,e,r){var n=t.plot.select(".maplayer").selectAll("g.contour."+r).data(e);return n.enter().append("g").classed("contour",!0).classed(r,!0),n.exit().remove(),n}function d(t,e,r){var n=t.selectAll("g.contourbg").data([0]);n.enter().append("g").classed("contourbg",!0);var o=n.selectAll("path").data("fill"===r.coloring?[0]:[]);o.enter().append("path"),o.exit().remove(),o.attr("d","M"+e.join("L")+"Z").style("stroke","none")}function f(t,e,r,n){var o=t.selectAll("g.contourfill").data([0]);o.enter().append("g").classed("contourfill",!0);var a=o.selectAll("path").data("fill"===n.coloring?e:[]);a.enter().append("path"),a.exit().remove(),a.each(function(t){var e=p(t,r);e?d3.select(this).attr("d",e).style("stroke","none"):d3.select(this).remove()})}function p(t,e){function r(t){return Math.abs(t[1]-e[0][1])<.01}function n(t){return Math.abs(t[1]-e[2][1])<.01}function o(t){return Math.abs(t[0]-e[0][0])<.01}function a(t){return Math.abs(t[0]-e[2][0])<.01}for(var i,l,s,c,u,d,f=t.edgepaths.length||t.z[0][0]<t.level?"":"M"+e.join("L")+"Z",p=0,y=t.edgepaths.map(function(t,e){return e}),h=!0;y.length;){for(d=Plotly.Drawing.smoothopen(t.edgepaths[p],t.smoothing),f+=h?d:d.replace(/^M/,"L"),y.splice(y.indexOf(p),1),i=t.edgepaths[p][t.edgepaths[p].length-1],c=-1,s=0;4>s;s++){if(!i){console.log("missing end?",p,t);break}for(r(i)&&!a(i)?l=e[1]:o(i)?l=e[0]:n(i)?l=e[3]:a(i)&&(l=e[2]),u=0;u<t.edgepaths.length;u++){var g=t.edgepaths[u][0];Math.abs(i[0]-l[0])<.01?Math.abs(i[0]-g[0])<.01&&(g[1]-i[1])*(l[1]-g[1])>=0&&(l=g,c=u):Math.abs(i[1]-l[1])<.01?Math.abs(i[1]-g[1])<.01&&(g[0]-i[0])*(l[0]-g[0])>=0&&(l=g,c=u):console.log("endpt to newendpt is not vert. or horz.",i,l,g)}if(i=l,c>=0)break;f+="L"+l}if(c===t.edgepaths.length){console.log("unclosed perimeter path");break}p=c,h=-1===y.indexOf(p),h&&(p=y[0],f+="Z")}for(p=0;p<t.paths.length;p++)f+=Plotly.Drawing.smoothclosed(t.paths[p],t.smoothing);return f}function y(t,e,r){var n=e[0].smoothing,o=t.selectAll("g.contourlevel").data(r.showlines===!1?[]:e);o.enter().append("g").classed("contourlevel",!0),o.exit().remove();var a=o.selectAll("path.openline").data(function(t){return t.edgepaths});a.enter().append("path").classed("openline",!0),a.exit().remove(),a.attr("d",function(t){return Plotly.Drawing.smoothopen(t,n)}).style("stroke-miterlimit",1);var i=o.selectAll("path.closedline").data(function(t){return t.paths});i.enter().append("path").classed("closedline",!0),i.exit().remove(),i.attr("d",function(t){return Plotly.Drawing.smoothclosed(t,n)}).style("stroke-miterlimit",1)}function h(t,e,r,o){var i="clip"+r.trace.uid,l="url(#"+i+")",s=d3.select(t.node().parentNode),c=s.selectAll("defs").data([0]);c.enter().append("defs");var u=c.selectAll("#"+i).data(r.trace.connectgaps?[]:[0]);if(u.enter().append("clipPath").attr("id",i),u.exit().remove(),r.trace.connectgaps===!1){var d={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:e.x(),yaxis:e.y(),x:r.x,y:r.y,z:g(r),smoothing:0};n([d]),a([d]);var f=p(d,o),y=u.selectAll("path").data([0]);y.enter().append("path"),y.attr("d",f)}else l=null;t.attr("clip-path",l),s.selectAll(".hm"+r.trace.uid).attr("clip-path",l)}function g(t){var e,r,n=t.trace._emptypoints,o=[],a=t.z.length,i=t.z[0].length,l=[];for(e=0;i>e;e++)l.push(1);for(e=0;a>e;e++)o.push(l.slice());for(e=0;e<n.length;e++)r=n[e],o[r[0]][r[1]]=0;return t.zmask=o,o}var m=window.Plotly.Contour={};m.attributes={allFrom:"Heatmap",autocontour:{type:"boolean",dflt:!0},ncontours:{type:"integer",dflt:0},contours:{start:{type:"number",dflt:null},end:{type:"number",dflt:null},size:{type:"number",dflt:null},coloring:{type:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill"},showlines:{type:"boolean",dflt:!0}},line:{color:{from:"Scatter"},width:{from:"Scatter"},dash:{from:"Scatter"},smoothing:{from:"Scatter"}}},m.supplyDefaults=function(t,e,r,n){function o(r,n){return Plotly.Lib.coerce(t,e,m.attributes,r,n)}function a(r,n){return Plotly.Lib.coerce(t,e,Plotly.Scatter.attributes,r,n)}var i=o("autocontour");i&&o("ncontours"),o("contours.start"),o("contours.end"),o("contours.size");var l=o("contours.coloring");"fill"===l&&o("contours.showlines"),e.contours.showlines!==!1&&("lines"!==l&&a("line.color","#000"),a("line.width",.5),a("line.dash")),a("line.smoothing"),Plotly.Heatmap.supplyDefaults(t,e,r,n)},m.calc=function(t,e){var r=Plotly.Heatmap.calc(t,e),n=e.contours;if(e.autocontour!==!1||!n.size||void 0===n.start||void 0===n.end){var o={type:"linear",range:[e.zmin,e.zmax]};Plotly.Axes.autoTicks(o,(e.zmax-e.zmin)/(e.ncontours||15)),n.start=Plotly.Axes.tickFirst(o),n.size=o.dtick,o.range.reverse(),n.end=Plotly.Axes.tickFirst(o),n.start===e.zmin&&(n.start+=n.size),n.end===e.zmax&&(n.end-=n.size),n.end+=n.size/100,e._input.contours=n}return r},m.plot=function(e,r,n){for(var o=0;o<n.length;o++)t(e,r,n[o])};var v=[1,9,13,104,713],x=[4,6,7,104,713],b=[8,12,14,208,1114],w=[2,3,11,208,1114],P=[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],k={104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},_={1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11};m.style=function(t){t.selectAll("g.contour").style("opacity",function(t){return t.trace.opacity}).each(function(t){var e=d3.select(this),r=t.trace,n=r.contours,o=r.line,a="lines"===n.coloring,i=n.size||1,l=Math.floor((n.end+i/10-n.start)/i)+1,s=Plotly.Color.getScale(r.colorscale),c=a?0:1,u=d3.scale.linear().domain(s.map(function(t){return(t[0]*(l+c-1)-c/2)*i+n.start})).interpolate(d3.interpolateRgb).range(s.map(function(t){return t[1]}));e.selectAll("g.contourlevel").each(function(t,e){d3.select(this).selectAll("path").call(Plotly.Drawing.lineGroupStyle,o.width,a?u(n.start+e*i):o.color,o.dash)}),e.selectAll("g.contourbg path").style("fill",u(n.start-i/2)),e.selectAll("g.contourfill path").style("fill",function(t,e){return u(n.start+(e+.5)*i)})}),Plotly.Heatmap.style(t)},m.colorbar=function(t,e){var r=e[0].trace,n="cb"+r.uid;if(t._fullLayout._infolayer.selectAll("."+n).remove(),r.showscale===!1)return void Plotly.Plots.autoMargin(t,n);var o=Plotly.Colorbar(t,n);e[0].t.cb=o;var a=r.contours,i=r.line,l=a.size||1,s=Math.floor((a.end+l/10-a.start)/l)+1,c=Plotly.Color.getScale(r.colorscale),u="lines"===a.coloring?0:1,d=d3.scale.linear().interpolate(d3.interpolateRgb),f=c.map(function(t){return(t[0]*(s+u-1)-u/2)*l+a.start}),p=c.map(function(t){return t[1]});if("heatmap"===a.coloring){r.zauto&&r.autocontour===!1&&(r.zmin=a.start-l/2,r.zmax=r.zmin+s*l),o.filllevels({start:r.zmin,end:r.zmax,size:(r.zmax-r.zmin)/254}),f=c.map(function(t){return t[0]*(r.zmax-r.zmin)+r.zmin});var y=d3.extent([r.zmin,r.zmax,a.start,a.start+l*(s-1)]),h=y[r.zmin<r.zmax?0:1],g=y[r.zmin<r.zmax?1:0];h!==r.zmin&&(f.splice(0,0,h),p.splice(0,0,p[0])),g!==r.zmax&&(f.push(g),p.push(p[p.length-1]))}d.domain(f).range(p),o.fillcolor("fill"===a.coloring||"heatmap"===a.coloring?d:"").line({color:"lines"===a.coloring?d:i.color,width:a.showlines!==!1?i.width:0,dash:i.dash}).levels({start:a.start,end:a.end,size:l}).options(r.colorbar)()},m.hoverPoints=function(t,e,r,n){return Plotly.Heatmap.hoverPoints(t,e,r,n,!0)}}(),function(){"use strict";var t=window.Plotly.Colorbar=function(e,r){function n(){function t(){if(-1!==["top","bottom"].indexOf(o.titleside)){var t=I.select(".cbtitle"),r=t.select("text"),n=[-o.outlinewidth/2,o.outlinewidth/2],a=t.select(".h"+O._id+"title-math-group").node(),l=15.6;if(r.node()&&(l=1.3*parseInt(r.style("font-size"),10)),a?(B=Plotly.Drawing.bBox(a).height,B>l&&(n[1]-=(B-l)/2)):r.node()&&!r.classed("js-placeholder")&&(B=Plotly.Drawing.bBox(t.node()).height),B){if(B+=5,"top"===o.titleside)O.domain[1]-=B/i._size.h,n[1]*=-1;else{O.domain[0]+=B/i._size.h;var p=Math.max(1,r.selectAll("tspan.line").size());n[1]+=(1-p)*l}t.attr("transform","translate("+n+")"),O.setScale()}}I.selectAll(".cbfills,.cblines,.cbaxis").attr("transform","translate(0,"+Math.round(i._size.h*(1-O.domain[1]))+")");var y=I.select(".cbfills").selectAll("rect.cbfill").data(u);y.enter().append("rect").classed("cbfill",!0).style("stroke","none"),y.exit().remove(),y.each(function(t,e){var r=[0===e?s[0]:(u[e]+u[e-1])/2,e===u.length-1?s[1]:(u[e]+u[e+1])/2].map(O.c2p).map(Math.round);e!==u.length-1&&(r[1]+=r[1]>r[0]?1:-1),d3.select(this).attr({x:A,width:Math.max(b,2),y:d3.min(r),height:Math.max(d3.max(r)-d3.min(r),2)}).style("fill",f(t))});var h=I.select(".cblines").selectAll("path.cbline").data(o.line.color&&o.line.width?c:[]);return h.enter().append("path").classed("cbline",!0),h.exit().remove(),h.each(function(t){d3.select(this).attr("d","M"+A+","+(Math.round(O.c2p(t))+o.line.width/2%1)+"h"+b).call(Plotly.Drawing.lineGroupStyle,o.line.width,d(t),o.line.dash)}),O._axislayer.selectAll("g."+O._id+"tick,path").remove(),O._pos=A+b+(o.outlinewidth||0)/2-("outside"===o.ticks?1:0),O.side=o.orient,Plotly.Axes.doTicks(e,O)}function a(){var t=b+o.outlinewidth/2+Plotly.Drawing.bBox(O._axislayer.node()).width;if(m=j.select("text"),m.node()&&!m.classed("js-placeholder")){var n,a=j.select(".h"+O._id+"title-math-group").node();n=a&&-1!==["top","bottom"].indexOf(o.titleside)?Plotly.Drawing.bBox(a).width:Plotly.Drawing.bBox(j.node()).right-A-i._size.l,t=Math.max(t,n)}var l=2*o.xpad+t+o.borderwidth+o.outlinewidth/2,s=S-D;I.select(".cbbg").attr({x:A-o.xpad-(o.borderwidth+o.outlinewidth)/2,y:D-M,width:Math.max(l,2),height:Math.max(s+2*M,2)}).call(Plotly.Color.fill,o.bgcolor).call(Plotly.Color.stroke,o.bordercolor).style({"stroke-width":o.borderwidth}),I.selectAll(".cboutline").attr({x:A,y:D+o.ypad+("top"===o.titleside?B:0),width:Math.max(b,2),height:Math.max(s-2*o.ypad-B,2)}).call(Plotly.Color.stroke,o.outlinecolor).style({fill:"None","stroke-width":o.outlinewidth});var c=({center:.5,right:1}[o.xanchor]||0)*l;I.attr("transform","translate("+(i._size.l-c)+","+i._size.t+")"),Plotly.Plots.autoMargin(e,r,{x:o.x,y:o.y,l:l*({right:1,center:.5}[o.xanchor]||0),r:l*({left:1,center:.5}[o.xanchor]||0),t:s*({bottom:1,middle:.5}[o.yanchor]||0),b:s*({top:1,middle:.5}[o.yanchor]||0)})}var i=e._fullLayout;if("function"!=typeof o.fillcolor&&"function"!=typeof o.line.color)return void i._infolayer.selectAll("g."+r).remove();var l,s=d3.extent(("function"==typeof o.fillcolor?o.fillcolor:o.line.color).domain()),c=[],u=[],d="function"==typeof o.line.color?o.line.color:function(){return o.line.color},f="function"==typeof o.fillcolor?o.fillcolor:function(){return o.fillcolor},p=o.levels.end+o.levels.size/100,y=o.levels.size,h=1.001*s[0]-.001*s[1],g=1.001*s[1]-.001*s[0];for(l=o.levels.start;0>(l-p)*y;l+=y)l>h&&g>l&&c.push(l);if("function"==typeof o.fillcolor)if(o.filllevels)for(p=o.filllevels.end+o.filllevels.size/100,y=o.filllevels.size,l=o.filllevels.start;0>(l-p)*y;l+=y)l>s[0]&&l<s[1]&&u.push(l);else u=c.map(function(t){return t-o.levels.size/2}),u.push(u[u.length-1]+o.levels.size);else o.fillcolor&&"string"==typeof o.fillcolor&&(u=[0]);o.levels.size<0&&(c.reverse(),u.reverse());var m,v=i.height-i.margin.t-i.margin.b,x=i.width-i.margin.l-i.margin.r,b=Math.round(o.thickness*("fraction"===o.thicknessmode?x:1)),w=b/i._size.w,P=Math.round(o.len*("fraction"===o.lenmode?v:1)),k=P/i._size.h,_=o.xpad/i._size.w,M=(o.borderwidth+o.outlinewidth)/2,L=o.ypad/i._size.h,A=Math.round(o.x*i._size.w+o.xpad),z=o.x-w*({middle:.5,right:1}[o.xanchor]||0),C=o.y+k*(({top:-.5,bottom:.5}[o.yanchor]||0)-.5),S=Math.round(i._size.h*(1-C)),D=S-P,O=Plotly.Axes.supplyAxisDefaults({type:"linear",range:s,autotick:o.autotick,nticks:o.nticks,tick0:o.tick0,dtick:o.dtick,ticks:o.ticks,ticklen:o.ticklen,tickwidth:o.tickwidth,tickcolor:o.tickcolor,showticklabels:o.showticklabels,tickfont:o.tickfont,tickangle:o.tickangle,exponentformat:o.exponentformat,showexponent:o.showexponent,title:o.title,titlefont:o.titlefont},null,{letter:"y"});if(Plotly.Axes.supplyAxisPositioningDefaults({anchor:"free",position:1},O,{letter:"y"}),O._id="y"+r,O._td=e,O.position=o.x+_+w,n.axis=O,-1!==["top","bottom"].indexOf(o.titleside)&&(O.titleside=o.titleside,O.titlex=o.x+_,O.titley=C+("top"===o.titleside?k-L:L)),o.line.color&&o.autotick!==!1){O.autotick=!1,O.tick0=o.levels.start;var N=o.levels.size,E=Plotly.Lib.constrain((S-D)/50,4,15)+1,$=(s[1]-s[0])/((o.nticks||E)*N);if($>1){var T=Math.pow(10,Math.floor(Math.log($)/Math.LN10));N*=T*Plotly.Lib.roundUp($/T,[2,5,10]),(Math.abs(o.levels.start)/o.levels.size+1e-6)%1<2e-6&&(O.tick0=0)}O.dtick=N}O.domain=[C+L,C+k-L],O.setScale();var I=i._infolayer.selectAll("g."+r).data([0]);I.enter().append("g").classed(r,!0).each(function(){var t=d3.select(this);t.append("rect").classed("cbbg",!0),t.append("g").classed("cbfills",!0),t.append("g").classed("cblines",!0),t.append("g").classed("cbaxis",!0).classed("crisp",!0),t.append("g").classed("cbtitleunshift",!0).append("g").classed("cbtitle",!0),t.append("rect").classed("cboutline",!0)}),I.attr("transform","translate("+Math.round(i._size.l)+","+Math.round(i._size.t)+")");var j=I.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(i._size.l)+",-"+Math.round(i._size.t)+")");O._axislayer=I.select(".cbaxis");var B=0;-1!==["top","bottom"].indexOf(o.titleside)&&Plotly.Plots.titles(e,O._id+"title");var F=Plotly.Lib.syncOrAsync([Plotly.Plots.previousPromises,t,Plotly.Plots.previousPromises,a],e);return F&&F.then&&(e._promises||[]).push(F),e._context.editable&&(I.node().onmousedown=function(t){if(Plotly.Fx.dragClear(e))return!0;var n=d3.select(this),a=n.attr("transform"),l=i._size,s=null,c=null,u=!1;return Plotly.Fx.setCursor(n),window.onmousemove=function(e){var r=e.clientX-t.clientX,i=e.clientY-t.clientY,d=Plotly.Fx.MINDRAG;Math.abs(r)<d&&(r=0),Math.abs(i)<d&&(i=0),(r||i)&&(u=!0),n.attr("transform",a+" translate("+r+","+i+")"),s=Plotly.Fx.dragAlign(z+r/l.w,w,0,1,o.xanchor),c=Plotly.Fx.dragAlign(C-i/l.h,k,0,1,o.yanchor);var f=Plotly.Fx.dragCursors(s,c,o.xanchor,o.yanchor);return Plotly.Fx.setCursor(n,f),Plotly.Lib.pauseEvent(e)},window.onmouseup=function(t){if(window.onmousemove=null,window.onmouseup=null,Plotly.Fx.setCursor(n),u&&null!==s&&null!==c){var o,a=r.substr(2);e._fullData.some(function(t){return t.uid===a?(o=t.index,!0):void 0}),Plotly.restyle(e,{"colorbar.x":s,"colorbar.y":c},o)}return Plotly.Lib.pauseEvent(t)},Plotly.Lib.pauseEvent(t)}),F}var o={};return Object.keys(t.attributes).forEach(function(t){o[t]=null}),o.fillcolor=null,o.line={color:null,width:null,dash:null},o.levels={start:null,end:null,size:null},o.filllevels=null,Object.keys(o).forEach(function(t){n[t]=function(e){return arguments.length?($.isPlainObject(o[t])?$.extend(o[t],e):o[t]=e,n):o[t]}}),n.options=function(t){return Object.keys(t).forEach(function(e){"function"==typeof n[e]&&n[e](t[e])}),n},n._opts=o,n},e=Plotly.Axes.attributes;t.attributes={orient:{type:"enumerated",values:["left","right","top","bottom"],dflt:"right"},thicknessmode:{type:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{type:"number",min:0,dflt:30},lenmode:{type:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{type:"number",min:0,dflt:1},x:{type:"number",dflt:1.02},xanchor:{type:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{type:"number",min:0,dflt:10},y:{type:"number",dflt:.5},yanchor:{type:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{type:"number",min:0,dflt:10},outlinecolor:e.linecolor,outlinewidth:$.extend({dflt:0},e.linewidth),bordercolor:e.linecolor,borderwidth:{type:"number",min:0,dflt:0},bgcolor:{type:"color",dflt:"rgba(0,0,0,0)"},autotick:e.autotick,nticks:e.nticks,tick0:e.tick0,dtick:e.dtick,ticks:$.extend({dflt:""},e.ticks),ticklen:e.ticklen,tickwidth:e.tickwidth,tickcolor:e.tickcolor,showticklabels:e.showticklabels,tickfont:e.tickfont,tickangle:e.tickangle,exponentformat:e.exponentformat,showexponent:e.showexponent,title:{type:"string",dflt:"Click to enter colorscale title"},titlefont:e.titlefont,titleside:{type:"enumerated",values:["right","top","bottom"],dflt:"top"}},t.supplyDefaults=function(e,r,n,o){function a(e,r){return Plotly.Lib.coerce(l,i,t.attributes,e,r)}var i=r.colorbar={},l=e.colorbar||{};a("orient");var s=a("thicknessmode");a("thickness","fraction"===s?30/(o.width-o.margin.l-o.margin.r):30);var c=a("lenmode");a("len","fraction"===c?1:o.height-o.margin.t-o.margin.b),a("x"),a("xanchor"),a("xpad"),a("y"),a("yanchor"),a("ypad"),Plotly.Lib.noneOrBoth(l,i,"x","y"),a("outlinecolor"),a("outlinewidth"),a("bordercolor"),a("borderwidth"),a("bgcolor");var u=a("autotick");u?a("nticks"):(a("tick0"),a("dtick"));var d=a("ticks");d&&(a("ticklen"),a("tickwidth"),a("tickcolor"));var f=a("showticklabels");if(f){a("tickfont",o.font),a("tickangle");var p=a("showexponent");"none"!==p&&a("exponentformat")}a("title"),a("titlefont",o.font),a("titleside")}}(),function(){"use strict";function t(t,e){for(var r=t.length,n=0,o=0;r>o;o++)e[o]?(t[o]/=e[o],n+=t[o]):t[o]=null;return n}var e=window.Plotly.Histogram={},r={start:{type:"number",dflt:0},end:{type:"number",dflt:1},size:{type:"any",dflt:1}};e.attributes={allFrom:{histogram:"Bars",histogram2d:"Heatmap",histogram2dcontour:"Contour"},z:{type:"data_array"},marker:{color:{type:"data_array"}},histfunc:{type:"enumerated",values:["count","sum","avg","min","max"],dflt:"count"},histnorm:{type:"enumerated",values:["","percent","probability","density","probability density"],dflt:""},autobinx:{type:"boolean",dflt:!0},nbinsx:{type:"integer",min:0,dflt:0},xbins:r,autobiny:{type:"boolean",dflt:!0},nbinsy:{type:"integer",min:0,dflt:0},ybins:r},e.supplyDefaults=function(t,r){function n(n,o){return Plotly.Lib.coerce(t,r,e.attributes,n,o)}function o(e,n,o){return Plotly.Lib.coerce(t,r,Plotly[e].attributes,n,o)}var a,i=["x"],l=o("Scatter","x"),s=o("Scatter","y");if(Plotly.Plots.isHist2D(r.type)){if(!l||!s)return void(r.visible=!1);a=n("z")||n("marker.color"),i=["x","y"]}else{if(o("Bars","orientation",s&&!l?"h":"v"),!r["v"===r.orientation?"x":"y"])return void(r.visible=!1);"h"===r.orientation&&(i=["y"]),a=r["h"===r.orientation?"x":"y"]}a&&n("histfunc"),n("histnorm"),i.forEach(function(t){var e=n("autobin"+t);e?n("nbins"+t):(n(t+"bins.start"),n(t+"bins.end"),n(t+"bins.size"))})};var n={count:function(t,e,r){return r[t]++,1},sum:function(t,e,r,n){var o=n[e];return $.isNumeric(o)?(r[t]+=o,o):0},avg:function(t,e,r,n,o){var a=n[e];return $.isNumeric(a)&&(r[t]+=a,o[t]++),0},min:function(t,e,r,n){var o=n[e];if($.isNumeric(o)){if(!$.isNumeric(r[t]))return r[t]=o,o;if(r[t]>o)return r[t]=o,o-r[t]}return 0},max:function(t,e,r,n){var o=n[e];if($.isNumeric(o)){if(!$.isNumeric(r[t]))return r[t]=o,o;if(r[t]<o)return r[t]=o,o-r[t]}return 0}},o={percent:function(t,e){for(var r=t.length,n=100/e,o=0;r>o;o++)t[o]*=n},probability:function(t,e){for(var r=t.length,n=0;r>n;n++)t[n]/=e},density:function(t,e,r,n){var o=t.length;n=n||1;for(var a=0;o>a;a++)t[a]*=r[a]*n},"probability density":function(t,e,r,n){var o=t.length;n&&(e/=n);for(var a=0;o>a;a++)t[a]*=r[a]/e}};e.calc=function(e,r){if(r.visible!==!1){var a,i=[],l=[],s=Plotly.Axes.getFromId(e,"h"===r.orientation?r.yaxis||"y":r.xaxis||"x"),c="h"===r.orientation?"y":"x",u={x:"y",y:"x"}[c],d=s.makeCalcdata(r,c);r["autobin"+c]===!1&&c+"bins"in r||(r[c+"bins"]=Plotly.Axes.autoBin(d,s,r["nbins"+c]),r._input[c+"bins"]=r[c+"bins"]);var f,p,y,h,g=r[c+"bins"],m="string"==typeof g.size,v=m?[]:g,x=[],b=[],w=0,P=r.histnorm,k=r.histfunc,_=-1!==P.indexOf("density"),M="max"===k||"min"===k,L=M?null:0,A=n.count,z=o[P],C=!1;u in r&&"count"!==k&&(h=s.makeCalcdata(r,u),C="avg"===k,A=n[k]),a=g.start,p=g.end+(g.start-Plotly.Axes.tickIncrement(g.start,g.size))/1e6;for(;p>a&&i.length<5e3;)f=Plotly.Axes.tickIncrement(a,g.size),i.push((a+f)/2),l.push(L),m&&v.push(a),_&&x.push(1/(f-a)),C&&b.push(0),a=f;var S=l.length;for(a=0;a<d.length;a++)y=Plotly.Lib.findBin(d[a],v),y>=0&&S>y&&(w+=A(y,a,l,h,b));C&&(w=t(l,b)),z&&z(l,w,x);var D=Math.min(i.length,l.length),O=[],N=0,E=D-1;for(a=0;D>a;a++)if(l[a]){N=a;break}for(a=D-1;a>N;a--)if(l[a]){E=a;break}for(a=N;E>=a;a++)$.isNumeric(i[a])&&$.isNumeric(l[a])&&O.push({p:i[a],s:l[a],b:0});return O}},e.calc2d=function(e,r){var a,i,l,s,c,u,d=Plotly.Axes.getFromId(e,r.xaxis||"x"),f=r.x?d.makeCalcdata(r,"x"):[],p=Plotly.Axes.getFromId(e,r.yaxis||"y"),y=r.y?p.makeCalcdata(r,"y"):[],h=Math.min(f.length,y.length);f.length>h&&f.splice(h,f.length-h),y.length>h&&y.splice(h,y.length-h),Plotly.Lib.markTime("done convert data"),!r.autobinx&&"xbins"in r||(r.xbins=Plotly.Axes.autoBin(f,d,r.nbinsx,"2d"),"histogram2dcontour"===r.type&&(r.xbins.start-=r.xbins.size,r.xbins.end+=r.xbins.size),r._input.xbins=r.xbins),!r.autobiny&&"ybins"in r||(r.ybins=Plotly.Axes.autoBin(y,p,r.nbinsy,"2d"),"histogram2dcontour"===r.type&&(r.ybins.start-=r.ybins.size,r.ybins.end+=r.ybins.size),r._input.ybins=r.ybins),Plotly.Lib.markTime("done autoBin"),c=[];var g,m,v,x=[],b=[],w="string"==typeof r.xbins.size?[]:r.xbins,P="string"==typeof r.xbins.size?[]:r.ybins,k=0,_=[],M=r.histnorm,L=r.histfunc,A=-1!==M.indexOf("density"),z="max"===L||"min"===L,C=z?null:0,S=n.count,D=o[M],O=!1,N=[],E=[],T="z"in r?r.z:"marker"in r&&$.isArray(r.marker.color)?r.marker.color:"";T&&"count"!==L&&(v=T.map(Number),O="avg"===L,S=n[L]);var I=r.xbins,j=I.end+(I.start-Plotly.Axes.tickIncrement(I.start,I.size))/1e6;for(u=I.start;j>u;u=Plotly.Axes.tickIncrement(u,I.size))x.push(C),$.isArray(w)&&w.push(u),O&&b.push(0);$.isArray(w)&&w.push(u);var B=x.length;for(a=r.xbins.start,i=(u-a)/B,a+=i/2,I=r.ybins,j=I.end+(I.start-Plotly.Axes.tickIncrement(I.start,I.size))/1e6,u=I.start;j>u;u=Plotly.Axes.tickIncrement(u,I.size))c.push(x.concat()),$.isArray(P)&&P.push(u),O&&_.push(b.concat());$.isArray(P)&&P.push(u);var F=c.length;for(l=r.ybins.start,s=(u-l)/F,l+=s/2,A&&(N=x.map(function(t,e){return $.isArray(w)?1/(w[e+1]-w[e]):1/i}),E=c.map(function(t,e){return $.isArray(P)?1/(P[e+1]-P[e]):1/s})),Plotly.Lib.markTime("done making bins"),u=0;h>u;u++)g=Plotly.Lib.findBin(f[u],w),m=Plotly.Lib.findBin(y[u],P),g>=0&&B>g&&m>=0&&F>m&&(k+=S(g,u,c[m],v,_[m]));if(O)for(m=0;F>m;m++)k+=t(c[m],_[m]);if(D)for(m=0;F>m;m++)D(c[m],k,N,E[m]);return Plotly.Lib.markTime("done binning"),{x:f,x0:a,dx:i,y:y,y0:l,dy:s,z:c}}}();var micropolar={version:"0.2.2"},\u00b5=micropolar;\u00b5.Axis=function(){function t(t){r=t||r;var i=a.data,s=a.layout;return("string"==typeof r||r.nodeName)&&(r=d3.select(r)),r.datum(i).each(function(t){function r(t){return o(t)%360+s.orientation}var a=t.slice();l={data:\u00b5.util.cloneJson(a),layout:\u00b5.util.cloneJson(s)};var i=0;a.forEach(function(t,e){t.color||(t.color=s.defaultColorRange[i],i=(i+1)%s.defaultColorRange.length),t.strokeColor||(t.strokeColor="LinePlot"===t.geometry?t.color:d3.rgb(t.color).darker().toString()),l.data[e].color=t.color,l.data[e].strokeColor=t.strokeColor,l.data[e].strokeDash=t.strokeDash,l.data[e].strokeSize=t.strokeSize});var c=a.filter(function(t){var e=t.visible;return"undefined"==typeof e||e===!0}),u=!1,d=c.map(function(t){return u=u||"undefined"!=typeof t.groupId,t});if(u){var f=d3.nest().key(function(t){return"undefined"!=typeof t.groupId?t.groupId:"unstacked"}).entries(d),p=[],y=f.map(function(t){if("unstacked"===t.key)return t.values;var e=t.values[0].r.map(function(){return 0});return t.values.forEach(function(t){t.yStack=[e],p.push(e),e=\u00b5.util.sumArrays(t.r,e)}),t.values});c=d3.merge(y)}c.forEach(function(t){t.t=Array.isArray(t.t[0])?t.t:[t.t],t.r=Array.isArray(t.r[0])?t.r:[t.r]});var h=Math.min(s.width-s.margin.left-s.margin.right,s.height-s.margin.top-s.margin.bottom)/2;h=Math.max(10,h);var g,m=[s.margin.left+h,s.margin.top+h];if(u){var v=d3.max(\u00b5.util.sumArrays(\u00b5.util.arrayLast(c).r[0],\u00b5.util.arrayLast(p)));g=[0,v]}else g=d3.extent(\u00b5.util.flattenArray(c.map(function(t){return t.r})));s.radialAxis.domain!=\u00b5.DATAEXTENT&&(g[0]=0),n=d3.scale.linear().domain(s.radialAxis.domain!=\u00b5.DATAEXTENT&&s.radialAxis.domain?s.radialAxis.domain:g).range([0,h]),l.layout.radialAxis.domain=n.domain();var x,b=\u00b5.util.flattenArray(c.map(function(t){return t.t})),w="string"==typeof b[0];w&&(b=\u00b5.util.deduplicate(b),x=b.slice(),b=d3.range(b.length),c=c.map(function(t){var e=t;return t.t=[b],u&&(e.yStack=t.yStack),e}));var P=c.filter(function(t){return"LinePlot"===t.geometry||"DotPlot"===t.geometry}).length===c.length,k=null===s.needsEndSpacing?w||!P:s.needsEndSpacing,_=s.angularAxis.domain&&s.angularAxis.domain!=\u00b5.DATAEXTENT&&!w&&s.angularAxis.domain[0]>=0,M=_?s.angularAxis.domain:d3.extent(b),L=Math.abs(b[1]-b[0]);P&&!w&&(L=0);var A=M.slice();k&&w&&(A[1]+=L);var z=s.angularAxis.ticksCount||4;z>8&&(z=z/(z/8)+z%8),s.angularAxis.ticksStep&&(z=(A[1]-A[0])/z);var C=s.angularAxis.ticksStep||(A[1]-A[0])/(z*(s.minorTicks+1));x&&(C=Math.max(Math.round(C),1)),A[2]||(A[2]=C);var S=d3.range.apply(this,A);if(S=S.map(function(t){return parseFloat(t.toPrecision(12))}),o=d3.scale.linear().domain(A.slice(0,2)).range("clockwise"===s.direction?[0,360]:[360,0]),l.layout.angularAxis.domain=o.domain(),l.layout.angularAxis.endPadding=k?L:0,e=d3.select(this).select("svg.chart-root"),"undefined"==typeof e||e.empty()){var D='<svg xmlns="http://www.w3.org/2000/svg" class="chart-root"><g class="outer-group"><g class="chart-group"><circle class="background-circle"></circle><g class="geometry-group"></g><g class="radial axis-group"><circle class="outside-circle"></circle></g><g class="angular axis-group"></g><g class="guides-group"><line></line><circle r="0"></circle></g></g><g class="legend-group"></g><g class="tooltips-group"></g><g class="title-group"><text></text></g></g></svg>',O=(new DOMParser).parseFromString(D,"application/xml"),N=this.appendChild(this.ownerDocument.importNode(O.documentElement,!0));e=d3.select(N)}e.select(".guides-group").style({"pointer-events":"none"}),e.select(".angular.axis-group").style({"pointer-events":"none"}),e.select(".radial.axis-group").style({"pointer-events":"none"});var E,$=e.select(".chart-group"),T={fill:"none",stroke:s.tickColor},I={"font-size":s.font.size,"font-family":s.font.family,fill:s.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(t){return" "+t+" 0 "+s.font.outlineColor}).join(",")};if(s.showLegend){E=e.select(".legend-group").attr({transform:"translate("+[h,s.margin.top]+")"}).style({display:"block"});var j=c.map(function(t){var e=\u00b5.util.cloneJson(t);return e.symbol="DotPlot"===t.geometry?t.dotType||"circle":"LinePlot"!=t.geometry?"square":"line",e.visibleInLegend="undefined"==typeof t.visibleInLegend||t.visibleInLegend,e.color="LinePlot"===t.geometry?t.strokeColor:t.color,e}),B=\u00b5.util.deepExtend({},\u00b5.Legend.defaultConfig().legendConfig),F=\u00b5.util.deepExtend(B,{container:E,elements:j,reverseOrder:s.legend.reverseOrder}),H={data:c.map(function(t,e){return t.name||"Element"+e}),legendConfig:F};\u00b5.Legend().config(H)();var V=E.node().getBBox();h=Math.min(s.width-V.width-s.margin.left-s.margin.right,s.height-s.margin.top-s.margin.bottom)/2,h=Math.max(10,h),m=[s.margin.left+h,s.margin.top+h],n.range([0,h]),l.layout.radialAxis.domain=n.domain(),E.attr("transform","translate("+[m[0]+h,m[1]-h]+")")}else E=e.select(".legend-group").style({display:"none"});e.attr({width:s.width,height:s.height}).style({opacity:s.opacity}),$.attr("transform","translate("+m+")").style({cursor:"crosshair"});var R=[(s.width-(s.margin.left+s.margin.right+2*h+(V?V.width:0)))/2,(s.height-(s.margin.top+s.margin.bottom+2*h))/2];if(R[0]=Math.max(0,R[0]),R[1]=Math.max(0,R[1]),e.select(".outer-group").attr("transform","translate("+R+")"),s.title){var Z=e.select("g.title-group text").style(I).text(s.title),q=Z.node().getBBox();Z.attr({x:m[0]-q.width/2,y:m[1]-h-20})}var G=e.select(".radial.axis-group");if(s.radialAxis.gridLinesVisible){var Y=G.selectAll("circle.grid-circle").data(n.ticks(5));Y.enter().append("circle").attr({"class":"grid-circle"}).style(T),Y.attr("r",n),Y.exit().remove()}G.select("circle.outside-circle").attr({r:h}).style(T);var X=e.select("circle.background-circle").attr({r:h}).style({fill:s.backgroundColor,stroke:s.stroke});if(s.radialAxis.visible){var U=d3.svg.axis().scale(n).ticks(5).tickSize(5);G.call(U).attr({transform:"rotate("+s.radialAxis.orientation+")"}),G.selectAll(".domain").style(T),G.selectAll("g>text").text(function(){return this.textContent+s.radialAxis.ticksSuffix}).style(I).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(){return"horizontal"===s.radialAxis.tickOrientation?"rotate("+-s.radialAxis.orientation+") translate("+[0,I["font-size"]]+")":"translate("+[0,I["font-size"]]+")"}}),G.selectAll("g>line").style({stroke:"black"})}var J=e.select(".angular.axis-group").selectAll("g.angular-tick").data(S),K=J.enter().append("g").classed("angular-tick",!0);J.attr({transform:function(t,e){return"rotate("+r(t,e)+")"}}).style({display:s.angularAxis.visible?"block":"none"}),J.exit().remove(),K.append("line").classed("grid-line",!0).classed("major",function(t,e){return e%(s.minorTicks+1)==0}).classed("minor",function(t,e){return!(e%(s.minorTicks+1)==0)}).style(T),K.selectAll(".minor").style({stroke:s.minorTickColor}),J.select("line.grid-line").attr({x1:s.tickLength?h-s.tickLength:0,x2:h}).style({display:s.angularAxis.gridLinesVisible?"block":"none"}),K.append("text").classed("axis-text",!0).style(I);var W=J.select("text.axis-text").attr({x:h+s.labelOffset,dy:".35em",transform:function(t,e){var n=r(t,e),o=h+s.labelOffset,a=s.angularAxis.tickOrientation;return"horizontal"==a?"rotate("+-n+" "+o+" 0)":"radial"==a?270>n&&n>90?"rotate(180 "+o+" 0)":null:"rotate("+(180>=n&&n>0?-90:90)+" "+o+" 0)"}}).style({"text-anchor":"middle",display:s.angularAxis.labelsVisible?"block":"none"}).text(function(t,e){return e%(s.minorTicks+1)!=0?"":x?x[t]+s.angularAxis.ticksSuffix:t+s.angularAxis.ticksSuffix}).style(I);s.angularAxis.rewriteTicks&&W.text(function(t,e){return e%(s.minorTicks+1)!=0?"":s.angularAxis.rewriteTicks(this.textContent,e)});var Q=d3.max($.selectAll(".angular-tick text")[0].map(function(t){return t.getCTM().e+t.getBBox().width}));E.attr({transform:"translate("+[h+Q,s.margin.top]+")"});var te=e.select("g.geometry-group").selectAll("g").size()>0,ee=e.select("g.geometry-group").selectAll("g.geometry").data(c);if(ee.enter().append("g").attr({"class":function(t,e){return"geometry geometry"+e}}),ee.exit().remove(),c[0]||te){var re=[];c.forEach(function(t,e){var r={};r.radialScale=n,r.angularScale=o,r.container=ee.filter(function(t,r){return r==e}),r.geometry=t.geometry,r.orientation=s.orientation,r.direction=s.direction,r.index=e,re.push({data:t,geometryConfig:r})});var ne=d3.nest().key(function(t){return"undefined"!=typeof t.data.groupId||"unstacked"}).entries(re),oe=[];ne.forEach(function(t){"unstacked"===t.key?oe=oe.concat(t.values.map(function(t){return[t]})):oe.push(t.values)}),oe.forEach(function(t){var e;e=Array.isArray(t)?t[0].geometryConfig.geometry:t.geometryConfig.geometry;var r=t.map(function(t){return \u00b5.util.deepExtend(\u00b5[e].defaultConfig(),t)});\u00b5[e]().config(r)()})}var ae,ie,le=e.select(".guides-group"),se=e.select(".tooltips-group"),ce=\u00b5.tooltipPanel().config({container:se,fontSize:8})(),ue=\u00b5.tooltipPanel().config({container:se,fontSize:8})(),de=\u00b5.tooltipPanel().config({container:se,hasTick:!0})();if(!w){var fe=le.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});$.on("mousemove.angular-guide",function(){var t=\u00b5.util.getMousePos(X).angle;fe.attr({x2:-h,transform:"rotate("+t+")"}).style({opacity:.5});var e=(t+180+360-s.orientation)%360;ae=o.invert(e);var r=\u00b5.util.convertToCartesian(h+12,t+180);
ce.text(\u00b5.util.round(ae)).move([r[0]+m[0],r[1]+m[1]])}).on("mouseout.angular-guide",function(){le.select("line").style({opacity:0})})}var pe=le.select("circle").style({stroke:"grey",fill:"none"});$.on("mousemove.radial-guide",function(){var t=\u00b5.util.getMousePos(X).radius;pe.attr({r:t}).style({opacity:.5}),ie=n.invert(\u00b5.util.getMousePos(X).radius);var e=\u00b5.util.convertToCartesian(t,s.radialAxis.orientation);ue.text(\u00b5.util.round(ie)).move([e[0]+m[0],e[1]+m[1]])}).on("mouseout.radial-guide",function(){pe.style({opacity:0}),de.hide(),ce.hide(),ue.hide()}),e.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(t){var r=d3.select(this),n=r.style("fill"),o="black",a=r.style("opacity")||1;if(r.attr({"data-opacity":a}),"none"!=n){r.attr({"data-fill":n}),o=d3.hsl(n).darker().toString(),r.style({fill:o,opacity:1});var i={t:\u00b5.util.round(t[0]),r:\u00b5.util.round(t[1])};w&&(i.t=x[t[0]]);var l="t: "+i.t+", r: "+i.r,s=this.getBoundingClientRect(),c=e.node().getBoundingClientRect(),u=[s.left+s.width/2-R[0]-c.left,s.top+s.height/2-R[1]-c.top];de.config({color:o}).text(l),de.move(u)}else n=r.style("stroke"),r.attr({"data-stroke":n}),o=d3.hsl(n).darker().toString(),r.style({stroke:o,opacity:1})}).on("mousemove.tooltip",function(){return 0!=d3.event.which?!1:void(d3.select(this).attr("data-fill")&&de.show())}).on("mouseout.tooltip",function(){de.hide();var t=d3.select(this),e=t.attr("data-fill");t.style(e?{fill:e,opacity:t.attr("data-opacity")}:{stroke:t.attr("data-stroke"),opacity:t.attr("data-opacity")})})}),c}var e,r,n,o,a={data:[],layout:{}},i={},l={},s=d3.dispatch("hover"),c={};return c.render=function(e){return t(e),this},c.config=function(t){if(!arguments.length)return a;var e=\u00b5.util.cloneJson(t);return e.data.forEach(function(t,e){a.data[e]||(a.data[e]={}),\u00b5.util.deepExtend(a.data[e],\u00b5.Axis.defaultConfig().data[0]),\u00b5.util.deepExtend(a.data[e],t)}),\u00b5.util.deepExtend(a.layout,\u00b5.Axis.defaultConfig().layout),\u00b5.util.deepExtend(a.layout,e.layout),this},c.getLiveConfig=function(){return l},c.getinputConfig=function(){return i},c.radialScale=function(){return n},c.angularScale=function(){return o},c.svg=function(){return e},d3.rebind(c,s,"on"),c},\u00b5.Axis.defaultConfig=function(){var t={data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:d3.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}};return t},\u00b5.util={},\u00b5.DATAEXTENT="dataExtent",\u00b5.AREA="AreaChart",\u00b5.LINE="LinePlot",\u00b5.DOT="DotPlot",\u00b5.BAR="BarChart",\u00b5.util._override=function(t,e){for(var r in t)r in e&&(e[r]=t[r])},\u00b5.util._extend=function(t,e){for(var r in t)e[r]=t[r]},\u00b5.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},\u00b5.util.dataFromEquation2=function(t,e){var r=e||6,n=d3.range(0,360+r,r).map(function(e){var r=e*Math.PI/180,n=t(r);return[e,n]});return n},\u00b5.util.dataFromEquation=function(t,e,r){var n=e||6,o=[],a=[];d3.range(0,360+n,n).forEach(function(e){var r=e*Math.PI/180,n=t(r);o.push(e),a.push(n)});var i={t:o,r:a};return r&&(i.name=r),i},\u00b5.util.ensureArray=function(t,e){if("undefined"==typeof t)return null;var r=[].concat(t);return d3.range(e).map(function(t,e){return r[e]||r[0]})},\u00b5.util.fillArrays=function(t,e,r){return e.forEach(function(e){t[e]=\u00b5.util.ensureArray(t[e],r)}),t},\u00b5.util.cloneJson=function(t){return JSON.parse(JSON.stringify(t))},\u00b5.util.deepExtend=function(t,e){for(var r in e)e[r]&&e[r].constructor&&e[r].constructor===Object?(t[r]=t[r]||{},arguments.callee(t[r],e[r])):t[r]=e[r];return t},\u00b5.util.validateKeys=function(t,e){"string"==typeof e&&(e=e.split("."));var r=e.shift();return t[r]&&(!e.length||objHasKeys(t[r],e))},\u00b5.util.sumArrays=function(t,e){return d3.zip(t,e).map(function(t){return d3.sum(t)})},\u00b5.util.arrayLast=function(t){return t[t.length-1]},\u00b5.util.arrayEqual=function(t,e){for(var r=Math.max(t.length,e.length,1);r-->=0&&t[r]===e[r];);return-2===r},\u00b5.util.flattenArray=function(t){for(var e=[];!\u00b5.util.arrayEqual(e,t);)e=t,t=[].concat.apply([],t);return t},\u00b5.util.deduplicate=function(t){return t.filter(function(t,e,r){return r.indexOf(t)==e})},\u00b5.util.convertToCartesian=function(t,e){var r=e*Math.PI/180,n=t*Math.cos(r),o=t*Math.sin(r);return[n,o]},\u00b5.util.round=function(t,e){var r=e||2,n=Math.pow(10,r);return Math.round(t*n)/n},\u00b5.util.getMousePos=function(t){var e=d3.mouse(t.node()),r=e[0],n=e[1],o={};return o.x=r,o.y=n,o.pos=e,o.angle=180*(Math.atan2(n,r)+Math.PI)/Math.PI,o.radius=Math.sqrt(r*r+n*n),o},\u00b5.util.duplicatesCount=function(t){for(var e,r={},n={},o=0,a=t.length;a>o;o++)e=t[o],e in r?(r[e]++,n[e]=r[e]):r[e]=1;return n},\u00b5.util.duplicates=function(t){return Object.keys(\u00b5.util.duplicatesCount(t))},\u00b5.util.translator=function(t,e,r,n){if(n){var o=r.slice();r=e,e=o}var a=e.reduce(function(t,e){return"undefined"!=typeof t?t[e]:void 0},t);"undefined"!=typeof a&&(e.reduce(function(t,r,n){return"undefined"!=typeof t?(n===e.length-1&&delete t[r],t[r]):void 0},t),r.reduce(function(t,e,n){return"undefined"==typeof t[e]&&(t[e]={}),n===r.length-1&&(t[e]=a),t[e]},t))},\u00b5.PolyChart=function(){function t(){var t=r[0].geometryConfig,e=t.container;"string"==typeof e&&(e=d3.select(e)),e.datum(r).each(function(e){function r(e){var r=t.radialScale(e[1]),n=(t.angularScale(e[0])+t.orientation)*Math.PI/180;return{r:r,t:n}}function n(t){var e=t.r*Math.cos(t.t),r=t.r*Math.sin(t.t);return{x:e,y:r}}var a=!!e[0].data.yStack,i=e.map(function(t){return a?d3.zip(t.data.t[0],t.data.r[0],t.data.yStack[0]):d3.zip(t.data.t[0],t.data.r[0])}),l=t.angularScale,s=t.radialScale.domain()[0],c={};c.bar=function(r,n,o){var a=e[o].data,i=t.radialScale(r[1])-t.radialScale(0),s=t.radialScale(r[2]||0),c=a.barWidth;d3.select(this).attr({"class":"mark bar",d:"M"+[[i+s,-c/2],[i+s,c/2],[s,c/2],[s,-c/2]].join("L")+"Z",transform:function(e){return"rotate("+(t.orientation+l(e[0]))+")"}})},c.dot=function(t,o,a){var i=t[2]?[t[0],t[1]+t[2]]:t,l=d3.svg.symbol().size(e[a].data.dotSize).type(e[a].data.dotType)(t,o);d3.select(this).attr({"class":"mark dot",d:l,transform:function(){var t=n(r(i));return"translate("+[t.x,t.y]+")"}})};var u=d3.svg.line.radial().interpolate(e[0].data.lineInterpolation).radius(function(e){return t.radialScale(e[1])}).angle(function(e){return t.angularScale(e[0])*Math.PI/180});c.line=function(r,n,o){var a=r[2]?i[o].map(function(t){return[t[0],t[1]+t[2]]}):i[o];if(d3.select(this).each(c.dot).style({opacity:function(){return+e[o].data.dotVisible},fill:y.stroke(r,n,o)}).attr({"class":"mark dot"}),!(n>0)){var l=d3.select(this.parentNode).selectAll("path.line").data([0]);l.enter().insert("path"),l.attr({"class":"line",d:u(a),transform:function(){return"rotate("+(t.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(){return y.fill(r,n,o)},"fill-opacity":0,stroke:function(){return y.stroke(r,n,o)},"stroke-width":function(){return y["stroke-width"](r,n,o)},"stroke-dasharray":function(){return y["stroke-dasharray"](r,n,o)},opacity:function(){return y.opacity(r,n,o)},display:function(){return y.display(r,n,o)}})}};var d=t.angularScale.range(),f=Math.abs(d[1]-d[0])/i[0].length*Math.PI/180,p=d3.svg.arc().startAngle(function(){return-f/2}).endAngle(function(){return f/2}).innerRadius(function(e){return t.radialScale(s+(e[2]||0))}).outerRadius(function(e){return t.radialScale(s+(e[2]||0))+t.radialScale(e[1])});c.arc=function(){d3.select(this).attr({"class":"mark arc",d:p,transform:function(e){return"rotate("+(t.orientation+l(e[0])+90)+")"}})};var y={fill:function(t,r,n){return e[n].data.color},stroke:function(t,r,n){return e[n].data.strokeColor},"stroke-width":function(t,r,n){return e[n].data.strokeSize+"px"},"stroke-dasharray":function(t,r,n){return o[e[n].data.strokeDash]},opacity:function(t,r,n){return e[n].data.opacity},display:function(t,r,n){return"undefined"==typeof e[n].data.visible||e[n].data.visible?"block":"none"}},h=d3.select(this).selectAll("g.layer").data(i);h.enter().append("g").attr({"class":"layer"});var g=h.selectAll("path.mark").data(function(t){return t});g.enter().append("path").attr({"class":"mark"}),g.style(y).each(c[t.geometryType]),g.exit().remove(),h.exit().remove()})}var e,r=[\u00b5.PolyChart.defaultConfig()],n=d3.dispatch("hover"),o={solid:"none",dash:[5,2],dot:[2,5]};return t.config=function(t){return arguments.length?(t.forEach(function(t,e){r[e]||(r[e]={}),\u00b5.util.deepExtend(r[e],\u00b5.PolyChart.defaultConfig()),\u00b5.util.deepExtend(r[e],t)}),this):r},t.getColorScale=function(){return e},d3.rebind(t,n,"on"),t},\u00b5.PolyChart.defaultConfig=function(){var t={data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:d3.scale.category20()}};return t},\u00b5.BarChart=function(){return \u00b5.PolyChart()},\u00b5.BarChart.defaultConfig=function(){var t={geometryConfig:{geometryType:"bar"}};return t},\u00b5.AreaChart=function(){return \u00b5.PolyChart()},\u00b5.AreaChart.defaultConfig=function(){var t={geometryConfig:{geometryType:"arc"}};return t},\u00b5.DotPlot=function(){return \u00b5.PolyChart()},\u00b5.DotPlot.defaultConfig=function(){var t={geometryConfig:{geometryType:"dot",dotType:"circle"}};return t},\u00b5.LinePlot=function(){return \u00b5.PolyChart()},\u00b5.LinePlot.defaultConfig=function(){var t={geometryConfig:{geometryType:"line"}};return t},\u00b5.Legend=function(){function t(){var r=e.legendConfig,n=e.data.map(function(t,e){return[].concat(t).map(function(t,n){var o=\u00b5.util.deepExtend({},r.elements[e]);return o.name=t,o.color=[].concat(r.elements[e].color)[n],o})}),o=d3.merge(n);o=o.filter(function(t,e){return r.elements[e]&&(r.elements[e].visibleInLegend||"undefined"==typeof r.elements[e].visibleInLegend)}),r.reverseOrder&&(o=o.reverse());var a=r.container;("string"==typeof a||a.nodeName)&&(a=d3.select(a));var i=o.map(function(t){return t.color}),l=r.fontSize,s=null==r.isContinuous?"number"==typeof o[0]:r.isContinuous,c=s?r.height:l*o.length,u=a.classed("legend-group",!0),d=u.selectAll("svg").data([0]),f=d.enter().append("svg").attr({width:300,height:c+l,xmlns:"http://www.w3.org/2000/svg","xmlns:xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});f.append("g").classed("legend-axis",!0),f.append("g").classed("legend-marks",!0);var p=d3.range(o.length),y=d3.scale[s?"linear":"ordinal"]().domain(p).range(i),h=d3.scale[s?"linear":"ordinal"]().domain(p)[s?"range":"rangePoints"]([0,c]),g=function(t,e){var r=3*e;return"line"===t?"M"+[[-e/2,-e/12],[e/2,-e/12],[e/2,e/12],[-e/2,e/12]]+"Z":-1!=d3.svg.symbolTypes.indexOf(t)?d3.svg.symbol().type(t).size(r)():d3.svg.symbol().type("square").size(r)()};if(s){var m=d.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(i);m.enter().append("stop"),m.attr({offset:function(t,e){return e/(i.length-1)*100+"%"}}).style({"stop-color":function(t){return t}}),d.append("rect").classed("legend-mark",!0).attr({height:r.height,width:r.colorBandWidth,fill:"url(#grad1)"})}else{var v=d.select(".legend-marks").selectAll("path.legend-mark").data(o);v.enter().append("path").classed("legend-mark",!0),v.attr({transform:function(t,e){return"translate("+[l/2,h(e)+l/2]+")"},d:function(t){var e=t.symbol;return g(e,l)},fill:function(t,e){return y(e)}}),v.exit().remove()}var x=d3.svg.axis().scale(h).orient("right"),b=d.select("g.legend-axis").attr({transform:"translate("+[s?r.colorBandWidth:l,l/2]+")"}).call(x);return b.selectAll(".domain").style({fill:"none",stroke:"none"}),b.selectAll("line").style({fill:"none",stroke:s?r.textColor:"none"}),b.selectAll("text").style({fill:r.textColor,"font-size":r.fontSize}).text(function(t,e){return o[e].name}),t}var e=\u00b5.Legend.defaultConfig(),r=d3.dispatch("hover");return t.config=function(t){return arguments.length?(\u00b5.util.deepExtend(e,t),this):e},d3.rebind(t,r,"on"),t},\u00b5.Legend.defaultConfig=function(){var t={data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}};return t},\u00b5.tooltipPanel=function(){var t,e,r,n={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},o="tooltip-"+\u00b5.tooltipPanel.uid++,a=10,i=function(){t=n.container.selectAll("g."+o).data([0]);var l=t.enter().append("g").classed(o,!0).style({"pointer-events":"none",display:"none"});return r=l.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),e=l.append("text").attr({dx:n.padding+a,dy:.3*+n.fontSize}),i};return i.text=function(o){var l=d3.hsl(n.color).l,s=l>=.5?"#aaa":"white",c=l>=.5?"black":"white",u=o||"";e.style({fill:c,"font-size":n.fontSize+"px"}).text(u);var d=n.padding,f=e.node().getBBox(),p={fill:n.color,stroke:s,"stroke-width":"2px"},y=f.width+2*d+a,h=f.height+2*d;return r.attr({d:"M"+[[a,-h/2],[a,-h/4],[n.hasTick?0:a,0],[a,h/4],[a,h/2],[y,h/2],[y,-h/2]].join("L")+"Z"}).style(p),t.attr({transform:"translate("+[a,-h/2+2*d]+")"}),t.style({display:"block"}),i},i.move=function(e){return t?(t.attr({transform:"translate("+[e[0],e[1]]+")"}).style({display:"block"}),i):void 0},i.hide=function(){return t?(t.style({display:"none"}),i):void 0},i.show=function(){return t?(t.style({display:"block"}),i):void 0},i.config=function(t){return \u00b5.util.deepExtend(n,t),i},i},\u00b5.tooltipPanel.uid=1,\u00b5.adapter={},\u00b5.adapter.plotly=function(){var t={};return t.convert=function(t,e){var r={};if(t.data&&(r.data=t.data.map(function(t){var r=\u00b5.util.deepExtend({},t),n=[[r,["marker","color"],["color"]],[r,["marker","opacity"],["opacity"]],[r,["marker","line","color"],["strokeColor"]],[r,["marker","line","dash"],["strokeDash"]],[r,["marker","line","width"],["strokeSize"]],[r,["marker","symbol"],["dotType"]],[r,["marker","size"],["dotSize"]],[r,["marker","barWidth"],["barWidth"]],[r,["line","interpolation"],["lineInterpolation"]],[r,["showlegend"],["visibleInLegend"]]];return n.forEach(function(t){\u00b5.util.translator.apply(null,t.concat(e))}),e||delete r.marker,e&&delete r.groupId,e?("LinePlot"===r.geometry?(r.type="scatter",r.dotVisible===!0?(delete r.dotVisible,r.mode="lines+markers"):r.mode="lines"):"DotPlot"===r.geometry?(r.type="scatter",r.mode="markers"):"AreaChart"===r.geometry?r.type="area":"BarChart"===r.geometry&&(r.type="bar"),delete r.geometry):("scatter"===r.type?"lines"===r.mode?r.geometry="LinePlot":"markers"===r.mode?r.geometry="DotPlot":"lines+markers"===r.mode&&(r.geometry="LinePlot",r.dotVisible=!0):"area"===r.type?r.geometry="AreaChart":"bar"===r.type&&(r.geometry="BarChart"),delete r.mode,delete r.type),r}),!e&&t.layout&&"stack"===t.layout.barmode)){var n=\u00b5.util.duplicates(r.data.map(function(t){return t.geometry}));r.data.forEach(function(t,e){var o=n.indexOf(t.geometry);-1!=o&&(r.data[e].groupId=o)})}if(t.layout){var o=\u00b5.util.deepExtend({},t.layout),a=[[o,["plot_bgcolor"],["backgroundColor"]],[o,["showlegend"],["showLegend"]],[o,["radialaxis"],["radialAxis"]],[o,["angularaxis"],["angularAxis"]],[o.angularaxis,["showline"],["gridLinesVisible"]],[o.angularaxis,["showticklabels"],["labelsVisible"]],[o.angularaxis,["nticks"],["ticksCount"]],[o.angularaxis,["tickorientation"],["tickOrientation"]],[o.angularaxis,["ticksuffix"],["ticksSuffix"]],[o.angularaxis,["range"],["domain"]],[o.angularaxis,["endpadding"],["endPadding"]],[o.radialaxis,["showline"],["gridLinesVisible"]],[o.radialaxis,["tickorientation"],["tickOrientation"]],[o.radialaxis,["ticksuffix"],["ticksSuffix"]],[o.radialaxis,["range"],["domain"]],[o.angularAxis,["showline"],["gridLinesVisible"]],[o.angularAxis,["showticklabels"],["labelsVisible"]],[o.angularAxis,["nticks"],["ticksCount"]],[o.angularAxis,["tickorientation"],["tickOrientation"]],[o.angularAxis,["ticksuffix"],["ticksSuffix"]],[o.angularAxis,["range"],["domain"]],[o.angularAxis,["endpadding"],["endPadding"]],[o.radialAxis,["showline"],["gridLinesVisible"]],[o.radialAxis,["tickorientation"],["tickOrientation"]],[o.radialAxis,["ticksuffix"],["ticksSuffix"]],[o.radialAxis,["range"],["domain"]],[o.font,["outlinecolor"],["outlineColor"]],[o.legend,["traceorder"],["reverseOrder"]],[o,["labeloffset"],["labelOffset"]],[o,["defaultcolorrange"],["defaultColorRange"]]];if(a.forEach(function(t){\u00b5.util.translator.apply(null,t.concat(e))}),e?("undefined"!=typeof o.tickLength&&(o.angularaxis.ticklen=o.tickLength,delete o.tickLength),o.tickColor&&(o.angularaxis.tickcolor=o.tickColor,delete o.tickColor)):(o.angularAxis&&"undefined"!=typeof o.angularAxis.ticklen&&(o.tickLength=o.angularAxis.ticklen),o.angularAxis&&"undefined"!=typeof o.angularAxis.tickcolor&&(o.tickColor=o.angularAxis.tickcolor)),o.legend&&"boolean"!=typeof o.legend.reverseOrder&&(o.legend.reverseOrder="normal"!=o.legend.reverseOrder),o.legend&&"boolean"==typeof o.legend.traceorder&&(o.legend.traceorder=o.legend.traceorder?"reversed":"normal",delete o.legend.reverseOrder),o.margin&&"undefined"!=typeof o.margin.t){var i=["t","r","b","l","pad"],l=["top","right","bottom","left","pad"],s={};d3.entries(o.margin).forEach(function(t){s[l[i.indexOf(t.key)]]=t.value}),o.margin=s}e&&(delete o.needsEndSpacing,delete o.minorTickColor,delete o.minorTicks,delete o.angularaxis.ticksCount,delete o.angularaxis.ticksCount,delete o.angularaxis.ticksStep,delete o.angularaxis.rewriteTicks,delete o.angularaxis.nticks,delete o.radialaxis.ticksCount,delete o.radialaxis.ticksCount,delete o.radialaxis.ticksStep,delete o.radialaxis.rewriteTicks,delete o.radialaxis.nticks),r.layout=o}return r},t},micropolar.manager={},micropolar.manager.framework=function(){function t(t,r){return r&&(a=r),d3.select(d3.select(a).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),e=e?micropolar.util.deepExtend(e,t):t,n||(n=micropolar.Axis()),o=micropolar.adapter.plotly().convert(e),n.config(o).render(a),e}var e,r,n,o,a,i=new Plotly.util.UndoManager;return t.isPolar=!0,t.svg=function(){return n.svg()},t.getConfig=function(){return e},t.getLiveConfig=function(){return micropolar.adapter.plotly().convert(n.getLiveConfig(),!0)},t.getLiveScales=function(){return{t:n.angularScale(),r:n.radialScale()}},t.setUndoPoint=function(){var t=this,n=\u00b5.util.cloneJson(e);!function(e,r){i.add({undo:function(){r&&t(r)},redo:function(){t(e)}})}(n,r),r=\u00b5.util.cloneJson(n)},t.undo=function(){i.undo()},t.redo=function(){i.redo()},t},!function(){var t,e,r,n;!function(){var o={},a={};t=function(t,e,r){o[t]={deps:e,callback:r}},n=r=e=function(t){function r(e){if("."!==e.charAt(0))return e;for(var r=e.split("/"),n=t.split("/").slice(0,-1),o=0,a=r.length;a>o;o++){var i=r[o];if(".."===i)n.pop();else{if("."===i)continue;n.push(i)}}return n.join("/")}if(n._eak_seen=o,a[t])return a[t];if(a[t]={},!o[t])throw new Error("Could not find module "+t);for(var i,l=o[t],s=l.deps,c=l.callback,u=[],d=0,f=s.length;f>d;d++)u.push("exports"===s[d]?i={}:e(r(s[d])));var p=c.apply(this,u);return a[t]=i||p}}(),t("promise/all",["./utils","exports"],function(t,e){"use strict";function r(t){var e=this;if(!n(t))throw new TypeError("You must pass an array to all.");return new e(function(e,r){function n(t){return function(e){a(t,e)}}function a(t,r){l[t]=r,0===--s&&e(l)}var i,l=[],s=t.length;0===s&&e([]);for(var c=0;c<t.length;c++)i=t[c],i&&o(i.then)?i.then(n(c),r):a(c,i)})}var n=t.isArray,o=t.isFunction;e.all=r}),t("promise/asap",["exports"],function(t){"use strict";function e(){return function(){process.nextTick(o)}}function r(){var t=0,e=new s(o),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}function n(){return function(){c.setTimeout(o,1)}}function o(){for(var t=0;t<u.length;t++){var e=u[t],r=e[0],n=e[1];r(n)}u=[]}function a(t,e){var r=u.push([t,e]);1===r&&i()}var i,l="undefined"!=typeof window?window:{},s=l.MutationObserver||l.WebKitMutationObserver,c="undefined"!=typeof global?global:void 0===this?window:this,u=[];i="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?e():s?r():n(),t.asap=a}),t("promise/config",["exports"],function(t){"use strict";function e(t,e){return 2!==arguments.length?r[t]:void(r[t]=e)}var r={instrument:!1};t.config=r,t.configure=e}),t("promise/polyfill",["./promise","./utils","exports"],function(t,e,r){"use strict";function n(){var t;t="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var e="Promise"in t&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise(function(t){e=t}),a(e)}();e||(t.Promise=o)}var o=t.Promise,a=e.isFunction;r.polyfill=n}),t("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(t,e,r,n,o,a,i,l){"use strict";function s(t){if(!w(t))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof s))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],c(t,this)}function c(t,e){function r(t){y(e,t)}function n(t){g(e,t)}try{t(r,n)}catch(o){n(o)}}function u(t,e,r,n){var o,a,i,l,s=w(r);if(s)try{o=r(n),i=!0}catch(c){l=!0,a=c}else o=n,i=!0;p(e,o)||(s&&i?y(e,o):l?g(e,a):t===C?y(e,o):t===S&&g(e,o))}function d(t,e,r,n){var o=t._subscribers,a=o.length;o[a]=e,o[a+C]=r,o[a+S]=n}function f(t,e){for(var r,n,o=t._subscribers,a=t._detail,i=0;i<o.length;i+=3)r=o[i],n=o[i+e],u(e,r,n,a);t._subscribers=null}function p(t,e){var r,n=null;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(b(e)&&(n=e.then,w(n)))return n.call(e,function(n){return r?!0:(r=!0,void(e!==n?y(t,n):h(t,n)))},function(e){return r?!0:(r=!0,void g(t,e))}),!0}catch(o){return r?!0:(g(t,o),!0)}return!1}function y(t,e){t===e?h(t,e):p(t,e)||h(t,e)}function h(t,e){t._state===A&&(t._state=z,t._detail=e,x.async(m,t))}function g(t,e){t._state===A&&(t._state=z,t._detail=e,x.async(v,t))}function m(t){f(t,t._state=C)}function v(t){f(t,t._state=S)}var x=t.config,b=(t.configure,e.objectOrFunction),w=e.isFunction,P=(e.now,r.all),k=n.race,_=o.resolve,M=a.reject,L=i.asap;x.async=L;var A=void 0,z=0,C=1,S=2;s.prototype={constructor:s,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(t,e){var r=this,n=new this.constructor(function(){});if(this._state){var o=arguments;x.async(function(){u(r._state,n,o[r._state-1],r._detail)})}else d(this,n,t,e);return n},"catch":function(t){return this.then(null,t)}},s.all=P,s.race=k,s.resolve=_,s.reject=M,l.Promise=s}),t("promise/race",["./utils","exports"],function(t,e){"use strict";function r(t){var e=this;if(!n(t))throw new TypeError("You must pass an array to race.");return new e(function(e,r){for(var n,o=0;o<t.length;o++)n=t[o],n&&"function"==typeof n.then?n.then(e,r):e(n)})}var n=t.isArray;e.race=r}),t("promise/reject",["exports"],function(t){"use strict";function e(t){var e=this;return new e(function(e,r){r(t)})}t.reject=e}),t("promise/resolve",["exports"],function(t){"use strict";function e(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=this;return new e(function(e){e(t)})}t.resolve=e}),t("promise/utils",["exports"],function(t){"use strict";function e(t){return r(t)||"object"==typeof t&&null!==t}function r(t){return"function"==typeof t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}var o=Date.now||function(){return(new Date).getTime()};t.objectOrFunction=e,t.isFunction=r,t.isArray=n,t.now=o}),e("promise/polyfill").polyfill()}(),Promise.prototype.done||(Promise.prototype.done=function(t,e){this.then(t,e).then(null,function(t){setTimeout(function(){throw t},0)})});
Plotly.BUILD="20150115a";
